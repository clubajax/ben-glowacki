/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.6 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

/**
 * Copyright (c) 2007-2013 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * @author Ariel Flesler
 * @version 1.4.6
 */

/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */

/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */

/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */

/*
 RequireJS text 1.0.8 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/

/*!
	 * jQuery resize event - v1.1 - 3/14/2010
	 * http://benalman.com/projects/jquery-resize-plugin/
	 * 
	 * Copyright (c) 2010 "Cowboy" Ben Alman
	 * Dual licensed under the MIT and GPL licenses.
	 * http://benalman.com/about/license/
	 */

// Copyright (c) 2010 "Cowboy" Ben Alman,

// Dual licensed under the MIT and GPL licenses.

// http://benalman.com/about/license/

/*!

	    Copyright (c) 2011 Peter van der Spek

	    Permission is hereby granted, free of charge, to any person obtaining a copy
	    of this software and associated documentation files (the "Software"), to deal
	    in the Software without restriction, including without limitation the rights
	    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	    copies of the Software, and to permit persons to whom the Software is
	    furnished to do so, subject to the following conditions:

	    The above copyright notice and this permission notice shall be included in
	    all copies or substantial portions of the Software.

	    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	    THE SOFTWARE.

	 */

/* ========================================================
	 * bootstrap-tab.js v2.3.2
	 * http://twitter.github.com/bootstrap/javascript.html#tabs
	 * ========================================================
	 * Copyright 2012 Twitter, Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 * ======================================================== */

/**
 * BxSlider v4.1 - Fully loaded, responsive content slider
 * http://bxslider.com
 *
 * Copyright 2012, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com
 * Written while drinking Belgian ales and listening to jazz
 *
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 */

/**
* simplePagination.js v1.5
* A simple jQuery pagination plugin.
* http://flaviusmatis.github.com/simplePagination.js/
*
* Copyright 2012, Flavius Matis
* Released under the MIT license.
* http://flaviusmatis.github.com/license.html
*/

/*
 
 bootpag - jQuery plugin for dynamic pagination

 Copyright (c) 2013 botmonster@7items.com

 Licensed under the MIT license:
   http://www.opensource.org/licenses/mit-license.php

 Project home:
   http://botmonster.com/jquery-bootpag/

 Version:  1.0.4

*/

var Ndn_Require;!function(){if(!Ndn_Require||!Ndn_Require.requirejs){Ndn_Require?require=Ndn_Require:Ndn_Require={};var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,a){(n||!hasProp(e,a))&&(i&&"string"!=typeof t?(e[a]||(e[a]={}),mixin(e[a],t,n,i)):e[a]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var a=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return a.requireType=e,a.requireModules=i,n&&(a.originalError=n),a}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var a,r,o,s,l,d,u,c,p,h,m,f=n&&n.split("/"),g=f,y=E.map,v=y&&y["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(E.pkgs,n)?f=[n]:f.slice(0,f.length-1),e=g.concat(e.split("/")),t(e),r=getOwn(E.pkgs,a=e[0]),e=e.join("/"),r&&e===a+"/"+r.main&&(e=a)):0===e.indexOf("./")&&(e=e.substring(2))),i&&y&&(f||v)){for(s=e.split("/"),l=s.length;l>0;l-=1){if(u=s.slice(0,l).join("/"),f)for(d=f.length;d>0;d-=1)if(o=getOwn(y,f.slice(0,d).join("/")),o&&(o=getOwn(o,u))){c=o,p=l;break}if(c)break;!h&&v&&getOwn(v,u)&&(h=getOwn(v,u),m=l)}!c&&h&&(c=h,p=m),c&&(s.splice(0,p,c),e=s.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===A.contextName?(t.parentNode.removeChild(t),!0):void 0})}function a(e){var t=getOwn(E.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),A.require.undef(e),A.require([e]),!0):void 0}function r(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,i,a){var o,s,l,d,u=null,c=t?t.name:null,p=e,h=!0,m="";return e||(h=!1,e="_@r"+(w+=1)),d=r(e),u=d[0],e=d[1],u&&(u=n(u,c,a),s=getOwn(S,u)),e&&(u?m=s&&s.normalize?s.normalize(e,function(e){return n(e,c,a)}):n(e,c,a):(m=n(e,c,a),d=r(m),u=d[0],m=d[1],i=!0,o=A.nameToUrl(m))),l=!u||s||i?"":"_unnormalized"+(M+=1),{prefix:u,name:m,parentMap:t,unnormalized:!!l,url:o,originalName:p,isDefine:h,id:(u?u+"!"+m:m)+l}}function s(e){var t=e.id,n=getOwn(P,t);return n||(n=P[t]=new A.Module(e)),n}function l(e,t,n){var i=e.id,a=getOwn(P,i);!hasProp(S,i)||a&&!a.defineEmitComplete?(a=s(e),a.error&&"error"===t?n(a.error):a.on(t,n)):"defined"===t&&n(S[i])}function d(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(P,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(N,[N.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function c(e){delete P[e],delete x[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,a){var r=i.id,o=getOwn(P,r);!o||e.depMatched[a]||n[r]||(getOwn(t,r)?(e.defineDep(a,S[r]),e.check()):p(o,t,n))}),n[i]=!0)}function h(){var e,t,n,r,o=1e3*E.waitSeconds,s=o&&A.startTime+o<(new Date).getTime(),l=[],u=[],c=!1,m=!0;if(!v){if(v=!0,eachProp(x,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||u.push(n),!n.error))if(!n.inited&&s)a(t)?(r=!0,c=!0):(l.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(c=!0,!e.prefix))return m=!1}),s&&l.length)return n=makeError("timeout","Load timeout for modules: "+l,null,l),n.contextName=A.contextName,d(n);m&&each(u,function(e){p(e,{},{})}),s&&!r||!c||!isBrowser&&!isWebWorker||b||(b=setTimeout(function(){b=0,h()},50)),v=!1}}function m(e){hasProp(S,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function f(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return f(t,A.onScriptLoad,"load","onreadystatechange"),f(t,A.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function y(){var e;for(u();N.length;){if(e=N.shift(),null===e[0])return d(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));m(e)}}var v,_,A,C,b,E={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},P={},x={},k={},N=[],S={},T={},w=1,M=1;return C={require:function(e){return e.require?e.require:e.require=A.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=S[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(E.pkgs,e.map.id);return t=n?getOwn(E.config,e.map.id+"/"+n.main):getOwn(E.config,e.map.id),t||{}},exports:S[e.map.id]}}},_=function(e){this.events=getOwn(k,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},_.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,A.startTime=(new Date).getTime();var e=this.map;return this.shim?(A.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,A.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,a=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=A.execCb(n,r,i,a)}catch(o){e=o}else a=A.execCb(n,r,i,a);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?a=t.exports:void 0===a&&this.usingExports&&(a=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",d(this.error=e)}else a=r;this.exports=a,this.map.isDefine&&!this.ignore&&(S[n]=a,req.onResourceLoad&&req.onResourceLoad(A,this.map,this.depMaps)),c(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=o(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var a,r,u,p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=A.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,h,!0)})||""),r=o(e.prefix+"!"+p,this.map.parentMap),l(r,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(P,r.id),u&&(this.depMaps.push(r),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()),void 0):(a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),a.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(P,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&c(e.map.id)}),d(e)}),a.fromText=bind(this,function(n,i){var r=e.name,l=o(r),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),s(l),hasProp(E.config,t)&&(E.config[r]=E.config[t]);try{req.exec(n)}catch(c){return d(makeError("fromtexteval","fromText eval for "+t+" failed: "+c,c,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),A.completeLoad(r),m([r],a)}),i.load(e.name,m,a,E),void 0)})),A.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){x[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,a;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,a=getOwn(C,e.id))return this.depExports[t]=a(this),void 0;this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,i=P[n],hasProp(C,n)||!i||i.enabled||A.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(P,e.id);t&&!t.enabled&&A.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},A={config:E,contextName:e,registry:P,defined:S,urlFetched:T,defQueue:N,Module:_,makeModuleMap:o,nextTick:req.nextTick,onError:d,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=E.pkgs,n=E.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(E.map||(E.map={}),mixin(E[t],e,!0,!0)):mixin(E[t],e,!0):E[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=A.makeShimExports(e)),n[t]=e}),E.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),E.pkgs=t),eachProp(P,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&A.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function a(n,r,l){var u,c,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?d(makeError("requireargs","Invalid require call"),l):t&&hasProp(C,n)?C[n](P[t.id]):req.get?req.get(A,n,t,a):(c=o(n,t,!1,!0),u=c.id,hasProp(S,u)?S[u]:d(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(y(),A.nextTick(function(){y(),p=s(o(null,t)),p.skipMap=i.skipMap,p.init(n,r,l,{enabled:!0}),h()}),a)}return i=i||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var i,a=e.lastIndexOf("."),r=e.split("/")[0],o="."===r||".."===r;return-1!==a&&(!o||a>1)&&(i=e.substring(a,e.length),e=e.substring(0,a)),A.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(S,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(S,e)||hasProp(P,e)}}),t||(a.undef=function(e){u();var n=o(e,t,!0),i=getOwn(P,e);delete S[e],delete T[n.url],delete k[e],i&&(i.events.defined&&(k[e]=i.events),c(e))}),a},enable:function(e){var t=getOwn(P,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,i,r=getOwn(E.shim,e)||{},o=r.exports;for(u();N.length;){if(n=N.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);m(n)}if(i=getOwn(P,e),!t&&!hasProp(S,e)&&i&&!i.inited){if(!(!E.enforceDefine||o&&getGlobal(o)))return a(e)?void 0:d(makeError("nodefine","No define call for "+e,null,[e]));m([e,r.deps||[],r.exportsFn])}h()},nameToUrl:function(e,t,n){var i,a,r,o,s,l,d,u,c;if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(i=E.paths,a=E.pkgs,s=e.split("/"),l=s.length;l>0;l-=1){if(d=s.slice(0,l).join("/"),r=getOwn(a,d),c=getOwn(i,d)){isArray(c)&&(c=c[0]),s.splice(0,l,c);break}if(r){o=e===r.name?r.location+"/"+r.main:r.location,s.splice(0,l,o);break}}u=s.join("/"),u+=t||(/\?/.test(u)||n?"":".js"),u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+u}return E.urlArgs?u+((-1===u.indexOf("?")?"?":"&")+E.urlArgs):u},load:function(e,t){req.load(A,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);A.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return a(t.id)?void 0:d(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},A.require=A.makeRequire(),A}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.6",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var a,r,o=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=n,n=i):e=[]),r&&r.context&&(o=r.context),a=getOwn(contexts,o),a||(a=contexts[o]=req.s.newContext(o)),r&&a.configure(r),a.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.load=function(e,t,n){var i,a=e&&e.config||{};if(isBrowser)return i=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=a.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,a;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),a=contexts[i.getAttribute("data-requirecontext")])),(a?a.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),Ndn_Require.requirejs=requirejs,Ndn_Require.require=require,Ndn_Require.define=define}}(),Ndn_Require.define("requireLib",function(){});var _nw2e=_nw2e||[];_nw2e.appUrl="http://launch.newsinc.com/11",Ndn_Require.define("appurl",function(){}),function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Et[e]={};return lt.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function a(e,n,i,a){if(lt.acceptData(e)){var r,o,s=lt.expando,l="string"==typeof n,d=e.nodeType,u=d?lt.cache:e,c=d?e[s]:e[s]&&s;if(c&&u[c]&&(a||u[c].data)||!l||i!==t)return c||(d?e[s]=c=Z.pop()||lt.guid++:c=s),u[c]||(u[c]={},d||(u[c].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(a?u[c]=lt.extend(u[c],n):u[c].data=lt.extend(u[c].data,n)),r=u[c],a||(r.data||(r.data={}),r=r.data),i!==t&&(r[lt.camelCase(n)]=i),l?(o=r[n],null==o&&(o=r[lt.camelCase(n)])):o=r,o}}function r(e,t,n){if(lt.acceptData(e)){var i,a,r,o=e.nodeType,l=o?lt.cache:e,d=o?e[lt.expando]:lt.expando;if(l[d]){if(t&&(r=n?l[d]:l[d].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in r?t=[t]:(t=lt.camelCase(t),t=t in r?[t]:t.split(" "));for(i=0,a=t.length;a>i;i++)delete r[t[i]];if(!(n?s:lt.isEmptyObject)(r))return}(n||(delete l[d].data,s(l[d])))&&(o?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[d]:l[d]=null)}}}function o(e,n,i){if(i===t&&1===e.nodeType){var a="data-"+n.replace(xt,"-$1").toLowerCase();if(i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Pt.test(i)?lt.parseJSON(i):i}catch(r){}lt.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function d(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var a=!!t.call(e,i,e);return a===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(jt.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function p(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function m(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function f(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,a,r=lt._data(e),o=lt._data(t,r),s=r.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,a=s[n].length;a>i;i++)lt.event.add(t,n,s[n][i])}o.data&&(o.data=lt.extend({},o.data))}}function v(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){a=lt._data(t);for(i in a.events)lt.removeEvent(t,i,a.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,f(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(e,n){var i,a,r=0,o=typeof e.getElementsByTagName!==$?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==$?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],i=e.childNodes||e;null!=(a=i[r]);r++)!n||lt.nodeName(a,n)?o.push(a):lt.merge(o,_(a,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],o):o}function A(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function C(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=xn.length;a--;)if(t=xn[a]+n,t in e)return t;return i}function b(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function E(e,t){for(var n,i,a,r=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(r[o]=lt._data(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(r[o]=lt._data(i,"olddisplay",N(i.nodeName)))):r[o]||(a=b(i),(n&&"none"!==n||!a)&&lt._data(i,"olddisplay",a?n:lt.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function P(e,t,n){var i=vn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function x(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=lt.css(e,n+Pn[r],!0,a)),i?("content"===n&&(o-=lt.css(e,"padding"+Pn[r],!0,a)),"margin"!==n&&(o-=lt.css(e,"border"+Pn[r]+"Width",!0,a))):(o+=lt.css(e,"padding"+Pn[r],!0,a),"padding"!==n&&(o+=lt.css(e,"border"+Pn[r]+"Width",!0,a)));return o}function k(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=cn(e),o=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=pn(e,t,r),(0>a||null==a)&&(a=e.style[t]),_n.test(a))return a;i=o&&(lt.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+x(e,t,n||(o?"border":"content"),i,r)+"px"}function N(e){var t=Y,n=Cn[e];return n||(n=S(e,t),"none"!==n&&n||(un=(un||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=S(e,t),un.detach()),Cn[e]=n),n}function S(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function T(e,t,n,i){var a;if(lt.isArray(t))lt.each(t,function(t,a){n||Nn.test(e)?i(e,a):T(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(a in t)T(e+"["+a+"]",t[a],n,i)}function w(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(ut)||[];if(lt.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function a(s){var l;return r[s]=!0,lt.each(e[s]||[],function(e,s){var d=s(t,n,i);return"string"!=typeof d||o||r[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),a(d),!1)}),l}var r={},o=e===Gn;return a(t.dataTypes[0])||!r["*"]&&a("*")}function I(e,n){var i,a,r=lt.ajaxSettings.flatOptions||{};for(a in n)n[a]!==t&&((r[a]?e:i||(i={}))[a]=n[a]);return i&&lt.extend(!0,e,i),e}function D(e,n,i){var a,r,o,s,l=e.contents,d=e.dataTypes,u=e.responseFields;for(s in u)s in i&&(n[u[s]]=i[s]);for(;"*"===d[0];)d.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){d.unshift(s);break}if(d[0]in i)o=d[0];else{for(s in i){if(!d[0]||e.converters[s+" "+d[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==d[0]&&d.unshift(o),i[o]):void 0}function L(e,t){var n,i,a,r,o={},s=0,l=e.dataTypes.slice(),d=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(a in e.converters)o[a.toLowerCase()]=e.converters[a];for(;i=l[++s];)if("*"!==i){if("*"!==d&&d!==i){if(a=o[d+" "+i]||o["* "+i],!a)for(n in o)if(r=n.split(" "),r[1]===i&&(a=o[d+" "+r[0]]||o["* "+r[0]])){a===!0?a=o[n]:o[n]!==!0&&(i=r[0],l.splice(s--,0,i));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+d+" to "+i}}}d=i}return{state:"success",data:t}}function R(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function U(e,t){lt.each(t,function(t,n){for(var i=(ri[t]||[]).concat(ri["*"]),a=0,r=i.length;r>a;a++)if(i[a].call(e,t,n))return})}function F(e,t,n){var i,a,r=0,o=ai.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Zn||V(),n=Math.max(0,d.startTime+d.duration-t),i=n/d.duration||0,r=1-i,o=0,l=d.tweens.length;l>o;o++)d.tweens[o].run(r);return s.notifyWith(e,[d,r,n]),1>r&&l?n:(s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||V(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(i),i},stop:function(t){var n=0,i=t?d.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)d.tweens[n].run(1);return t?s.resolveWith(e,[d,t]):s.rejectWith(e,[d,t]),this}}),u=d.props;for(B(u,d.opts.specialEasing);o>r;r++)if(i=ai[r].call(d,e,u,d.opts))return i;return U(d,u),lt.isFunction(d.opts.start)&&d.opts.start.call(e,d),lt.fx.timer(lt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function B(e,t){var n,i,a,r,o;for(a in e)if(i=lt.camelCase(a),r=t[i],n=e[a],lt.isArray(n)&&(r=n[1],n=e[a]=n[0]),a!==i&&(e[i]=n,delete e[a]),o=lt.cssHooks[i],o&&"expand"in o){n=o.expand(n),delete e[i];for(a in n)a in e||(e[a]=n[a],t[a]=r)}else t[i]=r}function H(e,t,n){var i,a,r,o,s,l,d,u,c,p=this,h=e.style,m={},f=[],g=e.nodeType&&b(e);n.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",lt.support.shrinkWrapBlocks||p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(a in t)if(o=t[a],ti.exec(o)){if(delete t[a],l=l||"toggle"===o,o===(g?"hide":"show"))continue;f.push(a)}if(r=f.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?lt(e).show():p.done(function(){lt(e).hide()}),p.done(function(){var t;lt._removeData(e,"fxshow");for(t in m)lt.style(e,t,m[t])});for(a=0;r>a;a++)i=f[a],d=p.createTween(i,g?s[i]:0),m[i]=s[i]||lt.style(e,i),i in s||(s[i]=d.start,g&&(d.end=d.start,d.start="width"===i||"height"===i?1:0))}}function q(e,t,n,i,a){return new q.prototype.init(e,t,n,i,a)}function j(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=Pn[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function G(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,W,$=typeof t,Y=e.document,X=e.location,K=e.jQuery,J=e.$,Q={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,at=Z.indexOf,rt=Q.toString,ot=Q.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,W)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,ft=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,_t=/-([\da-z])/gi,At=function(e,t){return t.toUpperCase()},Ct=function(e){(Y.addEventListener||"load"===e.type||"complete"===Y.readyState)&&(bt(),lt.ready())},bt=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(Y.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var a,r;if(!e)return this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!a||!a[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(a[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(a[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),ht.test(a[1])&&lt.isPlainObject(n))for(a in n)lt.isFunction(this[a])?this[a](n[a]):this.attr(a,n[a]);return this}if(r=Y.getElementById(a[2]),r&&r.parentNode){if(r.id!==a[2])return i.find(e);this.length=1,this[0]=r}return this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,a,r,o,s=arguments[0]||{},l=1,d=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),d===l&&(s=this,--l);d>l;l++)if(null!=(r=arguments[l]))for(a in r)e=s[a],i=r[a],s!==i&&(u&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,o=e&&lt.isArray(e)?e:[]):o=e&&lt.isPlainObject(e)?e:{},s[a]=lt.extend(u,o,i)):i!==t&&(s[a]=i));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=J),t&&e.jQuery===lt&&(e.jQuery=K),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!Y.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(z.resolveWith(Y,[lt]),lt.fn.trigger&&lt(Y).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||ot.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var i=ht.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,a),a&&lt(a).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&mt.test(t.replace(gt,"@").replace(yt,"]").replace(ft,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)
},parseXML:function(n){var i,a;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(_t,At)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,r=0,o=e.length,s=n(e);if(i){if(s)for(;o>r&&(a=t.apply(e[r],i),a!==!1);r++);else for(r in e)if(a=t.apply(e[r],i),a===!1)break}else if(s)for(;o>r&&(a=t.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(a=t.call(e[r],r,e[r]),a===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(ct,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(at)return at.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,a=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[a++]=n[r];else for(;n[r]!==t;)e[a++]=n[r++];return e.length=a,e},grep:function(e,t,n){var i,a=[],r=0,o=e.length;for(n=!!n;o>r;r++)i=!!t(e[r],r),n!==i&&a.push(e[r]);return a},map:function(e,t,i){var a,r=0,o=e.length,s=n(e),l=[];if(s)for(;o>r;r++)a=t(e[r],r,i),null!=a&&(l[l.length]=a);else for(r in e)a=t(e[r],r,i),null!=a&&(l[l.length]=a);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,a,r;return"string"==typeof n&&(r=e[n],n=e,e=r),lt.isFunction(e)?(i=it.call(arguments,2),a=function(){return e.apply(n||this,i.concat(it.call(arguments)))},a.guid=e.guid=e.guid||lt.guid++,a):t},access:function(e,n,i,a,r,o,s){var l=0,d=e.length,u=null==i;if("object"===lt.type(i)){r=!0;for(l in i)lt.access(e,n,l,i[l],!0,o,s)}else if(a!==t&&(r=!0,lt.isFunction(a)||(s=!0),u&&(s?(n.call(e,a),n=null):(u=n,n=function(e,t,n){return u.call(lt(e),n)})),n))for(;d>l;l++)n(e[l],i,s?a:a.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):d?n(e[0],i):o},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!z)if(z=lt.Deferred(),"complete"===Y.readyState)setTimeout(lt.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{Y.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var n=!1;try{n=null==e.frameElement&&Y.documentElement}catch(i){}n&&n.doScroll&&!function a(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}bt(),lt.ready()}}()}return z.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),W=lt(Y);var Et={};lt.Callbacks=function(e){e="string"==typeof e?Et[e]||i(e):lt.extend({},e);var n,a,r,o,s,l,d=[],u=!e.once&&[],c=function(t){for(a=e.memory&&t,r=!0,s=l||0,l=0,o=d.length,n=!0;d&&o>s;s++)if(d[s].apply(t[0],t[1])===!1&&e.stopOnFalse){a=!1;break}n=!1,d&&(u?u.length&&c(u.shift()):a?d=[]:p.disable())},p={add:function(){if(d){var t=d.length;!function i(t){lt.each(t,function(t,n){var a=lt.type(n);"function"===a?e.unique&&p.has(n)||d.push(n):n&&n.length&&"string"!==a&&i(n)})}(arguments),n?o=d.length:a&&(l=t,c(a))}return this},remove:function(){return d&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,d,i))>-1;)d.splice(i,1),n&&(o>=i&&o--,s>=i&&s--)}),this},has:function(e){return e?lt.inArray(e,d)>-1:!(!d||!d.length)},empty:function(){return d=[],this},disable:function(){return d=u=a=t,this},disabled:function(){return!d},lock:function(){return u=t,a||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!d||r&&!u||(n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,r){var o=r[0],s=lt.isFunction(e[t])&&e[t];a[r[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},a={};return i.pipe=i.then,lt.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=it.call(arguments),o=r.length,s=1!==o||e&&lt.isFunction(e.promise)?o:0,l=1===s?e:lt.Deferred(),d=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?it.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>a;a++)r[a]&&lt.isFunction(r[a].promise)?r[a].promise().done(d(a,i,r)).fail(l.reject).progress(d(a,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),lt.support=function(){var t,n,i,a,r,o,s,l,d,u,c=Y.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=c.getElementsByTagName("*"),i=c.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=Y.createElement("select"),s=r.appendChild(Y.createElement("option")),a=c.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==c.className,leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!a.value,optSelected:s.selected,enctype:!!Y.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===Y.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!s.disabled;try{delete c.test}catch(p){t.deleteExpando=!1}a=Y.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),o=Y.createDocumentFragment(),o.appendChild(a),t.appendChecked=a.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){t.noCloneEvent=!1}),c.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})c.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||c.attributes[l].expando===!1;return c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===c.style.backgroundClip,lt(function(){var n,i,a,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=Y.getElementsByTagName("body")[0];o&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=c.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=d&&0===a[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===c.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(c,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(c,null)||{width:"4px"}).width,i=c.appendChild(Y.createElement("div")),i.style.cssText=c.style.cssText=r,i.style.marginRight=i.style.width="0",c.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof c.style.zoom!==$&&(c.innerHTML="",c.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==c.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=c=a=i=null)}),n=r=o=s=i=a=null,t}();var Pt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xt=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return a(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return a(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,a,r=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(r),1===r.nodeType&&!lt._data(r,"parsedAttrs"))){for(i=r.attributes;s<i.length;s++)a=i[s].name,a.indexOf("data-")||(a=lt.camelCase(a.slice(5)),o(r,a,l[a]));lt._data(r,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?r?o(r,e,lt.data(r,e)):null:(this.each(function(){lt.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,a=n.shift(),r=lt._queueHooks(e,t),o=function(){lt.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),r.cur=a,a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,o,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,a=1,r=lt.Deferred(),o=this,s=this.length,l=function(){--a||r.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=lt._data(o[s],e+"queueHooks"),i&&i.empty&&(a++,i.empty.add(l));return l(),r.promise(n)}});var kt,Nt,St=/[\t\r\n]/g,Tt=/\r/g,wt=/^(?:input|select|textarea|button|object)$/i,Mt=/^(?:a|area)$/i,It=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Dt=/^(?:checked|selected)$/i,Lt=lt.support.getSetAttribute,Rt=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,a,r,o=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,a,r,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var a,r=0,o=lt(this),s=t,l=e.match(ut)||[];a=l[r++];)s=i?s:!o.hasClass(a),o[s?"addClass":"removeClass"](a);else(n===$||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,a,r=this[0];{if(arguments.length)return a=lt.isFunction(e),this.each(function(n){var r,o=lt(this);1===this.nodeType&&(r=a?e.call(this,n,o.val()):e,null==r?r="":"number"==typeof r?r+="":lt.isArray(r)&&(r=lt.map(r,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=lt.valHooks[r.type]||lt.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Tt,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,o=r?null:[],s=r?a+1:i.length,l=0>a?s:r?a:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==a||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),r)return t;o.push(t)}return o},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var a,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===$?lt.prop(e,n,i):(r=1!==s||!lt.isXMLDoc(e),r&&(n=n.toLowerCase(),a=lt.attrHooks[n]||(It.test(n)?Nt:kt)),i===t?a&&r&&"get"in a&&null!==(o=a.get(e,n))?o:(typeof e.getAttribute!==$&&(o=e.getAttribute(n)),null==o?t:o):null!==i?a&&r&&"set"in a&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(ut);if(r&&1===e.nodeType)for(;n=r[a++];)i=lt.propFix[n]||n,It.test(n)?!Lt&&Dt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Lt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var a,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!lt.isXMLDoc(e),o&&(n=lt.propFix[n]||n,r=lt.propHooks[n]),i!==t?r&&"set"in r&&(a=r.set(e,i,n))!==t?a:e[n]=i:r&&"get"in r&&null!==(a=r.get(e,n))?a:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):wt.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:t}}}}),Nt={get:function(e,n){var i=lt.prop(e,n),a="boolean"==typeof i&&e.getAttribute(n),r="boolean"==typeof i?Rt&&Lt?null!=a:Dt.test(n)?e[lt.camelCase("default-"+n)]:!!a:e.getAttributeNode(n);return r&&r.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Rt&&Lt||!Dt.test(n)?e.setAttribute(!Lt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Rt&&Lt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):kt&&kt.set(e,t,n)}}),Lt||(kt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:kt.get,set:function(e,t,n){kt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Ot=/^(?:input|select|textarea)$/i,Vt=/^key/,Ut=/^(?:mouse|contextmenu)|click/,Ft=/^(?:focusinfocus|focusoutblur)$/,Bt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,a,r){var o,s,l,d,u,c,p,h,m,f,g,y=lt._data(e);if(y){for(i.handler&&(d=i,i=d.handler,r=d.selector),i.guid||(i.guid=lt.guid++),(s=y.events)||(s=y.events={}),(c=y.handle)||(c=y.handle=function(e){return typeof lt===$||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(c.elem,arguments)},c.elem=e),n=(n||"").match(ut)||[""],l=n.length;l--;)o=Bt.exec(n[l])||[],m=g=o[1],f=(o[2]||"").split(".").sort(),u=lt.event.special[m]||{},m=(r?u.delegateType:u.bindType)||m,u=lt.event.special[m]||{},p=lt.extend({type:m,origType:g,data:a,handler:i,guid:i.guid,selector:r,needsContext:r&&lt.expr.match.needsContext.test(r),namespace:f.join(".")},d),(h=s[m])||(h=s[m]=[],h.delegateCount=0,u.setup&&u.setup.call(e,a,f,c)!==!1||(e.addEventListener?e.addEventListener(m,c,!1):e.attachEvent&&e.attachEvent("on"+m,c))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,p):h.push(p),lt.event.global[m]=!0;e=null}},remove:function(e,t,n,i,a){var r,o,s,l,d,u,c,p,h,m,f,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],d=t.length;d--;)if(s=Bt.exec(t[d])||[],h=f=s[1],m=(s[2]||"").split(".").sort(),h){for(c=lt.event.special[h]||{},h=(i?c.delegateType:c.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)o=p[r],!a&&f!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(p.splice(r,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));l&&!p.length&&(c.teardown&&c.teardown.call(e,m,g.handle)!==!1||lt.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)lt.event.remove(e,h+t[d],n,i,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,a,r){var o,s,l,d,u,c,p,h=[a||Y],m=ot.call(n,"type")?n.type:n,f=ot.call(n,"namespace")?n.namespace.split("."):[];if(l=c=a=a||Y,3!==a.nodeType&&8!==a.nodeType&&!Ft.test(m+lt.event.triggered)&&(m.indexOf(".")>=0&&(f=m.split("."),m=f.shift(),f.sort()),s=m.indexOf(":")<0&&"on"+m,n=n[lt.expando]?n:new lt.Event(m,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=f.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=a),i=null==i?[n]:lt.makeArray(i,[n]),u=lt.event.special[m]||{},r||!u.trigger||u.trigger.apply(a,i)!==!1)){if(!r&&!u.noBubble&&!lt.isWindow(a)){for(d=u.delegateType||m,Ft.test(d+m)||(l=l.parentNode);l;l=l.parentNode)h.push(l),c=l;c===(a.ownerDocument||Y)&&h.push(c.defaultView||c.parentWindow||e)}for(p=0;(l=h[p++])&&!n.isPropagationStopped();)n.type=p>1?d:u.bindType||m,o=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),o&&o.apply(l,i),o=s&&l[s],o&&lt.acceptData(l)&&o.apply&&o.apply(l,i)===!1&&n.preventDefault();if(n.type=m,!(r||n.isDefaultPrevented()||u._default&&u._default.apply(a.ownerDocument,i)!==!1||"click"===m&&lt.nodeName(a,"a")||!lt.acceptData(a)||!s||!a[m]||lt.isWindow(a))){c=a[s],c&&(a[s]=null),lt.event.triggered=m;try{a[m]()}catch(g){}lt.event.triggered=t,c&&(a[s]=c)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,a,r,o,s=[],l=it.call(arguments),d=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,d),n=0;(r=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(a=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((lt.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,a,r,o,s=[],l=n.delegateCount,d=e.target;if(l&&d.nodeType&&(!e.button||"click"!==e.type))for(;d!=this;d=d.parentNode||this)if(1===d.nodeType&&(d.disabled!==!0||"click"!==e.type)){for(r=[],o=0;l>o;o++)a=n[o],i=a.selector+" ",r[i]===t&&(r[i]=a.needsContext?lt(i,this).index(d)>=0:lt.find(i,this,null,[d]).length),r[i]&&r.push(a);r.length&&s.push({elem:d,handlers:r})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Ut.test(a)?this.mouseHooks:Vt.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new lt.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||Y),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,a,r,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(a=e.target.ownerDocument||Y,r=a.documentElement,i=a.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==Y.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===Y.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(a,null,t):lt.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=Y.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===$&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:d):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==i&&!lt.contains(i,a))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&Y.addEventListener(e,i,!0)},teardown:function(){0===--n&&Y.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,a,r){var o,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(o in e)this.on(o,n,i,e[o],r);return this}if(null==i&&null==a?(a=n,i=n=t):null==a&&("string"==typeof n?(a=i,i=t):(a=i,i=n,n=t)),a===!1)a=d;else if(!a)return this;return 1===r&&(s=a,a=function(e){return lt().off(e),s.apply(this,arguments)},a.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,a,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,lt(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=d),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return mt.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>P.cacheLength&&delete e[t.shift()],e[n]=i}}function a(e){return e[F]=!0,e}function r(e){var t=M.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,i){var a,r,o,s,l,d,u,h,m,f;if((t?t.ownerDocument||t:B)!==M&&w(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!D&&!i){if(a=ft.exec(e))if(o=a[1]){if(9===s){if(r=t.getElementById(o),!r||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&V(t,r)&&r.id===o)return n.push(r),n}else{if(a[2])return J.apply(n,Q.call(t.getElementsByTagName(e),0)),n;if((o=a[3])&&H.getByClassName&&t.getElementsByClassName)return J.apply(n,Q.call(t.getElementsByClassName(o),0)),n}if(H.qsa&&!L.test(e)){if(u=!0,h=F,m=t,f=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=c(e),(u=t.getAttribute("id"))?h=u.replace(vt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=d.length;l--;)d[l]=h+p(d[l]);m=ht.test(e)&&t.parentNode||t,f=d.join(",")}if(f)try{return J.apply(n,Q.call(m.querySelectorAll(f),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return A(e.replace(ot,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function d(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return a(function(t){return t=+t,a(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function c(e,t){var n,i,a,r,s,l,d,u=z[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],d=P.preFilter;s;){(!n||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),n=!1,(i=dt.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(ot," ")}),s=s.slice(n.length));for(r in P.filter)!(i=pt[r].exec(s))||d[r]&&!(i=d[r](i))||(n=i.shift(),a.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):z(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=j++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)
}:function(t,n,o){var s,l,d,u=q+" "+r;if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[F]||(t[F]={}),(l=d[i])&&l[0]===u){if((s=l[1])===!0||s===E)return s===!0}else if(l=d[i]=[u],l[1]=e(t,n,o)||E,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function f(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,d=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,a))&&(o.push(r),d&&t.push(s));return o}function g(e,t,n,i,r,o){return i&&!i[F]&&(i=g(i)),r&&!r[F]&&(r=g(r,o)),a(function(a,o,s,l){var d,u,c,p=[],h=[],m=o.length,g=a||_(t||"*",s.nodeType?[s]:s,[]),y=!e||!a&&t?g:f(g,p,e,s,l),v=n?r||(a?e:m||i)?[]:o:y;if(n&&n(y,v,s,l),i)for(d=f(v,h),i(d,[],s,l),u=d.length;u--;)(c=d[u])&&(v[h[u]]=!(y[h[u]]=c));if(a){if(r||e){if(r){for(d=[],u=v.length;u--;)(c=v[u])&&d.push(y[u]=c);r(null,v=[],d,l)}for(u=v.length;u--;)(c=v[u])&&(d=r?Z.call(a,c):p[u])>-1&&(a[d]=!(o[d]=c))}}else v=f(v===o?v.splice(m,v.length):v),r?r(null,o,v,l):J.apply(o,v)})}function y(e){for(var t,n,i,a=e.length,r=P.relative[e[0].type],o=r||P.relative[" "],s=r?1:0,l=h(function(e){return e===t},o,!0),d=h(function(e){return Z.call(t,e)>-1},o,!0),u=[function(e,n,i){return!r&&(i||n!==T)||((t=n).nodeType?l(e,n,i):d(e,n,i))}];a>s;s++)if(n=P.relative[e[s].type])u=[h(m(u),n)];else{if(n=P.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;a>i&&!P.relative[e[i].type];i++);return g(s>1&&m(u),s>1&&p(e.slice(0,s-1)).replace(ot,"$1"),n,i>s&&y(e.slice(s,i)),a>i&&y(e=e.slice(i)),a>i&&p(e))}u.push(n)}return m(u)}function v(e,t){var n=0,i=t.length>0,r=e.length>0,s=function(a,s,l,d,u){var c,p,h,m=[],g=0,y="0",v=a&&[],_=null!=u,A=T,C=a||r&&P.find.TAG("*",u&&s.parentNode||s),b=q+=null==A?1:Math.random()||.1;for(_&&(T=s!==M&&s,E=n);null!=(c=C[y]);y++){if(r&&c){for(p=0;h=e[p++];)if(h(c,s,l)){d.push(c);break}_&&(q=b,E=++n)}i&&((c=!h&&c)&&g--,a&&v.push(c))}if(g+=y,i&&y!==g){for(p=0;h=t[p++];)h(v,m,s,l);if(a){if(g>0)for(;y--;)v[y]||m[y]||(m[y]=K.call(d));m=f(m)}J.apply(d,m),_&&!a&&m.length>0&&g+t.length>1&&o.uniqueSort(d)}return _&&(q=b,T=A),v};return i?a(s):s}function _(e,t,n){for(var i=0,a=t.length;a>i;i++)o(e,t[i],n);return n}function A(e,t,n,i){var a,r,o,s,l,d=c(e);if(!i&&1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&9===t.nodeType&&!D&&P.relative[r[1].type]){if(t=P.find.ID(o.matches[0].replace(At,Ct),t)[0],!t)return n;e=e.slice(r.shift().value.length)}for(a=pt.needsContext.test(e)?0:r.length;a--&&(o=r[a],!P.relative[s=o.type]);)if((l=P.find[s])&&(i=l(o.matches[0].replace(At,Ct),ht.test(r[0].type)&&t.parentNode||t))){if(r.splice(a,1),e=i.length&&p(r),!e)return J.apply(n,Q.call(i,0)),n;break}}return N(e,d)(i,t,D,n,ht.test(e)),n}function C(){}var b,E,P,x,k,N,S,T,w,M,I,D,L,R,O,V,U,F="sizzle"+-new Date,B=e.document,H={},q=0,j=0,G=i(),z=i(),W=i(),$=typeof t,Y=1<<31,X=[],K=X.pop,J=X.push,Q=X.slice,Z=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",at="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",rt=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ot=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),dt=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(rt),ct=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ht=/[\x20\t\r\n\f]*[+~]/,mt=/^[^{]+\{\s*\[native code/,ft=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,vt=/'|\\/g,_t=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,At=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ct=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Q.call(B.documentElement.childNodes,0)[0].nodeType}catch(bt){Q=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}k=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},w=o.setDocument=function(e){var i=e?e.ownerDocument||e:B;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,I=i.documentElement,D=k(i),H.tagNameNoComments=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),H.attributes=r(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),H.getByClassName=r(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),H.getByName=r(function(e){e.id=F+0,e.innerHTML="<a name='"+F+"'></a><div name='"+F+"'></div>",I.insertBefore(e,I.firstChild);var t=i.getElementsByName&&i.getElementsByName(F).length===2+i.getElementsByName(F+0).length;return H.getIdNotName=!i.getElementById(F),I.removeChild(e),t}),P.attrHandle=r(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==$&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},H.getIdNotName?(P.find.ID=function(e,t){if(typeof t.getElementById!==$&&!D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},P.filter.ID=function(e){var t=e.replace(At,Ct);return function(e){return e.getAttribute("id")===t}}):(P.find.ID=function(e,n){if(typeof n.getElementById!==$&&!D){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==$&&i.getAttributeNode("id").value===e?[i]:t:[]}},P.filter.ID=function(e){var t=e.replace(At,Ct);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),P.find.TAG=H.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},P.find.NAME=H.getByName&&function(e,t){return typeof t.getElementsByName!==$?t.getElementsByName(name):void 0},P.find.CLASS=H.getByClassName&&function(e,t){return typeof t.getElementsByClassName===$||D?void 0:t.getElementsByClassName(e)},R=[],L=[":focus"],(H.qsa=n(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||L.push(":checked")}),r(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&L.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(H.matchesSelector=n(O=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){H.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),R.push("!=",rt)}),L=new RegExp(L.join("|")),R=new RegExp(R.join("|")),V=n(I.contains)||I.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=I.compareDocumentPosition?function(e,t){var n;return e===t?(S=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||V(B,e)?-1:t===i||V(B,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,a=0,r=e.parentNode,o=t.parentNode,l=[e],d=[t];if(e===t)return S=!0,0;if(!r||!o)return e===i?-1:t===i?1:r?-1:o?1:0;if(r===o)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)d.unshift(n);for(;l[a]===d[a];)a++;return a?s(l[a],d[a]):l[a]===B?-1:d[a]===B?1:0},S=!1,[0,0].sort(U),H.detectDuplicates=S,M):M},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&w(e),t=t.replace(_t,"='$1']"),!(!H.matchesSelector||D||R&&R.test(t)||L.test(t)))try{var n=O.call(e,t);if(n||H.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return o(t,M,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==M&&w(e),V(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==M&&w(e),D||(t=t.toLowerCase()),(n=P.attrHandle[t])?n(e):D||H.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=1,a=0;if(S=!H.detectDuplicates,e.sort(U),S){for(;t=e[i];i++)t===e[i-1]&&(a=n.push(i));for(;a--;)e.splice(n[a],1)}return e},x=o.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i];i++)n+=x(t);return n},P=o.selectors={cacheLength:50,createPseudo:a,match:pt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(At,Ct),e[3]=(e[4]||e[5]||"").replace(At,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=c(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(At,Ct).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&G(e,function(e){return t.test(e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var a=o.attr(i,e);return null==a?"!="===t:t?(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a+" ").indexOf(n)>-1:"|="===t?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var d,u,c,p,h,m,f=r!==o?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(r){for(;f;){for(c=t;c=c[f];)if(s?c.nodeName.toLowerCase()===y:1===c.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[o?g.firstChild:g.lastChild],o&&v){for(u=g[F]||(g[F]={}),d=u[e]||[],h=d[0]===q&&d[1],p=d[0]===q&&d[2],c=h&&g.childNodes[h];c=++h&&c&&c[f]||(p=h=0)||m.pop();)if(1===c.nodeType&&++p&&c===t){u[e]=[q,h,p];break}}else if(v&&(d=(t[F]||(t[F]={}))[e])&&d[0]===q)p=d[1];else for(;(c=++h&&c&&c[f]||(p=h=0)||m.pop())&&((s?c.nodeName.toLowerCase()!==y:1!==c.nodeType)||!++p||(v&&((c[F]||(c[F]={}))[e]=[q,p]),c!==t)););return p-=a,p===i||0===p%i&&p/i>=0}}},PSEUDO:function(e,t){var n,i=P.pseudos[e]||P.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return i[F]?i(t):i.length>1?(n=[e,e,"",t],P.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var a,r=i(e,t),o=r.length;o--;)a=Z.call(e,r[o]),e[a]=!(n[a]=r[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:a(function(e){var t=[],n=[],i=N(e.replace(ot,"$1"));return i[F]?a(function(e,t,n,a){for(var r,o=i(e,null,a,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:a(function(e){return function(t){return o(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:a(function(e){return ct.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(At,Ct).toLowerCase(),function(t){var n;do if(n=D?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!P.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[b]=l(b);for(b in{submit:!0,reset:!0})P.pseudos[b]=d(b);N=o.compile=function(e,t){var n,i=[],a=[],r=W[e+" "];if(!r){for(t||(t=c(e)),n=t.length;n--;)r=y(t[n]),r[F]?i.push(r):a.push(r);r=W(e,v(a,i))}return r},P.pseudos.nth=P.pseudos.eq,P.filters=C.prototype=P.pseudos,P.setFilters=new C,w(),o.attr=lt.attr,lt.find=o,lt.expr=o.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=o.uniqueSort,lt.text=o.getText,lt.isXMLDoc=o.isXML,lt.contains=o.contains}(e);var Ht=/Until$/,qt=/^(?:parents|prev(?:Until|All))/,jt=/^.[^:#\[\.,]*$/,Gt=lt.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,a=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;a>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;a>t;t++)lt.find(e,this[t],n);return n=this.pushStack(a>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1))},filter:function(e){return this.pushStack(c(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Gt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=Gt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:lt.find.matchesSelector(n,e)){r.push(n);break}n=n.parentNode}return this.pushStack(r.length>1?lt.unique(r):r)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var a=lt.map(this,t,n);return Ht.test(e)||(i=n),i&&"string"==typeof i&&(a=lt.filter(i,a)),a=this.length>1&&!zt[e]?lt.unique(a):a,this.length>1&&qt.test(e)&&(a=a.reverse()),this.pushStack(a)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var a=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!lt(r).is(i));)1===r.nodeType&&a.push(r),r=r[n];return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",$t=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),Xt=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,an=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(Y),dn=ln.appendChild(Y.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(_(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(_(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,a=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace($t,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Yt.test(e)||!lt.support.leadingWhitespace&&Xt.test(e)||sn[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Kt,"<$1></$2>");try{for(;a>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(_(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var a,r,o,s,l,d,u=0,c=this.length,p=this,g=c-1,y=e[0],v=lt.isFunction(y);if(v||!(1>=c||"string"!=typeof y||lt.support.checkClone)&&nn.test(y))return this.each(function(a){var r=p.eq(a);v&&(e[0]=y.call(this,a,n?r.html():t)),r.domManip(e,n,i)});if(c&&(d=lt.buildFragment(e,this[0].ownerDocument,!1,this),a=d.firstChild,1===d.childNodes.length&&(d=a),a)){for(n=n&&lt.nodeName(a,"tr"),s=lt.map(_(d,"script"),m),o=s.length;c>u;u++)r=d,u!==g&&(r=lt.clone(r,!0,!0),o&&lt.merge(s,_(r,"script"))),i.call(n&&lt.nodeName(this[u],"table")?h(this[u],"tbody"):this[u],r,u);if(o)for(l=s[s.length-1].ownerDocument,lt.map(s,f),u=0;o>u;u++)r=s[u],an.test(r.type||"")&&!lt._data(r,"globalEval")&&lt.contains(l,r)&&(r.src?lt.ajax({url:r.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(on,"")));d=a=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,a=[],r=lt(e),o=r.length-1;o>=i;i++)n=i===o?this:this.clone(!0),lt(r[i])[t](n),nt.apply(a,n.get());return this.pushStack(a)}}),lt.extend({clone:function(e,t,n){var i,a,r,o,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(dn.innerHTML=e.outerHTML,dn.removeChild(r=dn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=_(r),s=_(e),o=0;null!=(a=s[o]);++o)i[o]&&v(a,i[o]);if(t)if(n)for(s=s||_(e),i=i||_(r),o=0;null!=(a=s[o]);o++)y(a,i[o]);else y(e,r);return i=_(r,"script"),i.length>0&&g(i,!l&&_(e,"script")),i=s=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,o,s,l,d,u,c=e.length,h=p(t),m=[],f=0;c>f;f++)if(r=e[f],r||0===r)if("object"===lt.type(r))lt.merge(m,r.nodeType?[r]:r);else if(Zt.test(r)){for(s=s||h.appendChild(t.createElement("div")),l=(Jt.exec(r)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+r.replace(Kt,"<$1></$2>")+u[2],a=u[0];a--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Xt.test(r)&&m.push(t.createTextNode(Xt.exec(r)[0])),!lt.support.tbody)for(r="table"!==l||Qt.test(r)?"<table>"!==u[1]||Qt.test(r)?0:s:s.firstChild,a=r&&r.childNodes.length;a--;)lt.nodeName(d=r.childNodes[a],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(lt.merge(m,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else m.push(t.createTextNode(r));for(s&&h.removeChild(s),lt.support.appendChecked||lt.grep(_(m,"input"),A),f=0;r=m[f++];)if((!i||-1===lt.inArray(r,i))&&(o=lt.contains(r.ownerDocument,r),s=_(h.appendChild(r),"script"),o&&g(s),n))for(a=0;r=s[a++];)an.test(r.type||"")&&n.push(r);return s=null,h},cleanData:function(e,t){for(var n,i,a,r,o=0,s=lt.expando,l=lt.cache,d=lt.support.deleteExpando,u=lt.event.special;null!=(n=e[o]);o++)if((t||lt.acceptData(n))&&(a=n[s],r=a&&l[a])){if(r.events)for(i in r.events)u[i]?lt.event.remove(n,i):lt.removeEvent(n,i,r.handle);l[a]&&(delete l[a],d?delete n[s]:typeof n.removeAttribute!==$?n.removeAttribute(s):n[s]=null,Z.push(a))}}});var un,cn,pn,hn=/alpha\([^)]*\)/i,mn=/opacity\s*=\s*([^)]*)/,fn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=new RegExp("^("+dt+")(.*)$","i"),_n=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),An=new RegExp("^([+-])=("+dt+")","i"),Cn={BODY:"block"},bn={position:"absolute",visibility:"hidden",display:"block"},En={letterSpacing:0,fontWeight:400},Pn=["Top","Right","Bottom","Left"],xn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var a,r,o={},s=0;if(lt.isArray(n)){for(r=cn(e),a=n.length;a>s;s++)o[n[s]]=lt.css(e,n[s],!1,r);return o}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:b(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,l=lt.camelCase(n),d=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=C(d,l)),s=lt.cssHooks[n]||lt.cssHooks[l],i===t)return s&&"get"in s&&(r=s.get(e,!1,a))!==t?r:d[n];if(o=typeof i,"string"===o&&(r=An.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(lt.css(e,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(d[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,a))===t)))try{d[n]=i}catch(u){}}},css:function(e,n,i,a){var r,o,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=C(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=pn(e,n,a)),"normal"===o&&n in En&&(o=En[n]),""===i||i?(r=parseFloat(o),i===!0||lt.isNumeric(r)?r||0:o):o},swap:function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=o[r];return a}}),e.getComputedStyle?(cn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,i){var a,r,o,s=i||cn(e),l=s?s.getPropertyValue(n)||s[n]:t,d=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),_n.test(l)&&yn.test(n)&&(a=d.width,r=d.minWidth,o=d.maxWidth,d.minWidth=d.maxWidth=d.width=l,l=s.width,d.width=a,d.minWidth=r,d.maxWidth=o)),l}):Y.documentElement.currentStyle&&(cn=function(e){return e.currentStyle},pn=function(e,n,i){var a,r,o,s=i||cn(e),l=s?s[n]:t,d=e.style;return null==l&&d&&d[n]&&(l=d[n]),_n.test(l)&&!fn.test(n)&&(a=d.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),d.left="fontSize"===n?"1em":l,l=d.pixelLeft+"px",d.left=a,o&&(r.left=o)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,bn,function(){return k(e,t,i)}):k(e,t,i):void 0},set:function(e,n,i){var a=i&&cn(e);return P(e,n,i?x(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,a),a):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return mn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(r.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=hn.test(r)?r.replace(hn,a):r+" "+a)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=pn(e,t),_n.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+Pn[i]+t]=r[i]||r[i-2]||r[0];return a}},yn.test(e)||(lt.cssHooks[e+t].set=P)});var kn=/%20/g,Nn=/\[\]$/,Sn=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,wn=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&wn.test(this.nodeName)&&!Tn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,a=[],r=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){r(this.name,this.value)});else for(i in e)T(i,e[i],n,r);return a.join("&").replace(kn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Mn,In,Dn=lt.now(),Ln=/\?/,Rn=/#.*$/,On=/([?&])_=[^&]*/,Vn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Un=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,Bn=/^\/\//,Hn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qn=lt.fn.load,jn={},Gn={},zn="*/".concat("*");try{In=X.href}catch(Wn){In=Y.createElement("a"),In.href="",In=In.href}Mn=Hn.exec(In.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&qn)return qn.apply(this,arguments);var a,r,o,s=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&lt.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){r=arguments,s.html(a?lt("<div>").append(lt.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){s.each(i,r||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,a,r){return lt.isFunction(i)&&(r=r||a,a=i,i=t),lt.ajax({url:e,type:n,dataType:r,data:i,success:a})
}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Un.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,lt.ajaxSettings),t):I(lt.ajaxSettings,e)},ajaxPrefilter:w(jn),ajaxTransport:w(Gn),ajax:function(e,n){function i(e,n,i,a){var r,c,v,_,C,E=n;2!==A&&(A=2,l&&clearTimeout(l),u=t,s=a||"",b.readyState=e>0?4:0,i&&(_=D(p,b,i)),e>=200&&300>e||304===e?(p.ifModified&&(C=b.getResponseHeader("Last-Modified"),C&&(lt.lastModified[o]=C),C=b.getResponseHeader("etag"),C&&(lt.etag[o]=C)),204===e?(r=!0,E="nocontent"):304===e?(r=!0,E="notmodified"):(r=L(p,_),E=r.state,c=r.data,v=r.error,r=!v)):(v=E,(e||!E)&&(E="error",0>e&&(e=0))),b.status=e,b.statusText=(n||E)+"",r?f.resolveWith(h,[c,E,b]):f.rejectWith(h,[b,E,v]),b.statusCode(y),y=t,d&&m.trigger(r?"ajaxSuccess":"ajaxError",[b,p,r?c:v]),g.fireWith(h,[b,E]),d&&(m.trigger("ajaxComplete",[b,p]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var a,r,o,s,l,d,u,c,p=lt.ajaxSetup({},n),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?lt(h):lt.event,f=lt.Deferred(),g=lt.Callbacks("once memory"),y=p.statusCode||{},v={},_={},A=0,C="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===A){if(!c)for(c={};t=Vn.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===A?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return A||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return A||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>A)for(t in e)y[t]=[y[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||C;return u&&u.abort(t),i(0,t),this}};if(f.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,p.url=((e||p.url||In)+"").replace(Rn,"").replace(Bn,Mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=lt.trim(p.dataType||"*").toLowerCase().match(ut)||[""],null==p.crossDomain&&(a=Hn.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===Mn[1]&&a[2]===Mn[2]&&(a[3]||("http:"===a[1]?80:443))==(Mn[3]||("http:"===Mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=lt.param(p.data,p.traditional)),M(jn,p,n,b),2===A)return b;d=p.global,d&&0===lt.active++&&lt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Fn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Ln.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=On.test(o)?o.replace(On,"$1_="+Dn++):o+(Ln.test(o)?"&":"?")+"_="+Dn++)),p.ifModified&&(lt.lastModified[o]&&b.setRequestHeader("If-Modified-Since",lt.lastModified[o]),lt.etag[o]&&b.setRequestHeader("If-None-Match",lt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zn+"; q=0.01":""):p.accepts["*"]);for(r in p.headers)b.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(p.beforeSend.call(h,b,p)===!1||2===A))return b.abort();C="abort";for(r in{success:1,error:1,complete:1})b[r](p[r]);if(u=M(Gn,p,n,b)){b.readyState=1,d&&m.trigger("ajaxSend",[b,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){b.abort("timeout")},p.timeout));try{A=1,u.send(v,i)}catch(E){if(!(2>A))throw E;i(-1,E)}}else i(-1,"No Transport");return b},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=Y.head||lt("head")[0]||Y.documentElement;return{send:function(t,a){n=Y.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var $n=[],Yn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$n.pop()||lt.expando+"_"+Dn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,a){var r,o,s,l=n.jsonp!==!1&&(Yn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Yn,"$1"+r):n.jsonp!==!1&&(n.url+=(Ln.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return s||lt.error(r+" was not called"),s[0]},n.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},a.always(function(){e[r]=o,n[r]&&(n.jsonpCallback=i.jsonpCallback,$n.push(r)),s&&lt.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0});var Xn,Kn,Jn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Xn)Xn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&R()||O()}:R,Kn=lt.ajaxSettings.xhr(),lt.support.cors=!!Kn&&"withCredentials"in Kn,Kn=lt.support.ajax=!!Kn,Kn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(a,r){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(s in a)l.setRequestHeader(s,a[s])}catch(d){}l.send(n.hasContent&&n.data||null),i=function(e,a){var s,d,u,c;try{if(i&&(a||4===l.readyState))if(i=t,o&&(l.onreadystatechange=lt.noop,Qn&&delete Xn[o]),a)4!==l.readyState&&l.abort();else{c={},s=l.status,d=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(c.text=l.responseText);try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(h){a||r(-1,h)}c&&r(s,u,c,d)},n.async?4===l.readyState?setTimeout(i):(o=++Jn,Qn&&(Xn||(Xn={},lt(e).unload(Qn)),Xn[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,ai=[H],ri={"*":[function(e,t){var n,i,a=this.createTween(e,t),r=ni.exec(t),o=a.cur(),s=+o||0,l=1,d=20;if(r){if(n=+r[2],i=r[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&s){s=lt.css(a.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(a.elem,e,s+i);while(l!==(l=a.cur()/o)&&1!==l&&--d)}a.unit=i,a.start=s,a.end=r[1]?s+(r[1]+1)*n:n}return a}]};lt.Animation=lt.extend(F,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?ai.unshift(e):ai.push(e)}}),lt.Tween=q,q.prototype={constructor:q,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(lt.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,a)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=lt.isEmptyObject(e),r=lt.speed(t,n,i),o=function(){var t=F(this,lt.extend({},e),r);o.finish=function(){t.stop(!0)},(a||lt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,n,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=lt.timers,o=lt._data(this);if(n)o[n]&&o[n].stop&&a(o[n]);else for(n in o)o[n]&&o[n].stop&&ii.test(n)&&a(o[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=lt.timers,o=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),a&&a.cur&&a.cur.finish&&a.cur.finish.call(this),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=q.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,a={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return n=o.documentElement,lt.contains(n,r)?(typeof r.getBoundingClientRect!==$&&(a=r.getBoundingClientRect()),i=G(o),{top:a.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:a.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):a},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var a,r,o=lt(e),s=o.offset(),l=lt.css(e,"top"),d=lt.css(e,"left"),u=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,d])>-1,c={},p={};u?(p=o.position(),a=p.top,r=p.left):(a=parseFloat(l)||0,r=parseFloat(d)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+a),null!=t.left&&(c.left=t.left-s.left+r),"using"in t?t.using.call(e,c):o.css(c)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||Y.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(a){return lt.access(this,function(e,a,r){var o=G(e);return r===t?o?n in o?o[n]:o.document.documentElement[a]:e[a]:(o?o.scrollTo(i?lt(o).scrollLeft():r,i?r:lt(o).scrollTop()):e[a]=r,void 0)},e,a,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,a){lt.fn[a]=function(a,r){var o=arguments.length&&(i||"boolean"!=typeof a),s=i||(a===!0||r===!0?"margin":"border");return lt.access(this,function(n,i,a){var r;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):a===t?lt.css(n,i,s):lt.style(n,i,a,s)},n,o?a:t,o,null)}})}),e.jQuery=e.$=lt,"function"==typeof Ndn_Require.define&&Ndn_Require.define.amd&&Ndn_Require.define.amd.jQuery&&Ndn_Require.define("jquery",[],function(){return lt})}(window),jQuery.noConflict(!0),function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,r=Function.prototype,o=i.push,s=i.slice,l=i.concat,d=a.toString,u=a.hasOwnProperty,c=i.forEach,p=i.map,h=i.reduce,m=i.reduceRight,f=i.filter,g=i.every,y=i.some,v=i.indexOf,_=i.lastIndexOf,A=Array.isArray,C=Object.keys,b=r.bind,E=function(e){return e instanceof E?e:this instanceof E?(this._wrapped=e,void 0):new E(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E):e._=E,E.VERSION="1.4.4";var P=E.each=E.forEach=function(e,t,i){if(null!=e)if(c&&e.forEach===c)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,r=e.length;r>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var o in e)if(E.has(e,o)&&t.call(i,e[o],o,e)===n)return};E.map=E.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(P(e,function(e,a,r){i[i.length]=t.call(n,e,a,r)}),i)};var x="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=E.bind(t,i)),a?e.reduce(t,n):e.reduce(t);if(P(e,function(e,r,o){a?n=t.call(i,n,e,r,o):(n=e,a=!0)}),!a)throw new TypeError(x);return n},E.reduceRight=E.foldr=function(e,t,n,i){var a=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return i&&(t=E.bind(t,i)),a?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var o=E.keys(e);r=o.length}if(P(e,function(s,l,d){l=o?o[--r]:--r,a?n=t.call(i,n,e[l],l,d):(n=e[l],a=!0)}),!a)throw new TypeError(x);return n},E.find=E.detect=function(e,t,n){var i;return k(e,function(e,a,r){return t.call(n,e,a,r)?(i=e,!0):void 0}),i},E.filter=E.select=function(e,t,n){var i=[];return null==e?i:f&&e.filter===f?e.filter(t,n):(P(e,function(e,a,r){t.call(n,e,a,r)&&(i[i.length]=e)}),i)},E.reject=function(e,t,n){return E.filter(e,function(e,i,a){return!t.call(n,e,i,a)},n)},E.every=E.all=function(e,t,i){t||(t=E.identity);var a=!0;return null==e?a:g&&e.every===g?e.every(t,i):(P(e,function(e,r,o){return(a=a&&t.call(i,e,r,o))?void 0:n}),!!a)};var k=E.some=E.any=function(e,t,i){t||(t=E.identity);var a=!1;return null==e?a:y&&e.some===y?e.some(t,i):(P(e,function(e,r,o){return a||(a=t.call(i,e,r,o))?n:void 0}),!!a)};E.contains=E.include=function(e,t){return null==e?!1:v&&e.indexOf===v?-1!=e.indexOf(t):k(e,function(e){return e===t})},E.invoke=function(e,t){var n=s.call(arguments,2),i=E.isFunction(t);return E.map(e,function(e){return(i?t:e[t]).apply(e,n)})},E.pluck=function(e,t){return E.map(e,function(e){return e[t]})},E.where=function(e,t,n){return E.isEmpty(t)?n?null:[]:E[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},E.findWhere=function(e,t){return E.where(e,t,!0)},E.max=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&E.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return P(e,function(e,a,r){var o=t?t.call(n,e,a,r):e;o>=i.computed&&(i={value:e,computed:o})}),i.value},E.min=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&E.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return P(e,function(e,a,r){var o=t?t.call(n,e,a,r):e;i.computed>o&&(i={value:e,computed:o})}),i.value},E.shuffle=function(e){var t,n=0,i=[];return P(e,function(e){t=E.random(n++),i[n-1]=i[t],i[t]=e}),i};var N=function(e){return E.isFunction(e)?e:function(t){return t[e]}};E.sortBy=function(e,t,n){var i=N(t);return E.pluck(E.map(e,function(e,t,a){return{value:e,index:t,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var S=function(e,t,n,i){var a={},r=N(t||E.identity);return P(e,function(t,o){var s=r.call(n,t,o,e);i(a,s,t)}),a};E.groupBy=function(e,t,n){return S(e,t,n,function(e,t,n){(E.has(e,t)?e[t]:e[t]=[]).push(n)})},E.countBy=function(e,t,n){return S(e,t,n,function(e,t){E.has(e,t)||(e[t]=0),e[t]++})},E.sortedIndex=function(e,t,n,i){n=null==n?E.identity:N(n);for(var a=n.call(i,t),r=0,o=e.length;o>r;){var s=r+o>>>1;a>n.call(i,e[s])?r=s+1:o=s}return r},E.toArray=function(e){return e?E.isArray(e)?s.call(e):e.length===+e.length?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:e.length===+e.length?e.length:E.keys(e).length},E.first=E.head=E.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},E.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},E.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},E.rest=E.tail=E.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var T=function(e,t,n){return P(e,function(e){E.isArray(e)?t?o.apply(n,e):T(e,t,n):n.push(e)}),n};E.flatten=function(e,t){return T(e,t,[])},E.without=function(e){return E.difference(e,s.call(arguments,1))},E.uniq=E.unique=function(e,t,n,i){E.isFunction(t)&&(i=n,n=t,t=!1);var a=n?E.map(e,n,i):e,r=[],o=[];return P(a,function(n,i){(t?i&&o[o.length-1]===n:E.contains(o,n))||(o.push(n),r.push(e[i]))}),r},E.union=function(){return E.uniq(l.apply(i,arguments))},E.intersection=function(e){var t=s.call(arguments,1);return E.filter(E.uniq(e),function(e){return E.every(t,function(t){return E.indexOf(t,e)>=0})})},E.difference=function(e){var t=l.apply(i,s.call(arguments,1));return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){for(var e=s.call(arguments),t=E.max(E.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=E.pluck(e,""+i);return n},E.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;a>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},E.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return i=E.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,a+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},E.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(_&&e.lastIndexOf===_)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=i?n:e.length;a--;)if(e[a]===t)return a;return-1},E.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,r=Array(i);i>a;)r[a++]=e,e+=n;return r},E.bind=function(e,t){if(e.bind===b&&b)return b.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},E.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},E.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=E.functions(e)),P(t,function(t){e[t]=E.bind(e[t],e)}),e},E.memoize=function(e,t){var n={};return t||(t=E.identity),function(){var i=t.apply(this,arguments);return E.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},E.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=function(e){return E.delay.apply(E,[e,1].concat(s.call(arguments,1)))},E.throttle=function(e,t){var n,i,a,r,o=0,s=function(){o=new Date,a=null,r=e.apply(n,i)};return function(){var l=new Date,d=t-(l-o);return n=this,i=arguments,0>=d?(clearTimeout(a),a=null,o=l,r=e.apply(n,i)):a||(a=setTimeout(s,d)),r}},E.debounce=function(e,t,n){var i,a;return function(){var r=this,o=arguments,s=function(){i=null,n||(a=e.apply(r,o))},l=n&&!i;return clearTimeout(i),i=setTimeout(s,t),l&&(a=e.apply(r,o)),a}},E.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},E.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},E.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},E.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},E.keys=C||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)E.has(e,n)&&(t[t.length]=n);return t},E.values=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push(e[n]);return t},E.pairs=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push([n,e[n]]);return t},E.invert=function(e){var t={};for(var n in e)E.has(e,n)&&(t[e[n]]=n);return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=function(e){return P(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},E.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return P(n,function(n){n in e&&(t[n]=e[n])}),t},E.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var a in e)E.contains(n,a)||(t[a]=e[a]);return t},E.defaults=function(e){return P(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e};var w=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var a=d.call(e);if(a!=d.call(t))return!1;switch(a){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;n.push(e),i.push(t);var o=0,s=!0;if("[object Array]"==a){if(o=e.length,s=o==t.length)for(;o--&&(s=w(e[o],t[o],n,i)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(E.isFunction(l)&&l instanceof l&&E.isFunction(u)&&u instanceof u))return!1;for(var c in e)if(E.has(e,c)&&(o++,!(s=E.has(t,c)&&w(e[c],t[c],n,i))))break;if(s){for(c in t)if(E.has(t,c)&&!o--)break;s=!o}}return n.pop(),i.pop(),s};E.isEqual=function(e,t){return w(e,t,[],[])},E.isEmpty=function(e){if(null==e)return!0;if(E.isArray(e)||E.isString(e))return 0===e.length;for(var t in e)if(E.has(e,t))return!1;return!0},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=A||function(e){return"[object Array]"==d.call(e)},E.isObject=function(e){return e===Object(e)},P(["Arguments","Function","String","Number","Date","RegExp"],function(e){E["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return!(!e||!E.has(e,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(e){return"function"==typeof e}),E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!=+e},E.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return u.call(e,t)},E.noConflict=function(){return e._=t,this},E.identity=function(e){return e},E.times=function(e,t,n){for(var i=Array(e),a=0;e>a;a++)i[a]=t.call(n,a);return i},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=E.invert(M.escape);var I={escape:RegExp("["+E.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+E.keys(M.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(e){E[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return M[e][t]})}}),E.result=function(e,t){if(null==e)return null;var n=e[t];return E.isFunction(n)?n.call(e):n},E.mixin=function(e){P(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),V.call(this,n.apply(E,e))}})};var D=0;E.uniqueId=function(e){var t=++D+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(e,t,n){var i;n=E.defaults({},n,E.templateSettings);var a=RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(a,function(t,n,i,a,s){return o+=e.slice(r,s).replace(O,function(e){return"\\"+R[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),r=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,E);var l=function(e){return i.call(this,e,E)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},E.chain=function(e){return E(e).chain()};var V=function(e){return this._chain?E(e).chain():e};E.mixin(E),P(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],V.call(this,n)}}),P(["concat","join","slice"],function(e){var t=i[e];E.prototype[e]=function(){return V.call(this,t.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),Ndn_Require.define("underscore",function(e){return function(){var t;return t||e._}}(this)),function(){var e,t=this,n=t.Backbone,i=[],a=i.push,r=i.slice,o=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!u(this,"once",e,[t,n])||!t)return this;var i=this,a=s.once(function(){i.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,a,r,o,l,d,c,p;if(!this._events||!u(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:s.keys(this._events),l=0,d=o.length;d>l;l++)if(e=o[l],r=this._events[e]){if(this._events[e]=i=[],t||n)for(c=0,p=r.length;p>c;c++)a=r[c],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var a=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var r in i)i[r].off(t,n,this),a&&delete this._listeners[r];return this}},d=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var a in n)e[t].apply(e,[a,n[a]].concat(i));return!1}if(d.test(n)){for(var r=n.split(d),o=0,s=r.length;s>o;o++)e[t].apply(e,[r[o]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,a=e.length,r=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++i<a;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r,o);return;case 3:for(;++i<a;)(n=e[i]).callback.call(n.ctx,r,o,s);return;default:for(;++i<a;)(n=e[i]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};s.each(p,function(e,t){l[t]=function(t,n,i){var a=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=s.uniqueId("l"));return a[r]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,s.extend(e,l);var h=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(t,m)),t.parse&&(i=this.parse(i,t)||{}),(n=s.result(this,"defaults"))&&(i=s.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];s.extend(h.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,a,r,o,l,d,u,c;if(null==e)return this;if("object"==typeof e?(a=e,n=t):(a={})[e]=t,n||(n={}),!this._validate(a,n))return!1;r=n.unset,l=n.silent,o=[],d=this._changing,this._changing=!0,d||(this._previousAttributes=s.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)t=a[i],s.isEqual(c[i],t)||o.push(i),s.isEqual(u[i],t)?delete this.changed[i]:this.changed[i]=t,r?delete c[i]:c[i]=t;if(!l){o.length&&(this._pending=!0);for(var p=0,h=o.length;h>p;p++)this.trigger("change:"+o[p],this,c[o[p]],n)}if(d)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in e)s.isEqual(i[a],t=e[a])||((n||(n={}))[a]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)
},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},V(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,a,r,o=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=s.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=s.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var l=this,d=n.success;return n.success=function(e){l.attributes=o;var t=l.parse(e,n);return n.wait&&(t=s.extend(i||{},t)),s.isObject(t)&&!l.set(t,n)?!1:(d&&d(l,e,n),l.trigger("sync",l,e,n),void 0)},V(this,n),a=this.isNew()?"create":n.patch?"patch":"update","patch"===a&&(n.attrs=i),r=this.sync(a,this,n),i&&n.wait&&(this.attributes=o),r},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(a){(e.wait||t.isNew())&&i(),n&&n(t,a,e),t.isNew()||t.trigger("sync",t,a,e)},this.isNew())return e.success(),!1;V(this,e);var a=this.sync("delete",this,e);return e.wait||i(),a},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||O();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},s.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,s.extend(t||{},{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];s.each(f,function(e){h.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),s[e].apply(s,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},v={add:!0,merge:!1,remove:!1};s.extend(g.prototype,l,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.defaults(t||{},v))},remove:function(e,t){e=s.isArray(e)?e.slice():[e],t||(t={});var n,i,a,r;for(n=0,i=e.length;i>n;n++)r=this.get(e[n]),r&&(delete this._byId[r.id],delete this._byId[r.cid],a=this.indexOf(r),this.models.splice(a,1),this.length--,t.silent||(t.index=a,r.trigger("remove",r,this,t)),this._removeReference(r));return this},set:function(e,t){t=s.defaults(t||{},y),t.parse&&(e=this.parse(e,t)),s.isArray(e)||(e=e?[e]:[]);var n,i,r,l,d,u=t.at,c=this.comparator&&null==u&&t.sort!==!1,p=s.isString(this.comparator)?this.comparator:null,h=[],m=[],f={};for(n=0,i=e.length;i>n;n++)(r=this._prepareModel(e[n],t))&&((l=this.get(r))?(t.remove&&(f[l.cid]=!0),t.merge&&(l.set(r.attributes,t),c&&!d&&l.hasChanged(p)&&(d=!0))):t.add&&(h.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(t.remove){for(n=0,i=this.length;i>n;++n)f[(r=this.models[n]).cid]||m.push(r);m.length&&this.remove(m,t)}if(h.length&&(c&&(d=!0),this.length+=h.length,null!=u?o.apply(this.models,[u,0].concat(h)):a.apply(this.models,h)),d&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=h.length;i>n;n++)(r=h[n]).trigger("add",r,this,t);return d&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return s.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,i,n)},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var a=e.reset?"reset":"set";n[a](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(a){t.wait&&n.add(e,t),i&&i(e,a,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(_,function(e){g.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});var A=["groupBy","countBy","sortBy"];s.each(A,function(e){g.prototype[e]=function(t,n){var i=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,i,n)}});var C=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];s.extend(C.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=s.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),n){var i=t.match(b),a=i[1],r=i[2];n=s.bind(n,this),a+=".delegateEvents"+this.cid,""===r?this.$el.on(a,n):this.$el.on(a,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=s.extend({},s.result(this,"options"),e)),s.extend(this,s.pick(e,E)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t["class"]=s.result(this,"className"));var n=e.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var a=P[t];s.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:a,dataType:"json"};if(i.url||(r.url=s.result(n,"url")||O()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){r.type="POST",i.emulateJSON&&(r.data._method=a);var o=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),o?o.apply(this,arguments):void 0}}"GET"===r.type||i.emulateJSON||(r.processData=!1),"PATCH"!==r.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(s.extend(r,i));return n.trigger("request",n,l,i),l};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var x=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,S=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(x.prototype,l,{initialize:function(){},route:function(t,n,i){s.isRegExp(t)||(t=this._routeToRegExp(t)),s.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var a=this;return e.history.route(t,function(r){var o=a._extractParameters(t,r);i&&i.apply(a,o),a.trigger.apply(a,["route:"+n].concat(o)),a.trigger("route",n,o),e.history.trigger("route",a,n,o)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(k,"(?:$1)?").replace(N,function(e,t){return t?e:"([^/]+)"}).replace(S,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return s.map(n,function(e){return e?decodeURIComponent(e):null})}});var w=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,D=/msie [\w.]+/,L=/\/$/;w.started=!1,s.extend(w.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(L,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(t){if(w.started)throw new Error("Backbone.history has already been started");w.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,a=D.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(I,"/"),a&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var r=this.location,o=r.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&r.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),w.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!w.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new w;var R=function(e,t){var n,i=this;n=e&&s.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},s.extend(n,i,t);var a=function(){this.constructor=n};return a.prototype=i.prototype,n.prototype=new a,e&&s.extend(n.prototype,e),n.__super__=i.prototype,n};h.extend=g.extend=x.extend=C.extend=w.extend=R;var O=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),Ndn_Require.define("backbone",["underscore","jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),function(e,t){"object"==typeof exports&&exports?module.exports=t:"function"==typeof Ndn_Require.define&&Ndn_Require.define.amd?Ndn_Require.define("mustache",t):e.Mustache=t}(this,function(){function e(e,t){return v.call(e,t)}function t(t){return!e(m,t)}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e){return String(e).replace(/[&<>"'\/]/g,function(e){return C[e]})}function a(e){this.string=e,this.tail=e,this.pos=0}function r(e,t){this.view=e||{},this.parent=t,this._cache={}}function o(){this.clearCache()}function s(e,t,n,i){for(var a,r,o,l="",d=0,u=e.length;u>d;++d)switch(a=e[d],r=a[1],a[0]){case"#":if(o=n.lookup(r),"object"==typeof o)if(A(o))for(var c=0,p=o.length;p>c;++c)l+=s(a[4],t,n.push(o[c]),i);else o&&(l+=s(a[4],t,n.push(o),i));else if("function"==typeof o){var h=null==i?null:i.slice(a[3],a[5]);o=o.call(n.view,h,function(e){return t.render(e,n)}),null!=o&&(l+=o)}else o&&(l+=s(a[4],t,n,i));break;case"^":o=n.lookup(r),(!o||A(o)&&0===o.length)&&(l+=s(a[4],t,n,i));break;case">":o=t.getPartial(r),"function"==typeof o&&(l+=o(n));break;case"&":o=n.lookup(r),null!=o&&(l+=o);break;case"name":o=n.lookup(r),null!=o&&(l+=b.escape(o));break;case"text":l+=r}return l}function l(e){for(var t,n=[],i=n,a=[],r=0,o=e.length;o>r;++r)switch(t=e[r],t[0]){case"#":case"^":a.push(t),i.push(t),i=t[4]=[];break;case"/":var s=a.pop();s[5]=t[2],i=a.length>0?a[a.length-1][4]:n;break;default:i.push(t)}return n}function d(e){for(var t,n,i=[],a=0,r=e.length;r>a;++a)t=e[a],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(n=t,i.push(t)));return i}function u(e){return[new RegExp(n(e[0])+"\\s*"),new RegExp("\\s*"+n(e[1]))]}function c(e,i){function r(){if(x&&!k)for(;P.length;)delete E[P.pop()];else P=[];x=!1,k=!1}if(e=e||"",i=i||b.tags,"string"==typeof i&&(i=i.split(h)),2!==i.length)throw new Error("Invalid tags: "+i.join(", "));for(var o,s,c,m,v,_=u(i),A=new a(e),C=[],E=[],P=[],x=!1,k=!1;!A.eos();){if(o=A.pos,c=A.scanUntil(_[0]))for(var N=0,S=c.length;S>N;++N)m=c.charAt(N),t(m)?P.push(E.length):k=!0,E.push(["text",m,o,o+1]),o+=1,"\n"==m&&r();if(!A.scan(_[0]))break;if(x=!0,s=A.scan(y)||"name",A.scan(p),"="===s?(c=A.scanUntil(f),A.scan(f),A.scanUntil(_[1])):"{"===s?(c=A.scanUntil(new RegExp("\\s*"+n("}"+i[1]))),A.scan(g),A.scanUntil(_[1]),s="&"):c=A.scanUntil(_[1]),!A.scan(_[1]))throw new Error("Unclosed tag at "+A.pos);if(v=[s,c,o,A.pos],E.push(v),"#"===s||"^"===s)C.push(v);else if("/"===s){if(0===C.length)throw new Error('Unopened section "'+c+'" at '+o);var T=C.pop();if(T[1]!==c)throw new Error('Unclosed section "'+T[1]+'" at '+o)}else if("name"===s||"{"===s||"&"===s)k=!0;else if("="===s){if(i=c.split(h),2!==i.length)throw new Error("Invalid tags at "+o+": "+i.join(", "));_=u(i)}}var T=C.pop();if(T)throw new Error('Unclosed section "'+T[1]+'" at '+A.pos);return E=d(E),l(E)}var p=/\s*/,h=/\s+/,m=/\S/,f=/\s*=/,g=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/,v=RegExp.prototype.test,_=Object.prototype.toString,A=Array.isArray||function(e){return"[object Array]"===_.call(e)},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};a.prototype.eos=function(){return""===this.tail},a.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},a.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},r.make=function(e){return e instanceof r?e:new r(e)},r.prototype.push=function(e){return new r(e,this)},r.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."==e)t=this.view;else for(var n=this;n;){if(e.indexOf(".")>0){t=n.view;for(var i=e.split("."),a=0;t&&a<i.length;)t=t[i[a++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},o.prototype.clearCache=function(){this._cache={},this._partialCache={}},o.prototype.compile=function(e,t){var n=this._cache[e];if(!n){var i=b.parse(e,t);n=this._cache[e]=this.compileTokens(i,e)}return n},o.prototype.compilePartial=function(e,t,n){var i=this.compile(t,n);return this._partialCache[e]=i,i},o.prototype.getPartial=function(e){return e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e)),this._partialCache[e]},o.prototype.compileTokens=function(e,t){var n=this;return function(i,a){if(a)if("function"==typeof a)n._loadPartial=a;else for(var o in a)n.compilePartial(o,a[o]);return s(e,n,r.make(i),t)}},o.prototype.render=function(e,t,n){return this.compile(e)(t,n)};var b={};b.name="mustache.js",b.version="0.7.2",b.tags=["{{","}}"],b.Scanner=a,b.Context=r,b.Writer=o,b.parse=c,b.escape=i;var E=new o;return b.clearCache=function(){return E.clearCache()},b.compile=function(e,t){return E.compile(e,t)},b.compilePartial=function(e,t,n){return E.compilePartial(e,t,n)},b.compileTokens=function(e,t){return E.compileTokens(e,t)},b.render=function(e,t,n){return E.render(e,t,n)},b.to_html=function(e,t,n,i){var a=b.render(e,t,n);return"function"!=typeof i?a:(i(a),void 0)},b}()),Ndn_Require.define("models/Ndn/PlayerServices/Cache",["backbone","jquery"],function(){var e={},t={};return{cachePlaylistData:function(t,n){if(t.playlistId){var i="undefined"==typeof e[t.playlistId]||!e[t.playlistId].isCompletedLoaded&&e[t.playlistId].items.length<t.items.length;i&&(t.isCompletelyLoaded=t.items.length<n,e[t.playlistId]=t)}},getPlaylistData:function(t,n){return"undefined"!=typeof e[t]&&(e[t].isCompletelyLoaded||e[t].items.length>=n)?e[t]:null},cacheVideoData:function(e){"undefined"==typeof t[e.videoId]&&(t[e.videoId]=e)}}}),Ndn_Require.define("models/Ndn/PlayerServices",["jquery","underscore","require","models/Ndn/PlayerServices/Cache"],function(e,t,n,i){var a=function(e,t,n,i,a){return a=a&&40>=a?a>15?40:15:null,"http://lps.newsinc.com/player/show/"+(t||"0")+"/"+(e||"0")+"/"+(n||"0")+"/"+(i||"0")+"/3"+(a?"/"+a:"")+"?d="+(new Date).getTime()},r=function(e){for(var n={videoId:e.ContentID,videoTitle:e.Name,description:e.Description,publishedOn:e.PubDate,mediaContent:[],producer:{trackingGroup:e.ContentPartnerID,name:e.ProducerName,category:e.ProducerCategory,logoUrl:e.ProducerLogo},settings:{share:{embedCode:{enabled:!!e.EmbedCodeAccessible}}}},i=[],a=0;a<e.Assets.length;a++){var r=e.Assets[a];"src"==r.AssetType?i.push(r):"stillFrame"==r.AssetType?n.stillImageUrl=r.AssetLocation:"thumbnail"==r.AssetType&&(n.thumbnailUrl=r.AssetLocation)}var o=t.sortBy(i,function(e){return e.AssetSortOrder});n.mediaContent=t.map(o,function(e){return{type:e.AssetMimeType,medium:"video",duration:e.Duration,url:e.AssetLocation}});var s=parseInt(n.mediaContent[0].duration,10);s=0>s?0:s;var l=Math.floor(s/60),d=l>59?d=Math.floor(l/60):d,u=s%60;return u=10>u?"0"+u:u,d>0&&"undefined"!=d?(l%=60,l=10>l?"0"+l:l,s=d+":"+l+":"+u,durationSize="durationHours"):(s=l+":"+u,durationSize="durationMinutes"),n.displayDuration=s,n},o=function(e,n){var i=[];return t.each(e,function(e){if(9999999!==e.playlistid){var a={playlistId:e.playlistid,title:e.Title,items:[]};t.each(e.Contents,function(e){a.items.push(r(e))}),a.items=t.first(a.items,n),i.push(a)}}),i},s=function(n,i){var a,s={playlists:{},associatedPlaylists:[],defaultWidgetConfig:{trackingGroup:n.TrackingGroup,type:"VideoPlayer/Default",siteSection:n.SiteSectionName,autoPlay:!n.DisableVideoPlayOnLoad,continuousPlay:n.ContinuousPlay,videoId:"",playlistId:"",adsEnabled:!n.DisableAds,rmmSoundOn:!1},settings:{share:{enabled:!n.DisableSocialNetworking&&!n.DisableSingleEmbed,email:{enabled:!n.DisableSocialNetworking},socialNetworks:{enabled:!n.DisableSingleEmbed},directLink:{landingPageUrl:"http://landing.newsinc.com/shared/video.html"==n.LandingURL?"http://launch.newsinc.com/share.html":n.LandingURL,needsLegacySupport:"http://landing.newsinc.com/shared/video.html"!=n.LandingURL}},googleAnalytics:{enabled:function(){var t;return e.each(n.DeliverySettings,function(){return"deliverGA"==this.Name?(t="true"==this.Value,!1):void 0}),t}()},ads:{enabled:!n.DisableAds,server:n.AdServer},dfp:{accountNumber:n.DfpInfo.Account,adOwnershipGroupId:n.DfpInfo.OwnershipGroup,adTrackingGroupId:n.DfpInfo.TrackingGroup},auditude:{trackingGroupAuditudeId:n.ZoneID,enableGoogleAds:function(){var t;return e.each(n.DeliverySettings,function(){return"GoogleExtURL"==this.Name?(t="true"==this.Value,!1):void 0}),t}()}},distributor:{name:n.DistributorName},zoneId:n.ZoneID,siteSection:n.SiteSectionName},l=o(n.Playlists,i);return t.each(l,function(e){s.associatedPlaylists.push({id:e.playlistId,label:e.title}),e.items.length&&(a=e.playlistId,s.playlists[a]=e)}),s.defaultWidgetConfig.playlistId=a,t.each(n.Playlists,function(e){if(9999999==e.playlistid&&e.Contents[0]){for(var t=e.Contents[0],n=s.playlists[a].items,i=0;i<n.length;i++){var o=n[i];o.videoId==t.ContentID&&(s.videoIndex=i)}"undefined"==typeof s.videoIndex&&(s.videoData=r(t))}}),s},l=function(t,n,r){return e.Deferred(e.proxy(function(o){var l=t.get("config");r||(r=t.get("playlistItemsLimit")),e.ajax({type:"GET",url:a(l.widgetId,l.trackingGroup,n||l.playlistId,l.videoId,r),contentType:"json",dataType:"jsonp"}).done(function(n){var a=s(n,r);e.each(a.playlists,function(){i.cachePlaylistData(this,r)}),t.trigger("playerData:received",a),o.resolve(a)})},this)).promise()};return{getPlayerData:function(t,n,r,o,l){return e.Deferred(e.proxy(function(d){e.ajax({type:"GET",url:a(t,n,r,o,l),contentType:"json",dataType:"jsonp"}).done(function(t){var n=s(t,l);e.each(n.playlists,function(){i.cachePlaylistData(this,l)}),d.resolve(n)})},this)).promise()},getWidgetSettings:function(e){return l.call(this,e).done(function(t){e.trigger("playerData:received",t)})},getPlaylistData:function(t,n,a){return e.Deferred(e.proxy(function(r){"undefined"==typeof a&&(a=n.get("playlistItemsLimit"));var o=i.getPlaylistData(t,a);o?r.resolve(o):l.call(this,n,t).done(e.proxy(function(){o=i.getPlaylistData(t,a),o?r.resolve(o):r.reject()},this)).fail(r.reject)},this)).promise()}}}),Ndn_Require.define("models/Ndn/Utils/UrlParser",["underscore"],function(e){var t=null;return{getUrlVar:function(e,n){return"undefined"==typeof n&&(n=!0),t=this.getUrlVars(n),"undefined"!=typeof t[e]?t[e]:null},getUrlVars:function(e){if("undefined"==typeof e&&(e=!0),!e||null===t){var n=window.location+"";t=this.parseHref(n).params}return t},getUrlVarsWithPrefix:function(t){var n={};return e.each(this.getUrlVars(),function(e,i){i.substring(0,t.length)==t&&(n[i.substring(t.length)]=e)}),n},parseHref:function(e){return{url:e.replace(/\?.*$/,""),params:function(){var t={};return e.replace(/[?&]+([^=&#]+)=([^&#]*)/gi,function(e,n,i){"#"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),t[n]=decodeURIComponent(i)}),t}()}},getUrlQueryString:function(e){return"undefined"==typeof e&&(e=window.location.href.toString()),-1!==e.indexOf("?")?e.replace(/^[^?]*\?/,""):""}}}),Ndn_Require.define("models/Ndn/Legacy/Config/Ap",["jquery"],function(e){var t={1153168:"90703",1296344:"90416",10003188:"90693",TXABI:"90459",PAALM:"90364",GASTA:"90683",TXAMA:"90582",ARLID:"90554",GAATH:"90604",GAAUG:"90612",TXAUS:"90105",MTBOZ:"90721",PABUT:"90433",FLCAP:"90364",TXCOR:"90550",VACUL:"90527",IAWEB:"90364",MIESC:"90364",VADAR:"90528",ALDOT:"90510",PAERI:"90464",IAEST:"90364",FLJAJ:"90049",NCHIC:"90518",TXHOU:"90000",NCCON:"90517",JRC:"90734",WIKEN:"90233",WABRE:"90552",MOCAG:"90589",NDMIN:"90364",FLNAP:"90542",INBNB:"90605",ALOPE:"90514",MNROC:"90379",VARIT:"90535",FLSAR:"90492",INSBT:"90575",MNPAU:"90156",TXSAN:"90551",CAPAS:"90494",TNMEM:"90547",MSCCD:"90135",OHFIN:"90421",OHCAM:"90249",MIHOU:"90364",MIIRO:"90364",VACHA:"90526",NCFAY:"90364",wvwhe:"90364",TNKNN:"90542",OHMAR:"90364",HIMAN:"90364",NCMAR:"90519",MIMAR:"90364",VALYD:"90532",VAWAY:"90538",SCCHA:"90349",NYJAP:"90364",OHEAS:"90249",OHSAL:"90364",ILSPR:"90108",GAGAI:"90079",WVWEI:"90364",PAWIL:"90087",NYALT:"90001",WAKR:"90412",TXWIC:"90553",NCWIN:"90522",WRKO:"90629",WSPATV:"90507",WTKKFM:"90456",PAYOK:"90732",FLMIH:"90045",WABEL:"90472",SCCOL:"90474",CAFRE:"90476",CAMOD:"90479",CASAB:"90482",WATAC:"90483",FLBRA:"90484",ILROR:"90108",MAQUI:"90108",CTNOR:"90108",MABRO:"90108",WSAW:"90447",FLTAM:"90426",NVLAS:"90277",INSID:"90531",WNCNTV:"90777",WCMHTV:"90061",OREUG:"90878",SCFLO:"90784",WJARTV:"90053",WIMIL:"90078",RIJRJ:"90446",WRGBTV:"90028",WWMTTV:"90029",ILALT:"90033",WPECTV:"90039",KTVLTV:"90042",OHLIM:"90043",AAAA:"0000",WASECA:"90667",PAYOR:"90681",GACOV:"90691",GAHIN:"90686",CASCN:"90152",CAMAN:"90690",WIEAU:"90694",MSMCC:"90695",FLNAV:"90696",LAMOR:"90697",LAFRA:"90698",SCAIK:"90699",ARFOR:"90700",MIGHT:"90702"};return{getTrackingGroupFromApPartnerId:function(){t[fValue]||"90121"},translate:function(t,n){return e.Deferred(function(i){var a=n;return t.f&&(a.trackingGroup=this.getTrackingGroupFromApPartnerId(t.f),"0"==a.widgetId&&(a.widgetId="3989")),!a.videoId&&t.g?e.ajax({type:"GET",url:"http://dmeserv.newsinc.com/apids/lookup.jsonp?apvid="+t.g,dataType:"jsonp"}).then(function(e){return a.videoId=e,a}):(i.resolve(a),void 0)}).promise()}}}),Ndn_Require.define("models/Ndn/Legacy/Config/TritonLoyaltyProgram",["jquery"],function(e){return{translate:function(t,n){return e.Deferred(function(e){t.memberid=t.memberid||t.membedid||"",""!=t.memberid&&"none"!=t.memberid&&(n.loyaltyProgramId="ndntritonservice",n.loyaltyProgramData={memberId:t.memberid,siteId:t.siteid}),e.resolve(n)}).promise()}}}),Ndn_Require.define("models/Ndn/Legacy/Config",["jquery","models/Ndn/Utils/UrlParser","models/Ndn/Legacy/Config/Ap","models/Ndn/Legacy/Config/TritonLoyaltyProgram"],function(e,t,n,i){return{translate:function(a,r){return e.Deferred(function(e){var o=t.parseHref(a),s=o.params;for(var l in s)s.hasOwnProperty(l)&&l!=l.toLowerCase()&&(s[l.toLowerCase()]=s[l],delete s.paramKey);var d={widgetId:s.wid,siteSection:s.sitesection||"",videoId:s.vid||"",trackingGroup:s.freewheel||"",playlistId:s.cid||""},u={"/Single/embed.js":"VideoPlayer/Default"};d.type="undefined"!=typeof r?r:"undefined"!=typeof u[o.url]?u[o.url]:"",(s.width||s.w)&&(d.width=s.width||s.w),(s.height||s.h)&&(d.height=s.height||s.h),n.translate(s,d).then(function(e){return i.translate(s,e)}).fail(e.reject).done(e.resolve)}).promise()}}}),Ndn_Require.define("models/Ndn/Analytics/Ndn",["backbone","jquery"],function(e,t){var n=function(){var e="ANALYTICS_USER_TOKEN",t=function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(e==i[0])return unescape(i[1])}return null}(e);if(null==t){var n=function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var i=0;36>i;i++)n[i]||(e=0|16*Math.random(),n[i]=t[19==i?8|3&e:e]);var a=new Date;return n.join("")+a.getTime()}();return function(e,t,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+i.toGMTString())}(e,n,30),n}return t};return e.Model.extend({trackWidgetView:function(e){e.onceConfigIsComplete(function(){var i=e.get("config");t.ajax({url:"http://analytics.newsinc.com/AnalyticsProvider/jsonp/analytics/PageViewJSONP",type:"GET",contentType:"application/json",dataType:"jsonp",data:{wid:i.widgetId,uut:n(),furl:window.location.href.split("?")[0],purl:null,ssid:i.siteSection,anid:i.trackingGroup}})})},trackVideoView:function(e,i){e.onceConfigIsComplete(function(){var a=e.get("config"),r=e.getContainerElement(),o="ndn_analytics_trackVideoView",s=r.find("."+o),l=100;s.length>=l&&s.slice(0,Math.floor(l/2)).remove(),t(document.createElement("img")).addClass(o).attr({src:"http://ps2.newsinc.com/players/report.xml?sitesection="+a.siteSection+"&event=progprogres&freewheel="+a.trackingGroup+"&uniqueUserId="+n()+"&videoId="+e.get("videoPlayer").getCurrentVideoData().videoId+"&playlistId="+e.get("videoPlayer").get("playlistId")+"&percentPlayed="+i+"&timePlayed="+e.get("videoPlayer").getCurrentTime()+"&d="+(new Date).getTime(),style:"display:none;"}).appendTo(e.getContainerElement())})}})});var _qevents=_qevents||[];Ndn_Require.define("models/Ndn/Analytics/Quantcast",["backbone","jquery"],function(e){return e.Model.extend({defaults:{accountId:null},initialize:function(e){this.set({accountId:e}),function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},track:function(){_qevents.push({qacct:this.get("accountId")})}})});var _gaq=_gaq||[];Ndn_Require.define("models/Ndn/Analytics/Google",["backbone","jquery"],function(e,t){var n=["local.newsinc.com","dev.assets.newsinc.com"],i=function(){var e=!1;return t.each(n,function(){var t=new RegExp("([.]|^)"+this+"$");return t.test(window.location.host)?(e=!0,!1):void 0}),e}();return e.Model.extend({defaults:{accountId:null},initialize:function(e){this.set({accountId:e})},trackPageView:function(){i&&(_gaq.push(["ndn._setAccount",this.get("accountId")]),_gaq.push(["ndn._setAllowLinker",!0]),_gaq.push(["ndn._trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}())},trackWidgetEmbedStart:function(e){i&&(_gaq.push(["ndn._setCustomVar",1,"WID",e.get("config").widgetId,3]),_gaq.push(["ndn._trackEvent","Embed","Widget Initiated"]))},trackWidgetEmbedEnd:function(e){i&&(_gaq.push(["ndn._setCustomVar",2,"PartnerID",e.get("config").trackingGroup,3]),_gaq.push(["ndn._setCustomVar",3,"Player Behavior",e.get("config").autoPlay?"AS":"CTP",3]),_gaq.push(["ndn._setCustomVar",4,"SiteSection",e.get("config").siteSection,3]),_gaq.push(["ndn._setCustomVar",5,"PlayerProduct",e.getWidgetTypeId()+"",3]),_gaq.push(["ndn._trackEvent","Embed","Widget Loaded"]))
},trackWidgetVideoPlayerLoaded:function(){i&&_gaq.push(["ndn._trackEvent","Video","Player Loaded"])}})}),Ndn_Require.define("models/Ndn/Analytics",["backbone","jquery","models/Ndn/Analytics/Ndn","models/Ndn/Analytics/Quantcast","models/Ndn/Analytics/Google"],function(e,t,n,i,a){return e.Model.extend({defaults:{ndn:new n,quantcast:new i("p-573scDfDoUH6o"),google:new a("UA-35606174-6")},initialize:function(){this.on("pageView",function(){this.get("quantcast").track(),this.get("google").trackPageView()}),this.on("widgetEmbedStart",function(e){this.get("google").trackWidgetEmbedStart(e),this.get("ndn").trackWidgetView(e)}),this.on("widgetEmbedEnd",function(e){this.get("google").trackWidgetEmbedEnd(e)}),this.on("videoPlayerEmbed",function(){}),this.on("videoView",function(e){this.get("ndn").trackVideoView(e.widget,e.percentPlayed)})}})}),Ndn_Require.define("models/Ndn/Timer",[],function(){return function(e,t,n){this.active=!1,this.callback=e,this.interval=t||0,this.isActive=function(){return this.active},this.numberOfTimesToExecute,this.setNumberOfTimesToExecute=function(e){return"undefined"!=typeof e?e:1};var i=this;this.start=function(){return this.isActive()||(this.active=!0,this.timerObject=setInterval(function(){this.numberOfTimesToExecute--||0===n?i.callback():i.stop()},this.interval)),this},this.execute=function(){i.callback()},this.stop=function(){return this.active=!1,clearInterval(this.timerObject),this},this.reset=function(){return this.numberOfTimesToExecute=this.setNumberOfTimesToExecute(n),this.stop().start()},this.numberOfTimesToExecute=this.setNumberOfTimesToExecute(n)}}),Ndn_Require.define("models/Ndn/AdsTargeting/Abstract",["backbone","jquery","models/Ndn/Timer"],function(e,t,n){return e.Model.extend({defaults:{segments:[],isLoaded:!1,timeoutTimer:null,isDeliverable:!1,auditudeSegmentsKey:""},isDeliverable:function(){return this.get("isDeliverable")},onceIsDeliverable:function(e){this.isDeliverable()?e():this.once("deliver",e)},initialize:function(){this.on("change:isLoaded",t.proxy(function(){this.trigger("deliver")},this)).on("deliver",t.proxy(function(){this.set({isDeliverable:!0})},this)),this.set({timeoutTimer:new n(t.proxy(function(){this.trigger("deliver")},this),500)})},isLoaded:function(){return this.get("isLoaded")},getSegments:function(){return this.get("segments")}})}),Ndn_Require.define("models/Ndn/AdsTargeting/CollectiveMedia",["jquery","models/Ndn/AdsTargeting/Abstract"],function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),this.set({auditudeSegmentsKey:"ampseg"}),e.ajax({type:"GET",url:"http://a.collective-media.net/profile/jsonp?net=cm",jsonpCallback:"cb",contentType:"application/json",dataType:"jsonp",success:e.proxy(function(e){this.set({segments:e.segments,isLoaded:!0})},this),error:function(){}})}})}),Ndn_Require.define("models/Ndn/AdsTargeting/LegolasMedia",["models/Ndn/AdsTargeting/Abstract","models/Ndn/Timer"],function(e){return e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments),this.set({auditudeSegmentsKey:"lsg"});var t=function(e){var t=document.cookie;if(-1!=t.indexOf(e)){var n=t.indexOf(e)+e.length+1,i=t.indexOf(";",n)-1;return-2==i&&(i=t.length),unescape(t.substring(n,i))}return!1}("lsg");t&&this.set("segments",t.split("s")),this.set("isLoaded",!0)}})}),Ndn_Require.define("models/Ndn/AdsTargeting/Lotame",["jquery","models/Ndn/AdsTargeting/Abstract"],function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),this.set({auditudeSegmentsKey:"lotame"}),e.ajax({type:"GET",url:"http://ad.crwdcntrl.net/5/c=1859/pe=y",dataType:"json",success:e.proxy(function(e){var t=[],n=function(e){for(var n in e)t.push(e[n].id)};"undefined"!=typeof e.Profile.Audiences.Audience&&n(e.Profile.Audiences.Audience),"undefined"!=typeof e.Profile.Audiences.ThirdPartyAudience&&n(e.Profile.Audiences.ThirdPartyAudience),this.set({segments:t,isLoaded:!0})},this),error:function(){}})}})}),Ndn_Require.define("models/Ndn/AdsTargeting",["jquery","backbone","models/Ndn/Timer","models/Ndn/AdsTargeting/CollectiveMedia","models/Ndn/AdsTargeting/LegolasMedia","models/Ndn/AdsTargeting/Lotame"],function(e,t,n,i,a){return t.Model.extend({defaults:{types:{legolas:new a},isDeliverable:!1,timeoutTimer:null},initialize:function(){var t=0;e.each(this.get("types"),function(){t++}),this.set({timeoutTimer:new n(e.proxy(function(){this.trigger("deliver")},this),500)}),this.on("deliver",e.proxy(function(){this.set({isDeliverable:!0})},this));var i=this;e.each(this.get("types"),function(){this.onceIsDeliverable(function(){0==--t&&i.trigger("deliver")})})},isDeliverable:function(){return this.get("isDeliverable")},onceIsDeliverable:function(e){this.isDeliverable()?e():this.once("deliver",e)},getInstance:function(e){return this.get("types")[e]||null}})}),Ndn_Require.define("models/Ndn/Hooks",["backbone","jquery"],function(e,t){var n=function(e){return null!==i(e)},i=function(e){if(e.match(/^hook:/)){var t=e.match(/^hook:(.*)$/);return t[1]}return null};return e.Model.extend({observeWidget:function(e){e.on("all",t.proxy(function(a,r){if(n(a)){var o=i(a),s=t.proxy(function(t){this.trigger(t,{containerElement:e.getContainerElement().get(0),widgetUid:e.get("widgetUid"),eventName:o,data:r})},this);s(e.getContainerElement().attr("id")+"/"+o),s("*/"+o)}},this))}})}),Ndn_Require.define("models/Ndn/LoyaltyProgram",["backbone","jquery","mustache"],function(e,t,n){var i=function(e){return"ndntritonservice"==e?"http://loyalty.newsinc.com/ndntritonservice.svc/GetCredit/{{memberId}}/{{siteId}}":void 0},a=function(e,t){return i(e),n.to_html(i(e),t)};return e.Model.extend({defaults:{id:null,customData:null,ajaxUrl:""},initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.set({ajaxUrl:a(this.get("id"),this.get("customData"))})},execute:function(){t.getJSON(this.get("ajaxUrl"),function(){})}})}),Ndn_Require.define("jquery_scrollTo",["jquery"],function(e){!function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,a,r){return"object"==typeof a&&(r=a,a=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),a=a||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(a/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function o(e){d.animate(c,a,r.easing,e&&function(){e.call(this,u,r)})}if(null!=i){var s,l=this,d=e(l),u=i,c={},p=d.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",a=i.toLowerCase(),h="scroll"+i,m=l[h],f=n.max(l,t);if(s)c[h]=s[a]+(p?0:m-d.offset()[a]),r.margin&&(c[h]-=parseInt(u.css("margin"+i))||0,c[h]-=parseInt(u.css("border"+i+"Width"))||0),c[h]+=r.offset[a]||0,r.over[a]&&(c[h]+=u["x"==t?"width":"height"]()*r.over[a]);else{var g=u[a];c[h]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*f:g}r.limit&&/^\d+$/.test(c[h])&&(c[h]=c[h]<=0?0:Math.min(c[h],f)),!e&&r.queue&&(m!=c[h]&&o(r.onAfterFirst),delete c[h])}),o(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",a="scroll"+i;if(!e(t).is("html,body"))return t[a]-e(t)[i.toLowerCase()]();var r="client"+i,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(o[a],s[a])-Math.min(o[r],s[r])}}(e)});var _nw2e=_nw2e||[];Ndn_Require.define("models/Ndn/Widget",["jquery","underscore","backbone","require","mustache","models/Ndn/PlayerServices","models/Ndn/Utils/UrlParser","models/Ndn/Legacy/Config","models/Ndn/Analytics","models/Ndn/AdsTargeting","models/Ndn/AdsTargeting/Abstract","models/Ndn/Hooks","models/Ndn/LoyaltyProgram","jquery_scrollTo"],function(e,t,n,i,a,r,o,s,l,d,u,c,p){if(_nw2e.Ndn_Widget)return _nw2e.Ndn_Widget;n.$=e,_nw2e.jQuery=e,_nw2e.require=i;var h,m,f=["distributorId","widgetId","type","trackingGroup","playlistId","videoId","siteSection","acceptsConfigFromUrl","acceptsConfigFromUrlPrefix","legacyEmbedUrl","autoPlay","continuousPlay","rmmSoundOn","adsEnabled","width","height"],g={"VideoPlayer/Default":{typeId:5},"VideoPlayer/16x9":{typeId:2},"VideoPlayer/Inline300":{typeId:4,typeIdForAutoPlay:13},"VideoPlayer/Inline590":{typeId:11,typeIdForAutoPlay:14},"VideoLauncher/Slider300x250":{typeId:17},"VideoLauncher/Playlist300x250":{typeId:18},"VideoLauncher/Horizontal":{typeId:19},"VideoLauncher/VerticalTower":{typeId:20},"VideoPlayer/YouTube":{typeId:91}},y=function(){var e={};return t.each(g,function(t,n){e[n.toLowerCase()]=n}),e}(),v=1,_=[],A=function(e){_.push(e),C.trigger("widgetEmbedStart",{widget:e})},C=new c,b=new d,E=function(t){if(t.data("config"))return t.data("config");var n={};return e.each(t[0].attributes,function(e,t){var i;if(i=t.name.toLowerCase().match(/^data-config-(.*)$/)){var a=i[1].replace(/-(\w)/g,function(e,t){return t.toUpperCase()});n[a]=t.value}}),n},P=function(t,n){if("undefined"==typeof n.type&&(n.type=""),n.type=(n.type+"").replace(" ",""),""==n.type&&(n.type="VideoPlayer/Single"),"videoplayer/single"==(n.type+"").toLowerCase()&&(n.type="VideoPlayer/Default"),n.type="undefined"==typeof y[n.type.toLowerCase()]?"VideoPlayer/Default":y[n.type.toLowerCase()],!t.hasClass("ndn_embedding")&&!t.hasClass("ndn_embedded")){t.addClass("ndn_embedding").addClass("ndn_embed").addClass("ndn_embedContainer");var a=k.getNextNdnWidgetUid();if(t.addClass(a).data("ndn-widget-uid",a),!function(){return"undefined"==typeof t.attr("id")&&t.attr("id",a),t.attr("id")}(),n.distributorId&&!n.legacyEmbedUrl)return function(){var e={paths:{}};e.paths["perfectPixel"+n.distributorId]="http://dev.assets.newsinc.com/steven/perfect-pixel-tests/"+n.distributorId;var t=_nw2e.requireConfig(e);t(["perfectPixel"+n.distributorId],function(){})}(),void 0;var r="views/Ndn/Widget/"+n.type+"View",o="models/Ndn/Widget/"+n.type+"Model";i([r,o],function(i,r){var o=new r(n).set({containerElement:t.get(0),widgetUid:a});k.trackAnalytics("widgetEmbedStart",o),C.observeWidget(o),A(o),o.get("config").width&&t.css("width",o.get("config").width+"px"),o.get("config").height&&t.css("height",o.get("config").height+"px"),t.addClass(k.getDomClassIdentifier(o.get("config").type)),o.getSettings().done(e.proxy(function(){o.initializeTemplates(function(){o.set({view:new i({el:t.get(0),model:o})}),t.addClass("ndn_embedded").removeClass("ndn_embedding"),o.onceConfigIsComplete(function(){C.trigger("widgetEmbedEnd",o),k.trackAnalytics("widgetEmbedEnd",o),o.trigger("hook:configComplete",o.get("config"))})})},this))})}},x=!1,k=n.Model.extend({defaults:{config:{},templates:[],templatePaths:[],initialConfig:{},containerElement:null,widgetUid:null,isAttached:!1,configComplete:!1,settings:null,loyaltyProgram:null,hasBeenPositionedBelowTheFold:!1,settingsPending:!1,dfpPodPositionValue:null},initialize:function(n){"undefined"!=typeof n.continuousPlay&&(n.continuousPlay=parseInt(n.continuousPlay)),this.set({initialConfig:t.extend({},n),config:n}),this.set("dfpPodPositionValue",1),n.loyaltyProgramId&&this.set({loyaltyProgram:new p({id:n.loyaltyProgramId,customData:function(){try{return e.parseJSON(n.loyaltyProgramData)}catch(t){return{}}}()})}),this.once("change:view",e.proxy(function(){this.embed()},this))},integratePlayerServicesConfigDefaults:function(e){var n=this.get("config");k.isBuilt()&&delete n.adsEnabled,this.set({config:t.extend(t.extend({},e),n)}),this.set({configComplete:!0}),this.trigger("configComplete",this.get("config"))},onceConfigIsComplete:function(e){this.get("configComplete")?e():this.once("configComplete",e)},initializeTemplates:function(t){var n=[],r=[];e.each(this.get("templatePaths"),function(e){n.push(e),r.push("text!templates/"+this+".mustache")}),i(r,e.proxy(function(){for(var e={},i=Array.prototype.slice.call(arguments,0),r=0;r<i.length;r++)e[n[r]]=function(e){return function(t){return a.to_html(e,t)}}(i[r]);this.set({templates:e}),"function"==typeof t&&t(this)},this))},getTemplate:function(e){var t=this.get("templates");return"undefined"!=typeof t[e]?t[e]:null},getWidgetTypeId:function(){var e=g[this.get("config").type];return this.get("config").autoPlay&&e.typeIdForAutoPlay?e.typeIdForAutoPlay:0!=this.get("config").rmmSoundOn&&e.typeIdForAutoPlay?e.typeIdForAutoPlay:e.typeId},embed:function(){},getFoldPositionId:function(t){if("undefined"==typeof t&&(t=e(this.get("containerElement"))),k.isEmbeddedByIframe())return"0";var n,i=e(window).height()+e(window).scrollTop(),a=i>=t.offset().top+Math.floor(t.height()/2);return a?n="1":(this.set({hasBeenPositionedBelowTheFold:!0}),n="2"),n},isEmbedded:function(){return this.get("view")&&this.get("view").el},onceEmbedded:function(e){this.isEmbedded()?e():this.once("embed",e)},getContainerElement:function(){return e(this.get("containerElement"))},getSettings:function(){return e.Deferred(e.proxy(function(t){this.get("settings")?t.resolve(this.get("settings")):this.get("settingsPending")?this.once("settingsReceived",function(e){t.resolve(e)}):(this.set("settingsPending",!0),r.getWidgetSettings(this).done(e.proxy(function(e){this.set("settings",e),t.resolve(this.get("settings")),this.trigger("settingsReceived",this.get("settings"))},this)))},this)).promise()},getDfpPodPositionValue:function(){var e=this.get("dfpPodPositionValue");return this.set("dfpPodPositionValue",e+1),e},isBuilt:function(){return"undefined"!=typeof Ndn_Require}},{getAppUrlSuffix:function(){var e=[],t=o.getUrlVars();for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"&"+e.join("&"):""},addHook:function(e,t){C.on(e,t)},getEmbedOriginUrl:function(){var e=window.location.href.toString();return k.isOnAppPage()&&(e=o.getUrlVar("embedOriginUrl")||k.isEmbeddedByIframe()&&document.referrer||window.location.href.toString()),e},getEmbedPageUrl:function(){return k.getEmbedOriginUrl()},trackAnalytics:function(e,t){if("undefined"==typeof t)var t={};m||(m=new l),m.trigger(e,t)},getAdsTargeting:function(){return b},isBuilt:function(){return"undefined"!=typeof Ndn_Require},getAppUrl:function(){return _nw2e.appUrl},getAppDomain:function(){return h||(h=this.isBuilt()?this.getAppUrl().match(/\/\/(.*)\//)[1]:window.location.host+""),h},isEmbeddedByIframe:t.memoize(function(){return this.isOnAppPage()&&!o.getUrlVar("embedOriginUrl")&&document.referrer&&window.location.pathname.toString().match(/^\/(\d+\/)?(landing-page\.html)?$/)}),isOnAppPage:function(){var e=k.getAppUrl();return window.location.href.toString().substring(0,(e+"/").length)==e+"/"},getFallbackPlaylist:function(){return"14126"},getNextNdnWidgetUid:function(){return"ndn-widget-embed-"+v++},getDomClassIdentifier:function(e){return"ndn_widget_"+e.charAt(0).toUpperCase()+e.slice(1).replace("/","-")},getDefaultUrlVarPrefixForConfigSettings:function(){return"ndn."},embed:function(n,i){var a="undefined"!=typeof n.nodeType&&1==n.nodeType;if(n=a?e(n):e("#"+n),!n.length)throw a?"Invalid dom element provided for embed":'Unable to find dom element with id "'+n+'" for embed';if(i=t.extend({},i,E(n)),i.hasOwnProperty("acceptsConfigFromUrl")&&"false"!=i.acceptsConfigFromUrl.replace(" ","").toLowerCase()){i.acceptsConfigFromUrl=!0;var r=i.hasOwnProperty("acceptsConfigFromUrlPrefix")?i.acceptsConfigFromUrlPrefix:k.getDefaultUrlVarPrefixForConfigSettings();i=o.getUrlVar("legacyEmbedUrl")||!o.getUrlVar("freewheel")||o.getUrlVar(r+"trackingGroup")?t.extend({},o.getUrlVarsWithPrefix(r),i):t.extend({trackingGroup:o.getUrlVar("freewheel"),siteSection:o.getUrlVar("sitesection"),videoId:o.getUrlVar("VID")||o.getUrlVar("vid")},i)}e.each(i,function(e){t.contains(f,e)||delete i[e]}),i.legacyEmbedUrl?s.translate(i.legacyEmbedUrl).fail(function(){}).done(function(e){i.type&&"__legacy-embed__"==i.type&&delete i.type,i=t.extend(e,i),P(n,i)}):P(n,i)},embedWidgetsFromContainersOnPage:function(){e(".ndn_embed:not(.ndn_embedding,.ndn_embedded)").each(function(){k.embed(this)})},onceAppIsInitialized:function(e){x?e():C.once("initialized",e)},getRecognizedWidgetTypes:function(){return t.keys(g)}});return k.trackAnalytics("pageView"),k.addHook("*/videoEnd",function(){"function"==typeof ndnEndOfVideo&&ndnEndOfVideo()}),function(){_nw2e.push=function(t){if("undefined"!=typeof t[0])if("hook"==t[0])k.addHook(t[1],t[2]);else if("embed"==t[0])k.embed(t[1]);else{if("when"!=t[0])throw"Unrecognized _nw2e instruction: "+t[0];"initialized"==t[1]&&k.onceAppIsInitialized(t[2])}else e(function(){k.embed(t.containerElementId,t.config)})};for(var t;t=_nw2e.shift();)_nw2e.push(t)}(),_nw2e.Ndn_Widget=k,C.once("initialized",function(){x=!0}),window.addEventListener&&window.postMessage&&window.addEventListener("message",function(n){if(n&&n.data&&"getEmbedData"==n.data._nw2e){var i=function(e){var n=t.extend({},e);return n.type&&"videoplayer/default"==(n.type+"").toLowerCase()&&(n.type="VideoPlayer/Single"),n},a=function(e){window.postMessage({_nw2e:"widgetEmbed",widget:{container:{width:e.getContainerElement().width(),height:e.getContainerElement().height()},isIframe:!1,containerId:e.getContainerElement().attr("id"),initialConfig:i(e.get("initialConfig")),config:i(e.get("config")),appUrl:k.getAppUrl(),appDomain:k.getAppDomain()}},window.location.protocol+"//"+window.location.hostname)};C.on("widgetEmbedEnd",function(e){a(e)}),e.each(_,function(){a(this)})}},!1),C.trigger("initialized"),k}),Ndn_Require.define("respond_polyfill",[],function(){return window.matchMedia=window.matchMedia||function(e){var t,n=e.documentElement,i=n.firstElementChild||n.firstChild,a=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(a,i),t=42===r.offsetWidth,n.removeChild(a),{matches:t,media:e}}}(document),function(e){function t(){C(!0)}var n={};if(e.respond=n,n.update=function(){},n.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches,!n.mediaQueriesSupported){var i,a,r,o=e.document,s=o.documentElement,l=[],d=[],u=[],c={},p=30,h=o.getElementsByTagName("head")[0]||s,m=o.getElementsByTagName("base")[0],f=h.getElementsByTagName("link"),g=[],y=function(){for(var t=0;t<f.length;t++){var n=f[t],i=n.className,a=n.href,r=n.media,o=n.rel&&"stylesheet"===n.rel.toLowerCase();"_nw2eStyles"==i&&a&&o&&!c[a]&&(console.log("respond.js: processing styles at "+n.href),n.styleSheet&&n.styleSheet.rawCssText?(_(n.styleSheet.rawCssText,a,r),c[a]=!0):(!/^([a-zA-Z:]*\/\/)/.test(a)&&!m||a.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&g.push({href:a,media:r}))}v()},v=function(){if(g.length){var t=g.shift();b(t.href,function(n){_(n,t.href,t.media),c[t.href]=!0,e.setTimeout(function(){v()},0)})}},_=function(e,t,n){var i=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),a=i&&i.length||0;t=t.substring(0,t.lastIndexOf("/"));var r=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},o=!a&&n;t.length&&(t+="/"),o&&(a=1);for(var s=0;a>s;s++){var u,c,p,h;o?(u=n,d.push(r(e))):(u=i[s].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,d.push(RegExp.$2&&r(RegExp.$2))),p=u.split(","),h=p.length;for(var m=0;h>m;m++)c=p[m],l.push({media:c.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:d.length-1,hasquery:c.indexOf("(")>-1,minw:c.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}C()},A=function(){var e,t=o.createElement("div"),n=o.body,i=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=i=o.createElement("body"),n.style.background="none"),n.appendChild(t),s.insertBefore(n,s.firstChild),e=t.offsetWidth,i?s.removeChild(n):n.removeChild(t),e=r=parseFloat(e)},C=function(t){var n="clientWidth",c=s[n],m="CSS1Compat"===o.compatMode&&c||o.body[n]||c,g={},y=f[f.length-1],v=(new Date).getTime();if(t&&i&&p>v-i)return e.clearTimeout(a),a=e.setTimeout(C,p),void 0;i=v;for(var _ in l)if(l.hasOwnProperty(_)){var b=l[_],E=b.minw,P=b.maxw,x=null===E,k=null===P,N="em";E&&(E=parseFloat(E)*(E.indexOf(N)>-1?r||A():1)),P&&(P=parseFloat(P)*(P.indexOf(N)>-1?r||A():1)),b.hasquery&&(x&&k||!(x||m>=E)||!(k||P>=m))||(g[b.media]||(g[b.media]=[]),g[b.media].push(d[b.rules]))}for(var S in u)u.hasOwnProperty(S)&&u[S]&&u[S].parentNode===h&&h.removeChild(u[S]);for(var T in g)if(g.hasOwnProperty(T)){var w=o.createElement("style"),M=g[T].join("\n");w.type="text/css",w.media=T,h.insertBefore(w,y.nextSibling),w.styleSheet?w.styleSheet.cssText=M:w.appendChild(o.createTextNode(M)),u.push(w)}},b=function(e,t){var n=E();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))},E=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}();y(),n.update=y,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),respond});var _nw2e=_nw2e||[];!function(){"undefined"==typeof console&&(console={log:function(){}}),_nw2e.appUrl=_nw2e.appUrl||"",_nw2e.requireConfig=("undefined"!=typeof Ndn_Require&&Ndn_Require.require||require).config,Ndn_Require.require.config({baseUrl:_nw2e.appUrl+"/js",paths:{amp_lib:"lib/amp.premier/amp.premier",jquery:"lib/jquery",underscore:"lib/underscore",backbone:"lib/backbone",mustache:"lib/mustache",toolbox:"lib/toolbox",addThis:"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-518bbde23f7ed2a9",bootstrap_tabs:"lib/bootstrap_tabs",jquery_bxslider:"lib/jquery_plugins/jquery.bxslider",jquery_imagesloaded:"lib/jquery_plugins/jquery.imagesLoaded.min",jquery_autoellipsis:"lib/jquery_plugins/jquery.autoellipsis",jquery_bootpag:"lib/jquery_plugins/jquery.bootpag",jquery_simplePagination:"lib/jquery_plugins/jquery.simplePagination",jquery_resize:"lib/jquery_plugins/jquery.ba-resize",jquery_responsive_containers:"lib/jquery_plugins/jquery.responsive-containers",jquery_scrollTo:"lib/jquery_plugins/jquery.scrollTo.min",respond_polyfill:"lib/respond",text:"lib/require_plugins/text",hgn:"lib/require_plugins/hgn",hogan:"lib/require_plugins/hogan"},shim:{underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"}},deps:["jquery","underscore"]})}(),Ndn_Require.require(["jquery","backbone","models/Ndn/Widget","models/Ndn/Utils/UrlParser","respond_polyfill"],function(e,t,n,i,a){t.$=e,n.isBuilt()?(e("head").append('<link class="_nw2eStyles" rel="stylesheet" type="text/css" href="'+_nw2e.appUrl+'/css/NdnEmbed.css" />'),a.update()):("dynamic"==i.getUrlVar("lessc")?e("head").append('<link rel="stylesheet" type="text/css" href="'+_nw2e.appUrl+'/_build/lessc.php?path=/less/NdnEmbed.less" />'):e("head").append('<link rel="stylesheet/less" type="text/css" href="'+_nw2e.appUrl+'/less/NdnEmbed.less" />').append('<script src="'+_nw2e.appUrl+'/js/lib/less.js"></script>'),"clear"==i.getUrlVar("ndn.custom.localStorage")&&localStorage.clear()),e(function(){n.embedWidgetsFromContainersOnPage()})}),Ndn_Require.define("embed",function(){}),Ndn_Require.define("models/Ndn/Utils/UserAgent",[],function(){var e=function(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,i=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!=n.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return e.init(),e}();return{isOnIos:function(){var e=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);return function(){return e}}(),isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|android|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|silk|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),function(){return e}}(),isAbleToPlayVideoAutomatically:function(){return!(this.isOnIos()||this.isMobile())},isIe:function(){var e=!!navigator.userAgent.match(/(MSIE)/g);return e},isChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},isFirefox:function(){var e=!!navigator.userAgent.match(/(Firefox)/g);return e},isSafari:function(){var e=!!navigator.userAgent.match(/(Safari)/g);return e},isWindows:function(){var e=!!navigator.userAgent.match(/(Windows)/g);return e},hasNativeVideoPlayer:function(){return!!navigator.userAgent.match(/iPhone|iPod/i)},getBrowser:function(){return e.browser}}}),Ndn_Require.define("models/Ndn/TemplateSet",["backbone","mustache"],function(e,t){return e.Model.extend({defaults:{rendered:[],templates:{}},initialize:function(e){this.set("templates",e)},getTemplate:function(e,n){var i=this.get("templates")[e][0];if("undefined"==typeof n){if("undefined"==typeof this.get("rendered")[e]){var a=this.get("templates")[e][1];this.get("rendered")[e]=t.to_html(i,a)}return this.get("rendered")[e]}return t.to_html(i,n)}})}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,a=i&&location.protocol&&location.protocol.replace(/\:/,""),r=i&&location.hostname,o=i&&(location.port||void 0),s=[];Ndn_Require.define("text",[],function(){var l,d;return l={version:"1.0.8",strip:function(e){if(e){var e=e.replace(t,""),i=e.match(n);i&&(e=i[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(n=0;3>n;n++){i=e[n];try{t=new ActiveXObject(i)}catch(a){}if(t){e=[i];break}}return t},parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return-1!==n&&(t=e.substring(n+1,e.length),t="strip"===t,e=e.substring(0,n)),{moduleName:i,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,i){var a,r=l.xdRegExp.exec(e);return r?(e=r[2],r=r[3],r=r.split(":"),a=r[1],r=r[0],!(e&&e!==t||r&&r!==n||(a||r)&&a!==i)):!0},finishLoad:function(e,t,n,i,a){n=t?l.strip(n):n,a.isBuild&&(s[e]=n),i(n)},load:function(e,t,n,s){if(s.isBuild&&!s.inlineText)n();else{var d=l.parseName(e),u=d.moduleName+"."+d.ext,c=t.toUrl(u),p=s&&s.text&&s.text.useXhr||l.useXhr;!i||p(c,a,r,o)?l.get(c,function(t){l.finishLoad(e,d.strip,t,n,s)}):t([u],function(e){l.finishLoad(d.moduleName+"."+d.ext,d.strip,e,n,s)})}},write:function(e,t,n){if(s.hasOwnProperty(t)){var i=l.jsEscape(s[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,i,a){var t=l.parseName(t),r=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";l.load(r,n,function(){var t=function(e){return i(o,e)};t.asModule=function(e,t){return i.asModule(e,o,t)},l.write(e,r,t,a)},a)}},l.createXhr()?l.get=function(e,t){var n=l.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(d=require.nodeRequire("fs"),l.get=function(e,t){var n=d.readFileSync(e,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),t(n)}):"undefined"!=typeof Packages&&(l.get=function(e,t){var n,i,a=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),o="";try{for(n=new java.lang.StringBuffer,(i=a.readLine())&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=a.readLine());)n.append(r),n.append(i);o=String(n.toString())}finally{a.close()}t(o)}),l})}(),Ndn_Require.define("text!lib/amp.premier/config/skin/ndn_assets.xml",[],function(){return"<application>\n	<player ad_control_enabled='true' ad_server_timeout='20'\n		auto_replay='false' branding_preload='none' core_player_name='ndn-player'\n		dvr_enabled='0' fullscreen_enabled='true' hds_live_low_latency='true'\n		mbr_start_index='2' netsession_install_prompt_frequency_secs='-1'\n		show_feature_bar='false' use_last_known_bitrate='false'\n		use_netsession_client='false' volume='75'>\n	</player>\n	<plugins>\n		<plugin absolute='true' host='osmf' id='AkamaiAdvancedStreamingPlugin' type='static'>com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo</plugin>\n		<plugin host='osmf' type='static' id='OSMFCSMALoader'>com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo</plugin>\n	</plugins>\n	<view skin='{{akamaiJsLibFolderUrl}}/ndn_assets.swf'>\n		<element id='captionDisplay' style='bottom: 0px; opacity:1;' />\n		<element id='controls' scrubPosition='top' backgroundAlpha='.8' height='51' autoHideDelay='1' transitionTime='0.50'>\n			<element id='playPauseBtn' />\n			<element id='scrubBar' collapsedHeight='5' style='background: linear-gradient(90deg, #232323 #232323); height: 9px;' />\n			<element id='progressBar' style='background: linear-gradient(90deg, #0099CC #0099CC);' />\n			<element id='loadedBar' style='background: linear-gradient(90deg, #666666 #666666);' />\n			<element id='streamTimeIndicator' position='left'>\n				<element id='streamTime' />\n				<element id='streamDuration' color='#666666' />\n			</element>\n			<element id='shareBtn' />\n			<element id='facebookBtn' />\n			<element id='twitterBtn' />\n			<element id='volumeBar' backgroundColor='#111111' trackColor='#C1C1C3' color='#0099CC' position='relative' width='25' />\n			<element id='volumeBtn' />\n			<element id='fullscreenBtn' />\n			<element id='posterBackground' color='#000000' alpha='1' />\n		</element>\n	</view>\n</application>"
}),Ndn_Require.define("text!lib/amp.premier/config/skin/ndn_assets_small.xml",[],function(){return"<application>\n	<player ad_control_enabled='true' ad_server_timeout='20'\n		branding_preload='none' core_player_name='ndn-player' dvr_enabled='0'\n		hds_live_low_latency='true' mbr_start_index='2'\n		netsession_install_prompt_frequency_secs='-1' show_feature_bar='false'\n		use_last_known_bitrate='false' use_netsession_client='false'>\n	</player>\n	<plugins>\n		<plugin absolute='true' host='osmf' id='AkamaiAdvancedStreamingPlugin' type='static'>com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo</plugin>\n		<plugin host='osmf' type='static' id='OSMFCSMALoader'>com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo</plugin>\n	</plugins>\n	<view skin='{{akamaiJsLibFolderUrl}}/ndn_assets_small.swf'>\n		<element id='adOptions'>\n			<element id='adChoices' target='http://assets.newsinc.com/info/adchoices.html' />\n			<element id='adCountdown' />\n		</element>\n		<element id='captionDisplay' style='bottom: 0px; opacity:1;' />\n		<element id='controls' scrubPosition='top' backgroundAlpha='.8' height='40' itemMargin='12' autoHideDelay='1' transitionTime='0.5'>\n			<element id='playPauseBtn' />\n			<element id='scrubBar' collapsedHeight='4' style='background: linear-gradient(90deg, #232323 #232323); height: 4px;' />\n			<element id='progressBar' style='background: linear-gradient(90deg, #0099CC #0099CC);' />\n			<element id='loadedBar' style='background: linear-gradient(90deg, #666666 #666666);' />\n			<element id='streamTimeIndicator' position='left'>\n				<element id='streamTime' />\n				<element id='streamDuration' color='#666666' />\n			</element>\n			<element id='shareBtn' />\n			<element id='facebookBtn' />\n			<element id='twitterBtn' />\n			<element id='volumeBar' backgroundColor='#111111' trackColor='#C1C1C3' color='#0099CC' position='relative' width='25' />\n			<element id='volumeBtn' />\n			<element id='fullscreenBtn' />\n			<element id='posterBackground' color='#000000' alpha='1' />\n		</element>\n	</view>\n</application>"}),Ndn_Require.define("lib/amp.premier/config/skin/templates",["models/Ndn/TemplateSet","models/Ndn/Widget","text!lib/amp.premier/config/skin/ndn_assets.xml","text!lib/amp.premier/config/skin/ndn_assets_small.xml"],function(e,t,n,i){var a={akamaiJsLibFolderUrl:t.getAppUrl()+"/js/lib/amp.premier",akamaiResourcesFolderUrl:t.getAppUrl()+"/resources"};return new e({ndn_assets:[n,a],ndn_assets_small:[i,a]})});try{"undefined"==typeof document||"classList"in document.createElement("a")||!function(e){var t="classList",n="prototype",i=(e.HTMLElement||e.Element)[n],a=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},d=function(e){for(var t=r.call(e.className),n=t?t.split(/\s+/):[],i=0,a=n.length;a>i;i++)this.push(n[i]);this._updateClassName=function(){e.className=this.toString()}},u=d[n]=[],c=function(){return new d(this)};if(s[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==l(this,e)},u.add=function(e){e+="",-1===l(this,e)&&(this.push(e),this._updateClassName())},u.remove=function(e){e+="";var t=l(this,e);-1!==t&&(this.splice(t,1),this._updateClassName())},u.toggle=function(e){e+="",-1===l(this,e)?this.add(e):this.remove(e)},u.toString=function(){return this.join(" ")},a.defineProperty){var p={get:c,enumerable:!0,configurable:!0};try{a.defineProperty(i,t,p)}catch(h){-2146823252===h.number&&(p.enumerable=!1,a.defineProperty(i,t,p))}}else a[n].__defineGetter__&&i.__defineGetter__(t,c)}(self)}catch(error){}var __hasProp={}.hasOwnProperty,__extends=function(e,t){function n(){this.constructor=e}for(var i in t)__hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},__bind=function(e,t){return function(){return e.apply(t,arguments)}};Date.now||(Date.now=function(){return+new Date}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var n=[].slice,i=n.call(arguments,1),a=this,r=function(){return a.apply(this instanceof t?this:e||{},i.concat(n.call(arguments)))};return t.prototype=a.prototype,r.prototype=new t,r}),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,a,r,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)o[n]=str(n,l)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){function t(e,t){this.setNotifyMethod(e),this.setNotifyContext(t)}function n(e,t,n){this.name=e,this.body=t,this.type=n}function i(){}function a(){}function r(){this.subCommands=[],this.initializeMacroCommand()}function o(e,t){this.mediatorName=e||this.constructor.NAME,this.viewComponent=t}function s(e,t){this.proxyName=e||this.constructor.NAME,null!=t&&this.setData(t)}function l(e){if(null!=l.instanceMap[e])throw Error(l.MULTITON_MSG);this.initializeNotifier(e),l.instanceMap[e]=this,this.initializeFacade()}function d(e){if(null!=d.instanceMap[e])throw Error(d.MULTITON_MSG);this.multitonKey=e,d.instanceMap[this.multitonKey]=this,this.mediatorMap=[],this.observerMap=[],this.initializeView()}function u(e){if(u.instanceMap[e])throw Error(u.MULTITON_MSG);this.multitonKey=e,u.instanceMap[e]=this,this.proxyMap=[],this.initializeModel()}function c(e){if(null!=c.instanceMap[e])throw Error(c.MULTITON_MSG);this.multitonKey=e,c.instanceMap[this.multitonKey]=this,this.commandMap=[],this.initializeController()}function p(e,t,n){for(var i,a,e=e.split("."),n=n||h.global,r=0,o=e.length;o>r;r++)i=n,a=e[r],n=null==n[a]?n[a]={}:n[a];return null==t?n:i[a]=t}if(null==e&&(e=window),!e.puremvc){t.prototype.setNotifyMethod=function(e){this.notify=e},t.prototype.setNotifyContext=function(e){this.context=e},t.prototype.getNotifyMethod=function(){return this.notify},t.prototype.getNotifyContext=function(){return this.context},t.prototype.notifyObserver=function(e){this.getNotifyMethod().call(this.getNotifyContext(),e)},t.prototype.compareNotifyContext=function(e){return e===this.context},t.prototype.notify=null,t.prototype.context=null,n.prototype.getName=function(){return this.name},n.prototype.setBody=function(e){this.body=e},n.prototype.getBody=function(){return this.body},n.prototype.setType=function(e){this.type=e},n.prototype.getType=function(){return this.type},n.prototype.toString=function(){var e="Notification Name: "+this.getName(),e=e+("\nBody:"+(null==this.body?"null":this.body.toString()));return e+="\nType:"+(null==this.type?"null":this.type)},n.prototype.name=null,n.prototype.type=null,n.prototype.body=null,i.prototype.sendNotification=function(e,t,n){var i=this.getFacade();i&&i.sendNotification(e,t,n)},i.prototype.initializeNotifier=function(e){this.multitonKey=""+e,this.facade=this.getFacade()},i.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(i.MULTITON_MSG);return l.getInstance(this.multitonKey)},i.prototype.multitonKey=null,i.MULTITON_MSG="multitonKey for this Notifier not yet initialized!",a.prototype=new i,a.prototype.constructor=a,a.prototype.execute=function(){},r.prototype=new i,r.prototype.constructor=r,r.prototype.subCommands=null,r.prototype.initializeMacroCommand=function(){},r.prototype.addSubCommand=function(e){this.subCommands.push(e)},r.prototype.execute=function(e){for(;0<this.subCommands.length;){var t=new(this.subCommands.shift());t.initializeNotifier(this.multitonKey),t.execute(e)}},o.NAME="Mediator",o.prototype=new i,o.prototype.constructor=o,o.prototype.getMediatorName=function(){return this.mediatorName},o.prototype.setViewComponent=function(e){this.viewComponent=e},o.prototype.getViewComponent=function(){return this.viewComponent},o.prototype.listNotificationInterests=function(){return[]},o.prototype.handleNotification=function(){},o.prototype.onRegister=function(){},o.prototype.onRemove=function(){},o.prototype.mediatorName=null,o.prototype.viewComponent=null,s.NAME="Proxy",s.prototype=new i,s.prototype.constructor=s,s.prototype.getProxyName=function(){return this.proxyName},s.prototype.setData=function(e){this.data=e},s.prototype.getData=function(){return this.data},s.prototype.onRegister=function(){},s.prototype.onRemove=function(){},s.prototype.proxyName=null,s.prototype.data=null,l.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},l.getInstance=function(e){return null==e?null:(null==l.instanceMap[e]&&(l.instanceMap[e]=new l(e)),l.instanceMap[e])},l.prototype.initializeController=function(){null==this.controller&&(this.controller=c.getInstance(this.multitonKey))},l.prototype.initializeModel=function(){null==this.model&&(this.model=u.getInstance(this.multitonKey))},l.prototype.initializeView=function(){null==this.view&&(this.view=d.getInstance(this.multitonKey))},l.prototype.registerCommand=function(e,t){this.controller.registerCommand(e,t)},l.prototype.removeCommand=function(e){this.controller.removeCommand(e)},l.prototype.hasCommand=function(e){return this.controller.hasCommand(e)},l.prototype.registerProxy=function(e){this.model.registerProxy(e)},l.prototype.retrieveProxy=function(e){return this.model.retrieveProxy(e)},l.prototype.removeProxy=function(e){var t=null;return null!=this.model&&(t=this.model.removeProxy(e)),t},l.prototype.hasProxy=function(e){return this.model.hasProxy(e)},l.prototype.registerMediator=function(e){null!=this.view&&this.view.registerMediator(e)},l.prototype.retrieveMediator=function(e){return this.view.retrieveMediator(e)},l.prototype.removeMediator=function(e){var t=null;return null!=this.view&&(t=this.view.removeMediator(e)),t},l.prototype.hasMediator=function(e){return this.view.hasMediator(e)},l.prototype.sendNotification=function(e,t,i){this.notifyObservers(new n(e,t,i))},l.prototype.notifyObservers=function(e){null!=this.view&&this.view.notifyObservers(e)},l.prototype.initializeNotifier=function(e){this.multitonKey=e},l.hasCore=function(e){return null!=l.instanceMap[e]},l.removeCore=function(e){null!=l.instanceMap[e]&&(u.removeModel(e),d.removeView(e),c.removeController(e),delete l.instanceMap[e])},l.prototype.controller=null,l.prototype.model=null,l.prototype.view=null,l.prototype.multitonKey=null,l.instanceMap=[],l.MULTITON_MSG="Facade instance for this Multiton key already constructed!",d.prototype.initializeView=function(){},d.getInstance=function(e){return null==e?null:(null==d.instanceMap[e]&&(d.instanceMap[e]=new d(e)),d.instanceMap[e])},d.prototype.registerObserver=function(e,t){null!=this.observerMap[e]?this.observerMap[e].push(t):this.observerMap[e]=[t]},d.prototype.notifyObservers=function(e){if(null!=this.observerMap[e.getName()]){for(var t,n=this.observerMap[e.getName()],i=[],a=0;a<n.length;a++)t=n[a],i.push(t);for(a=0;a<i.length;a++)t=i[a],t.notifyObserver(e)}},d.prototype.removeObserver=function(e,t){for(var n=this.observerMap[e],i=0;i<n.length;i++)if(1==n[i].compareNotifyContext(t)){n.splice(i,1);break}0==n.length&&delete this.observerMap[e]},d.prototype.registerMediator=function(e){if(null==this.mediatorMap[e.getMediatorName()]){e.initializeNotifier(this.multitonKey),this.mediatorMap[e.getMediatorName()]=e;var n=e.listNotificationInterests();if(0<n.length)for(var i=new t(e.handleNotification,e),a=0;a<n.length;a++)this.registerObserver(n[a],i);e.onRegister()}},d.prototype.retrieveMediator=function(e){return this.mediatorMap[e]},d.prototype.removeMediator=function(e){var t=this.mediatorMap[e];if(t){for(var n=t.listNotificationInterests(),i=0;i<n.length;i++)this.removeObserver(n[i],t);delete this.mediatorMap[e],t.onRemove()}return t},d.prototype.hasMediator=function(e){return null!=this.mediatorMap[e]},d.removeView=function(e){delete d.instanceMap[e]},d.prototype.mediatorMap=null,d.prototype.observerMap=null,d.instanceMap=[],d.prototype.multitonKey=null,d.MULTITON_MSG="View instance for this Multiton key already constructed!",u.prototype.initializeModel=function(){},u.getInstance=function(e){return null==e?null:(null==u.instanceMap[e]&&(u.instanceMap[e]=new u(e)),u.instanceMap[e])},u.prototype.registerProxy=function(e){e.initializeNotifier(this.multitonKey),this.proxyMap[e.getProxyName()]=e,e.onRegister()},u.prototype.retrieveProxy=function(e){return this.proxyMap[e]},u.prototype.hasProxy=function(e){return null!=this.proxyMap[e]},u.prototype.removeProxy=function(e){var t=this.proxyMap[e];return t&&(this.proxyMap[e]=null,t.onRemove()),t},u.removeModel=function(e){delete u.instanceMap[e]},u.prototype.proxyMap=null,u.instanceMap=[],u.MULTITON_MSG="Model instance for this Multiton key already constructed!",c.prototype.initializeController=function(){this.view=d.getInstance(this.multitonKey)},c.getInstance=function(e){return null==e?null:(null==this.instanceMap[e]&&(this.instanceMap[e]=new this(e)),this.instanceMap[e])},c.prototype.executeCommand=function(e){var t=this.commandMap[e.getName()];null!=t&&(t=new t,t.initializeNotifier(this.multitonKey),t.execute(e))},c.prototype.registerCommand=function(e,n){null==this.commandMap[e]&&this.view.registerObserver(e,new t(this.executeCommand,this)),this.commandMap[e]=n},c.prototype.hasCommand=function(e){return null!=this.commandMap[e]},c.prototype.removeCommand=function(e){this.hasCommand(e)&&(this.view.removeObserver(e,this),this.commandMap[e]=null)},c.removeController=function(e){delete this.instanceMap[e]},c.prototype.view=null,c.prototype.commandMap=null,c.prototype.multitonKey=null,c.instanceMap=[],c.MULTITON_MSG="controller key for this Multiton key already constructed";var h={global:function(){return this}(),extend:function(e,t){if("function"!=typeof e)throw new TypeError("#extend- child should be Function");if("function"!=typeof t)throw new TypeError("#extend- parent should be Function");if(t!==e){var n=new Function;return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},decorate:function(e,t){for(var n in t)e[n]=t[n];return e}};e.puremvc={View:d,Model:u,Controller:c,SimpleCommand:a,MacroCommand:r,Facade:l,Mediator:o,Observer:t,Notification:n,Notifier:i,Proxy:s,define:function(e,t,n){e||(e={});var i=e.name,a=e.parent,r="function"==typeof a,o=e.scope||null;if("parent"in e&&!r)throw new TypeError("Class parent must be Function");if(e.hasOwnProperty("constructor")){if(e=e.constructor,"function"!=typeof e)throw new TypeError("Class constructor must be Function")}else e=r?function(){a.apply(this,arguments)}:new Function;if(r&&h.extend(e,a),t&&(r=e.prototype,h.decorate(r,t),r.constructor=e),n&&h.decorate(e,n),i){if("string"!=typeof i)throw new TypeError("Class name must be primitive string");p(i,e,o)}return e},declare:p}}}(this);var swfobject=function(){function e(){if(!j){try{var e=O.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}j=!0;for(var n=F.length,i=0;n>i;i++)F[i]()}}function t(e){j?e():F[F.length]=e}function n(e){if(typeof R.addEventListener!=S)R.addEventListener("load",e,!1);else if(typeof O.addEventListener!=S)O.addEventListener("load",e,!1);else if(typeof R.attachEvent!=S)y(R,"onload",e);else if("function"==typeof R.onload){var t=R.onload;R.onload=function(){t(),e()}}else R.onload=e}function i(){U?a():r()}function a(){var e=O.getElementsByTagName("body")[0],t=g(T);t.setAttribute("type",I);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=S){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>i)return i++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,a={success:!1,id:n};if(W.pv[0]>0){var r=f(n);if(r)if(!v(B[t].swfVersion)||W.wk&&W.wk<312)if(B[t].expressInstall&&s()){var u={};u.data=B[t].expressInstall,u.width=r.getAttribute("width")||"0",u.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var c={},p=r.getElementsByTagName("param"),h=p.length,m=0;h>m;m++)"movie"!=p[m].getAttribute("name").toLowerCase()&&(c[p[m].getAttribute("name")]=p[m].getAttribute("value"));l(u,c,n,i)}else d(r),i&&i(a);else A(n,!0),i&&(a.success=!0,a.ref=o(n),i(a))}else if(A(n,!0),i){var g=o(n);g&&typeof g.SetVariable!=S&&(a.success=!0,a.ref=g),i(a)}}}function o(e){var t=null,n=f(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=S)t=n;else{var i=n.getElementsByTagName(T)[0];i&&(t=i)}return t}function s(){return!G&&v("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(e,t,n,i){G=!0,P=i||null,x={success:!1,id:n};var a=f(n);if(a){"OBJECT"==a.nodeName?(b=u(a),E=null):(b=a,E=n),e.id=D,(typeof e.width==S||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==S||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),O.title=O.title.slice(0,47)+" - Flash Player Installation";var r=W.ie&&W.win?"ActiveX":"PlugIn",o="MMredirectURL="+R.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+O.title;if(typeof t.flashvars!=S?t.flashvars+="&"+o:t.flashvars=o,W.ie&&W.win&&4!=a.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),a.parentNode.insertBefore(s,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}c(e,t,n)}}function d(e){if(W.ie&&W.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(W.win&&W.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(T)[0];if(n){var i=n.childNodes;if(i)for(var a=i.length,r=0;a>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function c(e,t,n){var i,a=f(n);if(W.wk&&W.wk<312)return i;if(a)if(typeof e.id==S&&(e.id=n),W.ie&&W.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",H[H.length]=e.id,i=f(e.id)}else{var d=g(T);d.setAttribute("type",I);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?d.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&d.setAttribute(u,e[u]));for(var c in t)t[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&p(d,c,t[c]);a.parentNode.replaceChild(d,a),i=d}return i}function p(e,t,n){var i=g("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function h(e){var t=f(e);t&&"OBJECT"==t.nodeName&&(W.ie&&W.win?(t.style.display="none",function(){4==t.readyState?m(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function m(e){var t=f(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function f(e){var t=null;try{t=O.getElementById(e)}catch(n){}return t}function g(e){return O.createElement(e)}function y(e,t,n){e.attachEvent(t,n),q[q.length]=[e,t,n]}function v(e){var t=W.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function _(e,t,n,i){if(!W.ie||!W.mac){var a=O.getElementsByTagName("head")[0];if(a){var r=n&&"string"==typeof n?n:"screen";if(i&&(k=null,N=null),!k||N!=r){var o=g("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),k=a.appendChild(o),W.ie&&W.win&&typeof O.styleSheets!=S&&O.styleSheets.length>0&&(k=O.styleSheets[O.styleSheets.length-1]),N=r}W.ie&&W.win?k&&typeof k.addRule==T&&k.addRule(e,t):k&&typeof O.createTextNode!=S&&k.appendChild(O.createTextNode(e+" {"+t+"}"))}}}function A(e,t){if(z){var n=t?"visible":"hidden";j&&f(e)?f(e).style.visibility=n:_("#"+e,"visibility:"+n)}}function C(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=S?encodeURIComponent(e):e}var b,E,P,x,k,N,S="undefined",T="object",w="Shockwave Flash",M="ShockwaveFlash.ShockwaveFlash",I="application/x-shockwave-flash",D="SWFObjectExprInst",L="onreadystatechange",R=window,O=document,V=navigator,U=!1,F=[i],B=[],H=[],q=[],j=!1,G=!1,z=!0,W=function(){var e=typeof O.getElementById!=S&&typeof O.getElementsByTagName!=S&&typeof O.createElement!=S,t=V.userAgent.toLowerCase(),n=V.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o=!1,s=[0,0,0],l=null;if(typeof V.plugins!=S&&typeof V.plugins[w]==T)l=V.plugins[w].description,!l||typeof V.mimeTypes!=S&&V.mimeTypes[I]&&!V.mimeTypes[I].enabledPlugin||(U=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof R.ActiveXObject!=S)try{var d=new ActiveXObject(M);d&&(l=d.GetVariable("$version"),l&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:s,wk:r,ie:o,win:i,mac:a}}();return!function(){W.w3&&((typeof O.readyState!=S&&"complete"==O.readyState||typeof O.readyState==S&&(O.getElementsByTagName("body")[0]||O.body))&&e(),j||(typeof O.addEventListener!=S&&O.addEventListener("DOMContentLoaded",e,!1),W.ie&&W.win&&(O.attachEvent(L,function(){"complete"==O.readyState&&(O.detachEvent(L,arguments.callee),e())}),R==top&&!function(){if(!j){try{O.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),W.wk&&!function(){return j?void 0:/loaded|complete/.test(O.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),n(e)))}(),!function(){W.ie&&W.win&&window.attachEvent("onunload",function(){for(var e=q.length,t=0;e>t;t++)q[t][0].detachEvent(q[t][1],q[t][2]);for(var n=H.length,i=0;n>i;i++)h(H[i]);for(var a in W)W[a]=null;W=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}(),{registerObject:function(e,t,n,i){if(W.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,B[B.length]=a,A(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return W.w3?o(e):void 0},embedSWF:function(e,n,i,a,r,o,d,u,p,h){var m={success:!1,id:n};W.w3&&!(W.wk&&W.wk<312)&&e&&n&&i&&a&&r?(A(n,!1),t(function(){i+="",a+="";var t={};if(p&&typeof p===T)for(var f in p)t[f]=p[f];t.data=e,t.width=i,t.height=a;var g={};if(u&&typeof u===T)for(var y in u)g[y]=u[y];if(d&&typeof d===T)for(var _ in d)typeof g.flashvars!=S?g.flashvars+="&"+_+"="+d[_]:g.flashvars=_+"="+d[_];if(v(r)){var C=c(t,g,n);t.id==n&&A(n,!0),m.success=!0,m.ref=C}else{if(o&&s())return t.data=o,l(t,g,n,h),void 0;A(n,!0)}h&&h(m)})):h&&h(m)},switchOffAutoHideShow:function(){z=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:v,createSWF:function(e,t,n){return W.w3?c(e,t,n):void 0},showExpressInstall:function(e,t,n,i){W.w3&&s()&&l(e,t,n,i)},removeSWF:function(e){W.w3&&h(e)},createCSS:function(e,t,n,i){W.w3&&_(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=O.location.search||O.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return C(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return C(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var e=f(D);e&&b&&(e.parentNode.replaceChild(b,e),E&&(A(E,!0),W.ie&&W.win&&(b.style.display="block")),P&&P(x)),G=!1}}}}();!function(e){var t,n,i,a;if(t=function(){function t(){var t,n,i,a=this;n=null,this.getSDK=function(){return n},this.setSDK=function(i){var a,r;n=i,t();for(a in n)r=n[a],e[a]=r;return n},this.saveSDK=function(e,t){var n,a,r;if(null!=t&&null!=e&&""!==e){if(null==t.main)for(n in t)if(a=t[n],(null!=a?a.VERSION:void 0)===e){t.main=a;break}return null==(r=t.version)&&(t.version=e),i.push(t),this[e]=t,t}},i=[],this.getVersions=function(){return i.slice()},this.getVersion=function(e){return this[e]},this.setVersion=function(e){return n=this.getVersion(e),null==n?null:(this.setSDK(n),n)},this.revert=function(){return this.setSDK(i[0])},this.noConflict=function(){return n=this.getSDK(),this.revert(),n},this.create=function(){var e;return e=function(e,t){return this.prototype=e.prototype,e.apply(this,t)},function(){return new e(n.main,arguments)}}(),t=function(){var t,i,r,o,s;if(null!=(o=e.com)?null!=(s=o.akamai)?s.amp:void 0:void 0)for(t in e)if(r=e[t],(r===e.AMP||r===e.AMPremier)&&null!=(null!=r?r.VERSION:void 0)&&""!==r.VERSION&&r.VERSION!==(null!=n?n.version:void 0)&&null==a[r.VERSION]){i={},i.main=r,i.com=e.com,e.AMP&&(i.AMP=e.AMP),e.AMPPremier&&(i.AMPremier=e.AMPPremier),e.Utils&&(i.Utils=e.Utils),e.QueryString&&(i.QueryString=e.QueryString),e.QueryParams&&(i.QueryParams=e.QueryParams),a.saveSDK(r.VERSION,i);break}},t()}return t}(),null==(a=e.AKAMAI_MEDIA_PLAYER)&&(e.AKAMAI_MEDIA_PLAYER=new t),i="AMP Premier - NDN v0.2.0017",null==e.AKAMAI_MEDIA_PLAYER[i]){n=e.AKAMAI_MEDIA_PLAYER[i]={};var r={};r.akamai={},r.akamai.amp={},r.akamai.amp.core={},r.akamai.amp.core.utils={},r.akamai.amp.events={},r.akamai.amp.features={},r.akamai.amp.modules={},r.akamai.amp.player={},r.akamai.amp.player.controller={},r.akamai.amp.player.model={},r.akamai.amp.player.model.helpers={},r.akamai.amp.player.model.localization={},r.akamai.amp.player.model.vo={},r.akamai.amp.player.view={},r.akamai.amp.plugins={},r.akamai.amp.plugins.adchoices={},r.akamai.amp.plugins.ads={},r.akamai.amp.plugins.auditude={},r.akamai.amp.plugins.captioning={},r.akamai.amp.plugins.comscore={},r.akamai.amp.plugins.controls={},r.akamai.amp.plugins.feed={},r.akamai.amp.plugins.ima={},r.akamai.amp.plugins.info={},r.akamai.amp.plugins.mediaanalytics={},r.akamai.amp.plugins.playoverlay={},r.akamai.amp.plugins.share={},r.akamai.amp.tokenization={},r.akamai.amp.player.Notifications=function(){function e(){}return e.name="Notifications",e.STARTUP="startup",e.LOAD="load",e.PLAY_REQUEST="playRequest",e.PAUSE_REQUEST="pauseRequest",e.AUTHENTICATE="authenticate",e.AUTHENTICATED="authenticated",e.INITIALIZED="initialized",e.TOGGLE_PLAY_PAUSE="togglePlayPause",e.PLAY="play",e.PAUSE="pause",e.CHANGE_PLAY_STATE="chagePlayState",e.PLAY_STATE_CHANGE="playStateChange",e.WAITING="waiting",e.TOGGLE_FULL_SCREEN="toggleFullScreen",e.CHANGE_DISPLAY_STATE="chageDisplayState",e.DISPLAY_STATE_CHANGE="displayStateChange",e.DISABLE_FULL_SCREEN="disableFullScreen",e.ENABLE_FULL_SCREEN="enableFullScreen",e.LANGUAGE_CHANGE="languageChange",e.TOGGLE_ACTIVE="toggleActive",e.CHANGE_ACTIVE_STATE="changeActiveState",e.ACTIVE_STATE_CHANGE="activeStateChange",e.PROGRESS="progress",e.CHANGE_MEDIA="changeMedia",e.MEDIA_CHANGE="mediaChange",e.SET_MEDIA="setMedia",e.UPDATE_TOKEN_CONTEXT="updateTokenContext",e.CHANGE_VOLUME="changeVolume",e.VOLUME_CHANGE="volumeChange",e.CHANGE_MUTED="changemuted",e.TIME_UPDATE="timeUpdate",e.SEEK="seek",e.SEEKING="seeking",e.SEEKED="seeked",e.CHANGE_DURATION="changeDuration",e.DURATION_CHANGE="durationChange",e.CHANGE_AUTOPLAY="changeAutoplay",e.CHANGE_LOOP="changeLoop",e.MEDIUM_CHANGE="mediumChange",e.TEMPORAL_TYPE_CHANGE="temporalTypeChange",e.PLAYBACK_CORE_CHANGE="playbackCoreChange",e.CHANGE_PLAYBACK_CORE="changePlaybackCore",e.UPDATE_PLAYBACK_CORE="updatePlaybackCore",e.START="start",e.STARTED="started",e.END="end",e.ENDED="ended",e.REPLAY="replay",e.READY="ready",e.ERROR="error",e.LOAD_FEED="loadFeed",e.LOADED_METADATA="loadedmetadata",e.REGISTER_PLUGIN="registerPlugin",e.REGISTER_PLUGINS="registerPlugins",e.PLUGIN_REGISTERED="pluginRegistered",e.ADD_LAYER="addLayer",e.REMOVE_LAYER="removeLayer",e.ADD_OVERLAY="addOverlay",e.REMOVE_OVERLAY="removeOverlay",e.ADD_CONTROL="addControl",e.REMOVE_CONTROL="removeControl",e.ADD_APPLICATION_STATE="addApplicationState",e.REMOVE_APPLICATION_STATE="removeApplicationState",e.DISPATCH_EVENT="dispatchEvent",e.CHANGE_PARAMS="changeParams",e.ADD_CUE_POINTS="addCuePoints",e.REMOVE_CUE_POINTS="removeCuePoints",e}(),r.akamai.amp.core.utils.XMLUtils=function(){function t(){}return t.name="XMLUtils",t.createTextContent=function(e,t){var n;return n=/[\&<>]/.test(t)?e.createCDATASection(t):e.createTextNode(t)},t.serialize=function(e){var t;if(null!=e){if("string"==typeof e)return e;try{return t=new XMLSerializer,t.serializeToString(e)}catch(n){try{return t=document.implementation.createLSSerializer(),xmlSerializer.writeToString(e)}catch(i){try{return e.xml}catch(a){}}}}},t.parse=function(t){var n,i;return e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)),i
},t}(),r.akamai.amp.player.FlashNotifications=function(){function e(){}return e.name="FlashNotifications",e.READY="jsApiReady",e.RESET="mediaPlayerReset",e.LOADING="mediaPlayerLoading",e.PLAYER_ERROR="mediaPlayerError",e.MEDIA_ERROR="mediaError",e.ERROR_STREAM_NOT_FOUND="mediaPlayerErrorStreamNotFound",e.CAPABILITY_CHANGE="mediaPlayerCapabilityChange",e.PLAYBACK_OPEN="mediaPlayerPlaybackOpen",e.PLAYING="mediaPlayerPlaying",e.ENDED="mediaPlayerPlaybackClose",e.PAUSED="mediaPlayerPaused",e.BUFFERING="mediaPlayerBuffering",e.DURATION_CHANGE="mediaPlayerDurationChange",e.TIME_UPDATE="mediaPlayerPlayheadUpdate",e.SEEKING_CHANGE="mediaPlayerSeekingChange",e.ERROR="error",e.VOLUME_CHANGE="mediaPlayerVolumeChanged",e.PLAY_STATE_CHANGE="mediaPlayerPlayStateChange",e.STATE_CHANGE="mediaPlayerStateChange",e.CAPTION_DATA_CHANGE="mediaPlayerCaptiondataChange",e.APPLICATION_STATE_CHANGE="mediaPlayerApplicationStateChange",e.INITIALIZED="mediaPlayerInitialized",e.FULLSCREEN_CHANGE="mediaPlayerFullscreenChange",e.AUTHENTICATE="mediaPlayerAuthenticate",e.CAPTIONING_REQUEST="mediaPlayerCaptioningRequest",e.RECOMMENDATIONS_LOADED="mediaPlayerRecommendationsLoaded",e.RECOMMENDATION_SELECTED="mediaPlayerRecommendationSelected",e.SHARE="mediaPlayerShare",e.SHARE_REQUEST="mediaPlayerShareRequest",e.AUTO_ADVANCE="mediaPlayerAutoAdvance",e.CREATE_FLASH_VARS="createFlashVars",e.CREATE_XML="createXML",e.FLASH_CREATED="flashCreated",e.PLAY_REQUEST="mediaPlayerPlaybackSequenceInitiated",e.FEED_LOADED="mediaPlayerFeedLoaded",e.AD_LOADED="adComponentLoaded",e.AD_PLAYBACK_BEGIN="adComponentPlaybackBegin",e.AD_PLAYBACK_PROGRESS="adComponentPlaybackProgress",e.AD_PLAYBACK_FAILED="adComponentPlaybackFailed",e.AD_PLAYBACK_TERMINATED="adComponentPlaybackTerminated",e.AD_COMPLETE="adComponentAdComplete",e.AD_MEDIA_LOADED="adComponentMediaLoaded",e.AD_CLICKED="adComponentClicked",e.AD_COMPANION="adComponentCompanion",e.AD_TIME_ELAPSED="adComponentTimeElapsed",e.AD_PAUSED="adComponentPlaybackPaused",e.AD_RESUMED="adComponentPlaybackResumed",e}(),r.akamai.amp.modules.ModuleMediator=function(e){function t(e,i){n=r.akamai.amp.modules.ModuleConfigurationProxy,t.__super__.constructor.call(this,e,i)}__extends(t,e),t.name="ModuleMediator",t.config=null;var n;return t.prototype.initializeNotifier=function(e){var i;t.__super__.initializeNotifier.call(this,e),i=this.facade.app||this.facade,this.config=i.retrieveProxy(n.NAME)},t}(puremvc.Mediator),r.akamai.amp.player.view.LocalizationWrapper=function(e){function t(e){this.config=e,n=r.akamai.amp.core.utils.XMLUtils,i=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.call(this,this.constructor.NAME)}__extends(t,e),t.name="LocalizationWrapper",t.prototype.config=null;var n,i;return t.NAME="LocalizationWrapper",t.prototype.listNotificationInterests=function(){return[i.CREATE_FLASH_VARS,i.CREATE_XML]},t.prototype.handleNotification=function(e){var a,r,o,s,l,d,u,c,p,h,m,f,g,y,v;switch(t.__super__.handleNotification.call(this,e),h=e.getName(),r=e.getBody(),h){case i.CREATE_FLASH_VARS:l=r.flashvars,o=r.config,null!=o.language&&(l.locale_setting=o.language);break;case i.CREATE_XML:y=r.xml,a=y.getElementsByTagName("application")[0],p=y.getElementsByTagName("locales")[0],null==p&&(p=y.createElement("locales"),a.appendChild(p)),v=this.config.locales;for(u in v){c=v[u],s=y.createElement("locale"),s.setAttribute("id",u),p.appendChild(s);for(d in c)g=c[d],m=y.createElement("property"),m.setAttribute("key",d),f=n.createTextContent(y,g),m.appendChild(f),s.appendChild(m)}}},t}(puremvc.Mediator),r.akamai.amp.player.view.FlashMediator=function(e){function t(e){n=r.akamai.amp.events.Event,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.view.VideoMediator,o=r.akamai.amp.core.Namespace,s=r.akamai.amp.player.view.ApplicationOverlayMediator,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="FlashMediator",t.NAME="FlashMediator",t.prototype.core=null,t.prototype.container=null,t.prototype.medium=null;var n,i,a,o,s;return t.prototype.onRegister=function(){var e;return t.__super__.onRegister.call(this),this.classList={element:this.viewComponent,contains:function(e){var t;return null!=(null!=(t=this.element.classList)?t.contains:void 0)?this.element.classList.contains(e):(e=this.element.className||"",e.indexOf(e)>-1)},add:function(e){var t;null!=(null!=(t=this.element.classList)?t.add:void 0)?this.element.classList.add(e):this.contains(e)||(null!=this.element.className&&""!==this.element.className&&(e=" "+e),this.element.className+=e)},remove:function(e){var t,n;null!=(null!=(n=this.element.classList)?n.remove:void 0)?this.element.classList.remove(e):this.contains(e)&&(t=new RegExp(" ?"+e),this.element.className=this.element.className.replace(t,""))}},this.viewComponent.className="akamai-player akamai-flash",e=document.createElement("div"),this.viewComponent.appendChild(e),this.facade.registerMediator(new s(e))},t.prototype.classList=null,t.prototype.listNotificationInterests=function(){return[i.ADD_APPLICATION_STATE,i.REMOVE_APPLICATION_STATE,i.PLAY_STATE_CHANGE]},t.prototype.handleNotification=function(e){var t,a,r,s,l,d;switch(a=e.getName(),t=e.getBody(),a){case i.PLAY_STATE_CHANGE:d=t,r=d.newState,s=d.oldState,null!=s&&this.classList.contains(o.PREFIX+s)&&this.classList.remove(o.PREFIX+s),null!=r&&this.classList.add(o.PREFIX+r),this.facade.dispatcher.dispatchEvent(new n(a.toLowerCase(),t));break;case i.ADD_APPLICATION_STATE:l=t,this.classList.add(o.PREFIX+l);break;case i.REMOVE_APPLICATION_STATE:l=t,this.classList.remove(o.PREFIX+l)}},t}(r.akamai.amp.modules.ModuleMediator),r.akamai.amp.modules.ModuleConfigurationProxy=function(e){function t(e){this.config=e,t.__super__.constructor.call(this)}return __extends(t,e),t.name="ModuleConfigurationProxy",t.NAME="ModuleConfigurationProxy",t.prototype.defaults=null,t.prototype.config=null,t.prototype.initializeNotifier=function(e){t.__super__.initializeNotifier.call(this,e),this.createData()},t.prototype.createData=function(){null!=this.config&&this.setData(this.config)},t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){var t,n,i,a,r;i={},r=this.defaults;for(n in r)t=r[n],a=n in e?e[n]:t,i[n]=a;return this.data=i,e},t}(puremvc.Proxy),r.akamai.amp.core.FlashWrapper=function(e){function t(e,n,f){var g,y,v,_,A,C,b,E=this;this.id=e,this.config=n,this.dispatcher=null!=f?f:new a(this),i=r.akamai.amp.core.Logger,a=r.akamai.amp.events.EventDispatcher,o=r.akamai.amp.events.Event,s=r.akamai.amp.core.Utils,l=r.akamai.amp.core.utils.XMLUtils,d=r.akamai.amp.player.FlashNotifications,u=r.akamai.amp.player.Notifications,c=r.akamai.amp.player.view.FlashMediator,p=r.akamai.amp.player.view.LocalizationWrapper,h=r.akamai.amp.player.model.TokenizationProxy,m=r.akamai.amp.plugins.PluginRegistry,t.__super__.constructor.call(this,this.id),this.flashObjectID+=Date.now(),y=/debug\=true/.test(location.search),this.logger=i,this.plugins={},this.features={},this.media={},_=this.config.flash||{},C=_.swf||"amp.swf",y&&null!=_.debug&&(C=_.debug),b=_.version||"10.1",v=_.expressInstallSWF||"playerProductInstall.swf",this.registerProxy(new h),this.container=document.getElementById(this.id),this.registerMediator(new c(this.container)),this.registerMediator(new p(this.config)),this.video=document.createElement("div"),this.video.id=this.video.name=this.flashObjectID,this.container.appendChild(this.video),this.createPlugins(),A=this.createParams(_),g=this.createAttributes(_),this.flashvars=this.createFlashVars(_),null==this.flashvars.settings_url&&(this.flashvars.settings_xml=this.createXML(this.config)),swfobject.embedSWF(C,this.flashObjectID,"100%","100%",b,v,this.flashvars,A,g,function(e){E.createdHandler(e)})}__extends(t,e),t.name="FlashWrapper",t.prototype.flashObjectID="flashObject",t.prototype.dispatcher=null,t.prototype.logger=null,t.prototype.video=null,t.prototype.config=null,t.prototype.id=null,t.prototype.container=null,t.prototype.playState=null,t.prototype.loaded=!1,t.prototype.flashvars=null,t.prototype.plugins=null,t.prototype.features=null,t.prototype.seeking=!1,t.prototype.paused=!1,t.prototype.ended=!1,t.prototype.media=null,t.prototype.muted=!1,t.prototype.autoplay=!1;var i,a,o,s,l,d,u,c,p,h,m;return t.prototype.evaluateBinding=function(e){return this.video.evaluateBinding(e)},t.prototype.createPlugins=function(){var e,t,i,a;for(i in m)if(a=m[i],i in this.config&&this.config[i].enabled!==!1){try{if(t=new Function("global","with(global){return "+a.flash+";}"),e=t(n),null==e){this.logger.debug("Plugin could not be found: ",a.flash);continue}}catch(r){this.logger.debug("Plugin could not be loaded: ",a.flash);continue}this.plugins[i]=new e(this,this.config[i]),this.registerMediator(this.plugins[i]),this.logger.debug("Plugin loaded: ",a.flash.split(".").pop())}},t.prototype.createParams=function(e){var t;return t={allowFullScreen:!0,allowScriptAccess:"always",wmode:"direct",bgColor:"#000000"},null!=e.params&&(null!=e.params.allowFullScreen&&(t.allowFullScreen=e.params.allowFullScreen),null!=e.params.allowScriptAccess&&(t.allowScriptAccess=e.params.allowScriptAccess),null!=e.params.wmode&&(t.wmode=e.params.wmode),null!=e.params.bgColor&&(t.bgColor=e.params.bgColor)),t},t.prototype.createAttributes=function(e){var t;return t={id:this.flashObjectID,name:this.flashObjectID},null!=e.attributes&&(null!=e.attributes.id&&(t.id=e.attributes.id),null!=e.attributes.name&&(t.name=e.attributes.name)),t},t.prototype.createFlashVars=function(e){var t,n,i,a,r,o;if(t={},null!=this.config.autoplay&&(this.setAutoplay(this.config.autoplay),t.auto_play=this.config.autoplay),null!=this.config.rules&&s.mergeRules(this.config.rules),t.hinting_rules=escape(JSON.stringify(s.rules)),null!=this.config.media&&(null!=this.config.media.src&&(this.setSrc(this.config.media.src),t.video_url=escape(this.config.media.src)),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),t.medium=this.config.media.medium),null!=this.config.media.source&&this.config.media.source.length>0&&(this.setSource(this.config.media.source),t.video_url=escape(this.media.src)),null!=this.config.media.title&&(t.title=escape(this.config.media.title)),null!=this.config.media.poster&&(t.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(t.temporalType=this.config.media.temporalType)),"audio"===this.getMedium()&&(t.controls=!0,t.auto_hide=-1),null!=(null!=(a=this.config.ima)?null!=(r=a.overlay)?r.delay:void 0:void 0)&&(t.overlay_ad_delay=this.config.ima.overlay.delay),null!=this.config.volume&&(t.volume=s.clamp(this.config.volume,0,1)),null!=this.config.target&&(t.external_target=this.config.target),null!=this.config.name&&(t.core_player_name=this.config.name),null!=this.config.domain&&(t.embed_domain=t.domain=this.config.domain),t.auto_replay=this.config.loop===!0,null!=this.config.ticker&&this.config.ticker.enabled!==!1&&(null!=this.config.ticker.url&&(t.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(t.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(t.ticker_speed=this.config.ticker.speed)),null!=this.config.fullscreen&&(t.fullscreen_enabled=this.config.fullscreen.enabled!==!1),null!=this.config.params&&(t.params=escape(JSON.stringify(this.config.params))),null!=this.config.version&&(t.context_menu_label=this.config.version),t.show_play_button_overlay=!1,t.auto_play_list=!1,t.next_video_timer=-1,null==t.context_menu_mode&&(t.context_menu_mode="long"),this.sendNotification(d.CREATE_FLASH_VARS,{flashvars:t,config:this.config}),null!=e.vars){o=e.vars;for(n in o)i=o[n],t[n]=i}return t},t.prototype.createXML=function(e){var t,n,i;return i=l.parse(e.flash.xml),this.sendNotification(d.CREATE_XML,{config:e,xml:i}),n=l.serialize(i),t=n.match(/<application>[\w\W\s\S\d\D]*<\/application>/)[0]||n,t=t.replace(/[\n\r\t]/g,""),escape(t)},t.prototype.getConfigXMLString=function(){return unescape(this.flashvars.settings_xml)},t.prototype.getConfigXML=function(){return l.parse(this.getConfigXMLString())},t.prototype.getFlashVars=function(){return this.flashvars},t.prototype.createdHandler=function(){var e=this;this.video=document.getElementById(this.flashObjectID),this.video.className="akamai-video",this.video.eventHandler=function(t,n){return e.eventHandler(t,n)},this.sendNotification(d.FLASH_CREATED),null!=this.getMedium()&&this.setMedium(this.media.medium)},t.prototype.eventHandler=function(e,t){var n,i,a,r;try{switch(e!==d.TIME_UPDATE&&e!==d.AD_PLAYBACK_PROGRESS&&e!==d.AD_TIME_ELAPSED&&e!==d.CAPTION_DATA_CHANGE&&this.logger.log(e,t),e){case d.INITIALIZED:r=a="ready";break;case d.RESET:a="ready";break;case d.LOADING:r="loadstart";break;case d.PLAYER_ERROR:r=a="error";break;case d.MEDIA_ERROR:r=a="error";break;case d.ERROR_STREAM_NOT_FOUND:r=a="error";break;case d.CAPABILITY_CHANGE:n=t.type,"canPlayChange"===n&&t.enabled===!0?(r="canplay",this.loaded=!0):"canSeekChange"===n&&t.enabled===!0?r="canplaythrough":"temporalChange"===n&&t.enabled===!0&&(r="loadedmetadata");break;case d.PLAYBACK_OPEN:r="started";break;case d.PLAYING:r=a="playing",this.ended=!1,this.paused=!1;break;case d.PLAY_REQUEST:r="playrequest";break;case d.STATE_CHANGE:"playing"===t.state&&"playing"!==this.playState&&"waiting"!==this.playState&&(r="play");break;case d.ENDED:r=a="ended",this.ended=!0;break;case d.PAUSED:r="pause",a="paused",this.paused=!0;break;case d.BUFFERING:"akamai-ended"!==this.className&&(r=a="waiting");break;case d.DURATION_CHANGE:r="durationchange";break;case d.VOLUME_CHANGE:r="volumechange";break;case d.TIME_UPDATE:r="timeupdate";break;case d.SEEKING_CHANGE:r=t.seeking?"seeking":"seeked",this.seeking=t.seeking;break;case d.FULLSCREEN_CHANGE:r="fullscreenchange",t="fullScreen"===t.displayState;break;case d.ERROR:this.logger.error(t),r=a="error"}this.sendNotification(e,t),i=null!=r&&"timeupdate"!==r,null!=a&&this.setPlayState(a),null==r&&(r=e),this.dispatchEvent(new o(r,t),i)}catch(s){this.logger.error(s)}},t.prototype.dispatchEvent=function(e,t){return null==t&&(t=!0),t===!0&&this.logger.log("[AMP EVENT]: "+e.type,e.data),this.dispatcher.dispatchEvent(e)},t.prototype.setPlayState=function(e){var t;if(e!==this.playState)return t={newState:e,oldState:this.playState},this.playState=e,this.sendNotification(u.PLAY_STATE_CHANGE,t),e},t.prototype.canPlayType=function(e){return __indexOf.call(s.flashTypes,e)>=0?"maybe":""},t.prototype.setMedia=function(e){return e!==this.media?(this.media=e,null!=this.playState&&this.setPlayState("ready"),null!=e.src&&this.setSrc(e.src),null!=e.source&&e.source.length>0&&this.setSource(e.source),this.sendNotification(u.MEDIA_CHANGE,e),this.loaded=!0,null==e.autoplay&&(e.autoplay=this.autoplay),this.video.loadURL(this.media.src,e),e):void 0},t.prototype.getMedia=function(){return this.media},t.prototype.load=function(){this.loaded=!0,this.video.loadURL(this.media.src)},t.prototype.play=function(){return this.loaded?(this.video.unpause(),void 0):(this.load(),void 0)},t.prototype.replay=function(){this.video.replay()},t.prototype.pause=function(){this.video.pause()},t.prototype.end=function(){this.video.stopPlayer()},t.prototype.setMuted=function(e){this.muted=e;try{e===!0?this.video.mute():this.video.unmute()}catch(t){this.logger.error(t)}return e},t.prototype.getMuted=function(){return this.muted},t.prototype.setCurrentTime=function(e){return this.video.jumpToTime(e),e},t.prototype.getCurrentTime=function(){return this.video.getCurrentTime()},t.prototype.getSrc=function(){return this.video.getURL()},t.prototype.setSrc=function(e){return this.media.src=e,this.loaded=!1,this.setMedium(s.getMimeType(e)),e},t.prototype.getParams=function(){return this.video.getParams()},t.prototype.setParams=function(e){return this.video.setParams(e),e},t.prototype.setAutoplay=function(e){return this.autoplay=e,e},t.prototype.getAutoplay=function(){return this.autoplay},t.prototype.setLoop=function(){},t.prototype.getLoop=function(){},t.prototype.getMedium=function(){return this.media.medium},t.prototype.setMedium=function(e){return null!=this.media.medium&&null!=this.container&&(this.container.className=this.container.className.replace(" akamai-medium-"+this.media.medium,"")),this.media.medium=/audio/.test(e)?"audio":"video",null!=this.container&&(this.container.className+=" akamai-medium-"+this.media.medium),e},t.prototype.setSource=function(e){var t,n=this;if(!(null==e||e.length<1)){if(this.media.source=e,this.loaded=!1,t=s.selectSource(e,function(e){return n.canPlayType(e)}),null==(null!=t?t.src:void 0)||""===t.src)throw new Error("No valid source could be found");return this.setSrc(t.src),"undefined"!=typeof type&&null!==type&&this.setMedium(type),e}},t.prototype.getSource=function(){return this.media.source},t.prototype.setVolume=function(e){return this.video.setVolume(e),e},t.prototype.getVolume=function(){return this.video.getVolume()},t.prototype.getDuration=function(){return this.video.getDuration()},t.prototype.getSeeking=function(){return this.seeking},t.prototype.getPaused=function(){return this.paused},t.prototype.getEnded=function(){return this.ended},t.prototype.enterFullScreen=function(){},t.prototype.exitFullScreen=function(){this.video.exitFullScreen()},t}(puremvc.Facade),r.akamai.amp.core.Logger=function(){function e(){}var t;return e.name="Logger",t=function(){},e.enabled=!1,e.enable=function(e){return null==e&&(e=/debug\=true/.test(location.search.toLowerCase())),this.enabled=e,this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=t),e},e.log=function(){try{console.log.apply(console,arguments)}catch(e){}},e.trace=function(){try{console.trace.apply(console,arguments)}catch(e){}},e.debug=function(){try{console.log.apply(console,arguments)}catch(e){this.log.apply(this,arguments)}},e.info=function(){try{console.info.apply(console,arguments)}catch(e){}},e.warn=function(){try{console.warn.apply(console,arguments)}catch(e){}},e.error=function(){try{console.error.apply(console,arguments)}catch(e){this.log.apply(this,arguments)}},e.fatal=function(){try{console.fatal.apply(console,arguments)}catch(e){}},e}(),r.akamai.amp.plugins.ads.AdNotifications=function(){function e(){}return e.name="AdNotifications",e.BREAK_START="adbreakstart",e.BREAK_END="adbreakend",e.AD_CONTAINER_CREATED="adcontainercreated",e.AD_LOADED="adloaded",e.AD_STARTED="adstarted",e.AD_TIME_UPDATE="adtimeupdate",e.AD_TIME_REMAINING="adtimeremaining",e.AD_DURATION_CHANGE="addurationchange",e.AD_ENDED="adended",e.AD_ERROR="aderror",e.AD_PLAY="adplay",e.AD_PAUSE="adpause",e.AD_COMPANION="adcompanion",e}(),r.akamai.amp.player.model.DisplayState=function(){function e(){}return e.name="DisplayState",e.NORMAL="normal",e.FULL_SCREEN="full-screen",e}(),r.akamai.amp.events.EventHandler=function(){function e(n,i,a){var o;this.target=n,this.type=i,this.handler=a,this.trigger=__bind(this.trigger,this),t=r.akamai.amp.core.Utils,e.instances.push(this),this.types=[],o=this.type,__indexOf.call(e.EVENTS,o)>=0?t.isTouchDevice()?(this.types.push(e.TOUCH_EVENTS[this.type]),this.type===e.TOUCH_EVENTS[1]&&this.types.push(e.TOUCH_EVENTS[4])):this.types.push(e.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type),this.bind()}e.name="EventHandler",e.PRESS=0,e.RELEASE=1,e.MOVE=2,e.CLICK=3,e.EVENTS=[e.PRESS,e.RELEASE,e.MOVE,e.CLICK],e.MOUSE_EVENTS=["mousedown","mouseup","mousemove","click"],e.TOUCH_EVENTS=["touchstart","touchend","touchmove","click","touchcancel"],e.instances=[],e.create=function(t,n,i){return new e(t,n,i)},e.bind=function(t,n){var i,a,r,o,s;for(s=e.instances,i=r=0,o=s.length;o>r;i=++r)a=s[i],a.target===t&&(null==n||a.type===n)&&a.bind()},e.unbind=function(t,n){var i,a,r,o,s;for(s=e.instances,i=r=0,o=s.length;o>r;i=++r)a=s[i],a.target===t&&(null==n||a.type===n)&&a.unbind()},e.clear=function(t,n){var i,a,r,o,s;for(s=e.instances,i=r=0,o=s.length;o>r;i=++r)a=s[i],(null!=a?a.target:void 0)===t&&(null==n||a.type===n)&&(a.clear(),e.instances.splice(i,1))},e.prototype.types=null;var t;return e.prototype.bind=function(){var e,t,n,i;for(i=this.types,t=0,n=i.length;n>t;t++)e=i[t],null!=this.target.addEventListener?this.target.addEventListener(e,this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent("on"+e,this.trigger)},e.prototype.unbind=function(){var e,t,n,i;for(i=this.types,t=0,n=i.length;n>t;t++)e=i[t],null!=this.target.removeEventListener?this.target.removeEventListener(e,this.trigger):null!=this.target.attachEvent&&this.target.removeEvent("on"+e,this.trigger)},e.prototype.clear=function(){this.unbind(),this.target=null,this.handler=null,this.type=null,this.types=null},e.prototype.trigger=function(e){this.handler(e)},e}(),r.akamai.amp.player.model.PlayState=function(){function e(){}return e.name="PlayState",e.READY="ready",e.PLAYING="playing",e.PAUSED="paused",e.ENDED="ended",e.LOADING="loading",e.WAITING="waiting",e.SEEKING="seeking",e.ERROR="error",e}(),r.akamai.amp.player.model.PlaybackProxy=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.PlayState,a=r.akamai.amp.events.EventHandler,o=r.akamai.amp.core.Utils,t.__super__.constructor.call(this)}__extends(t,e),t.name="PlaybackProxy",t.NAME="PlaybackProxy",t.prototype.core=null,t.prototype.muted=!1,t.prototype.interval=null,t.prototype.readyState=0,t.prototype.started=!1,t.prototype.volume=1,t.prototype.initialized=!1,t.prototype.loadedMetadata=!1;var n,i,a,o;return t.prototype.getStarted=function(){return this.started},t.prototype.setStarted=function(e){return this.started=e,e},t.prototype.getCore=function(){return this.core},t.prototype.setCore=function(e){var t=this;if(e!==this.core)return this.core=e,clearInterval(this.interval),this.sendNotification(n.ADD_APPLICATION_STATE,"hide-video"),this.interval=setInterval(function(){return t.stateCheck()},50),this.sendNotification(n.PLAYBACK_CORE_CHANGE,this.core),this.core},t.prototype.stateCheck=function(){this.readyState!==this.core.readyState&&(this.readyState=this.core.readyState,this.readyState>1?this.sendNotification(n.REMOVE_APPLICATION_STATE,"hide-video"):this.sendNotification(n.ADD_APPLICATION_STATE,"hide-video"))},t.prototype.canPlayType=function(e){var t;return t=this.core.canPlayType(e)||"",/Android 4\.[1-3]/.test(navigator.userAgent)&&e===o.mimeTypes.m3u8&&(t="maybe"),t},t.prototype.getPaused=function(){return this.core.paused},t.prototype.getEnded=function(){return this.core.ended},t.prototype.getSeeking=function(){return this.core.seeking},t.prototype.getCurrentTime=function(){var e;return null!=(e=this.core)?e.currentTime:void 0},t.prototype.setCurrentTime=function(e){return this.core&&e!==this.core.currentTime?this.core.currentTime=o.clamp(e,0,this.getDuration()):void 0},t.prototype.getSrc=function(){return this.core.src},t.prototype.setSrc=function(e){return(null==e||""===e)&&this.sendNotification(n.ERROR,"The value of src is not supported: "+e),e!==this.core.src&&(this.started=!1,this.core.src=e),e},t.prototype.getVolume=function(){return this.core.volume},t.prototype.setVolume=function(e){return e>=0&&1>=e&&e!==this.core.volume&&this.sendNotification(n.VOLUME_CHANGE,this.core.volume=e),e},t.prototype.getMuted=function(){return this.muted},t.prototype.setMuted=function(e){var t;return this.muted=e,this.muted===!0?(this.volume=this.getVolume(),t=0):t=this.volume,this.sendNotification(n.CHANGE_VOLUME,t),e},t.prototype.getDuration=function(){var e;return null!=(e=this.core)?e.duration:void 0},t.prototype.play=function(){this.started||(this.started=!0),this.core.play()},t.prototype.pause=function(){this.core.pause()},t.prototype.load=function(){this.core.load()},t.prototype.end=function(){this.core&&(this.core.currentTime=this.core.duration)},t}(puremvc.Proxy),r.akamai.amp.player.controller.DetermineRendererCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.RenderMode,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="DetermineRendererCommand";var n,i;return t.prototype.execute=function(){var e;e=this.facade.retrieveProxy(n.NAME),e.setRenderMode(i.HTML)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.PluginRegistry=function(){function e(){}return e.name="PluginRegistry",e.controls={html:"com.akamai.amp.plugins.controls.ControlsPlugin",flash:"com.akamai.amp.plugins.controls.ControlsWrapper"},e.adchoices={html:"com.akamai.amp.plugins.adchoices.AdChoicesPlugin",flash:"com.akamai.amp.plugins.adchoices.AdChoicesWrapper"},e.playoverlay={html:"com.akamai.amp.plugins.playoverlay.PlayOverlayPlugin",flash:"com.akamai.amp.plugins.playoverlay.PlayOverlayWrapper"},e.feed={html:"com.akamai.amp.plugins.feed.FeedPlugin",flash:"com.akamai.amp.plugins.feed.FeedWrapper"},e.branding={html:"com.akamai.amp.plugins.branding.BrandingPlugin",flash:"com.akamai.amp.plugins.branding.BrandingWrapper"},e.nielsen={html:"com.akamai.amp.plugins.nielsen.NielsenPlugin",flash:"com.akamai.amp.plugins.nielsen.NielsenWrapper"},e.comscore={html:"com.akamai.amp.plugins.comscore.ComscorePlugin",flash:"com.akamai.amp.plugins.comscore.ComscoreWrapper"},e.auditude={html:"com.akamai.amp.plugins.auditude.AuditudePlugin",flash:"com.akamai.amp.plugins.auditude.AuditudeWrapper"},e.ima={html:"com.akamai.amp.plugins.ima.IMAPlugin",flash:"com.akamai.amp.plugins.ima.IMAWrapper"},e.omniture={html:"com.akamai.amp.plugins.omniture.OmniturePlugin",flash:"com.akamai.amp.plugins.omniture.OmnitureWrapper"},e.mediaanalytics={html:"com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsPlugin",flash:"com.akamai.amp.plugins.mediaanalytics.MediaAnalyticsWrapper"},e.recommendations={html:"com.akamai.amp.plugins.recommendations.RecommendationsPlugin",flash:"com.akamai.amp.plugins.recommendations.RecommendationsWrapper"},e.recommendationsgrid={html:"com.akamai.amp.plugins.recommendationsgrid.RecommendationsGridPlugin",flash:"com.akamai.amp.plugins.recommendations.RecommendationsWrapper"},e.autoadvance={html:"com.akamai.amp.plugins.autoadvance.AutoAdvancePlugin",flash:"com.akamai.amp.plugins.autoadvance.AutoAdvanceWrapper"},e.outbrain={html:"com.akamai.amp.plugins.outbrain.OutbrainPlugin",flash:"com.akamai.amp.plugins.outbrain.OutbrainWrapper"},e.ticker={html:"com.akamai.amp.plugins.ticker.TickerPlugin",flash:null},e.captioning={html:"com.akamai.amp.plugins.captioning.CaptioningPlugin",flash:"com.akamai.amp.plugins.captioning.CaptioningWrapper"},e.eventmanagement={html:"com.akamai.amp.plugins.eventmanagement.EventManagementPlugin",flash:"com.akamai.amp.plugins.eventmanagement.EventManagementWrapper"},e.share={html:"com.akamai.amp.plugins.share.SharePlugin",flash:"com.akamai.amp.plugins.share.ShareWrapper"},e.sharewindow={html:"com.akamai.amp.plugins.sharewindow.ShareWindowPlugin",flash:"com.akamai.amp.plugins.share.ShareWrapper"},e.stats={html:"com.akamai.amp.plugins.stats.StatsPlugin",flash:null},e.ais={html:"com.akamai.amp.plugins.ais.AISPlugin",flash:"com.akamai.amp.plugins.ais.AISWrapper"},e.info={html:"com.akamai.amp.plugins.info.InfoPlugin",flash:"com.akamai.amp.plugins.info.InfoWrapper"},e.freewheel={html:"com.akamai.amp.plugins.freewheel.FreeWheelPlugin",flash:"com.akamai.amp.plugins.freewheel.FreeWheelWrapper"},e.chartbeat={html:"com.akamai.amp.plugins.chartbeat.ChartbeatPlugin",flash:"com.akamai.amp.plugins.chartbeat.ChartbeatWrapper"},e.dash={html:"com.akamai.amp.plugins.dash.DASHPlugin",flash:null},e}(),r.akamai.amp.player.view.PublicAPIMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.EventHandler,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="PublicAPIMediator";var n,i;return t.NAME="PublicAPIMediator",t.prototype.eventHandler=null,t.prototype.ended=null,t.prototype.onRegister=function(){t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[n.PLAYBACK_CORE_CHANGE,n.DISPATCH_EVENT]},t.prototype.handleNotification=function(e){switch(e.getName()){case n.PLAYBACK_CORE_CHANGE:this.addEventListeners(e.getBody());break;case n.DISPATCH_EVENT:this.facade.dispatchEvent(e.getBody())}},t.prototype.addEventListeners=function(e){var t,n=this;t=["loadstart","loadeddata","play","playing","timeupdate","durationchange","error","progress","stalled","emptied","suspend","abort","volumechange","seeking","seeked","loadedmetadata","pause","waiting","canplay","canplaythrough"],null!=this.eventHandler&&this.eventHandler.clear(),this.eventHandler=new i(e,t,function(e){n.facade.dispatchEvent(e)}),this.ended=new i(e,"ended",function(e){n.facade.dispatchEvent(e)})},t}(puremvc.Mediator),r.akamai.amp.player.controller.CreatePlaybackCoreCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CreatePlaybackCoreCommand";var n;return t.prototype.execute=function(){var e,t;t=document.querySelector("[id="+this.facade.id+"] > video"),e=t||document.createElement("video"),e.preload="none",e.autoplay=!1,null==e.dataset&&(e.dataset={}),this.sendNotification(n.CHANGE_PLAYBACK_CORE,e)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.InitPluginsCommand=function(e){function t(){i=r.akamai.amp.plugins.PluginNotifications,a=r.akamai.amp.plugins.PluginRegistry,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitPluginsCommand";var i,a;return t.prototype.execute=function(e){var t,r,o,s,l,d,u,c,p;this.facade.logger.debug("InitPluginsCommand"),t=e.getBody(),null==(p=this.facade).plugins&&(p.plugins={}),u=[];for(l in a)if(c=a[l],l in t&&(s=t[l],null!=s&&s.enabled!==!1&&null==this.facade.plugins[l])){try{o=new Function("global","with(global){return "+c.html+";}"),r=o(n)}catch(h){this.facade.logger.debug("Plugin could not be found: ",c.html);continue}if(null==r){this.facade.logger.debug("Plugin could not be created: ",c.html);continue}d=new r(this.facade,s),this.facade.plugins[l]=d,u.push(d)}this.sendNotification(i.REGISTER_PLUGINS,u)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.PluginNotifications=function(){function e(){}return e.name="PluginNotifications",e.REGISTER_PLUGIN="registerPlugin",e.REGISTER_PLUGINS="registerPlugins",e.PLUGIN_REGISTERED="pluginRegistered",e}(),r.akamai.amp.player.controller.InitPlaybackCoreCommand=function(e){function t(){n=r.akamai.amp.player.controller.DetermineRendererCommand,i=r.akamai.amp.player.controller.CreatePlaybackCoreCommand,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitPlaybackCoreCommand";var n,i;return t.prototype.initializeMacroCommand=function(){this.addSubCommand(n),this.addSubCommand(i)},t}(puremvc.MacroCommand),r.akamai.amp.plugins.PluginPublisher=function(e){function t(e,a){this.publications=e,null==a&&(a=constructor.NAME),n=r.akamai.amp.plugins.PluginNotifications,i=r.akamai.amp.events.Event,t.__super__.constructor.call(this,a,this)}__extends(t,e),t.name="PluginPublisher";var n,i;return t.NAME="PluginPublisher",t.prototype.publications=null,t.prototype.events=null,t.prototype.prefix=null,t.prototype.listNotificationInterests=function(){var e,t,i,a;t=[];for(e in n)i=n[e],t.push(i);if(null!=this.events){a=this.events;for(e in a)i=a[e],t.push(i)}return null!=this.publications&&(t=t.concat(this.publications)),t},t.prototype.handleNotification=function(e){var t,n,a,r;n=e.getName(),t=e.getBody(),this.facade.app.sendNotification(n,t,e.getType()),a=new RegExp("^"+this.prefix),a.test(n)&&(r=n.replace(a,""),this.facade.getAPI().dispatchEvent(new i(r,t)))},t}(puremvc.Mediator),r.akamai.amp.player.view.LocalizedMediator=function(e){function t(e,i){n=r.akamai.amp.player.model.LocalizationProxy,t.__super__.constructor.call(this,e,i)}__extends(t,e),t.name="LocalizedMediator",t.NAME="LocalizedMediator",t.prototype.localizationManager=null;var n;return t.prototype.initializeNotifier=function(e){var i;return t.__super__.initializeNotifier.call(this,e),i=this.facade.app||this.facade,this.localizationManager=i.retrieveProxy(n.NAME)},t}(r.akamai.amp.modules.ModuleMediator),r.akamai.amp.player.view.LayerMediator=function(e){function t(e,i){null==i&&(i="div"),n=r.akamai.amp.player.Notifications,"string"==typeof i&&(i=document.createElement(i)),t.__super__.constructor.call(this,e,i)
}__extends(t,e),t.name="LayerMediator",t.NAME="LayerMediator";var n;return t.prototype.onRegister=function(){var e;t.__super__.onRegister.call(this),e=this.facade.app||this.facade,e.sendNotification(n.ADD_LAYER,this.viewComponent)},t}(r.akamai.amp.player.view.LocalizedMediator),r.akamai.amp.player.view.OverlayMediator=function(e){function t(e,i){null==i&&(i="div"),n=r.akamai.amp.player.Notifications,"string"==typeof i&&(i=document.createElement(i)),t.__super__.constructor.call(this,e,i)}__extends(t,e),t.name="OverlayMediator",t.NAME="OverlayMediator";var n;return t.prototype.onRegister=function(){var e;return t.__super__.onRegister.call(this),e=this.facade.app||this.facade,e.sendNotification(n.ADD_OVERLAY,this.viewComponent)},t}(r.akamai.amp.player.view.LocalizedMediator),r.akamai.amp.player.view.WaitingOverlayMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.localization.LocalizationConstants,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="WaitingOverlayMediator",t.NAME="WaitingOverlayMediator",t.prototype.bar=null;var n,i;return t.prototype.onRegister=function(){var e;return this.viewComponent.classList.add("akamai-waiting-overlay"),this.bar=document.createElement("div"),this.bar.classList.add("akamai-waiting-bar"),this.viewComponent.appendChild(this.bar),e=document.createElement("div"),e.classList.add("akamai-waiting-text"),e.textContent=this.localizationManager.getString(i.MSG_BUFFERING),this.viewComponent.appendChild(e),t.__super__.onRegister.call(this)},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.player.view.PosterMediator=function(e){function t(e){n=r.akamai.amp.events.EventHandler,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.core.Namespace,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="PosterMediator",t.NAME="PosterMediator",t.prototype.poster=null,t.prototype.clickHandler=null;var n,i,a;return t.prototype.onRegister=function(){var e=this;this.viewComponent.classList.add(""+a.PREFIX+"poster-layer"),this.poster=document.createElement("div"),this.poster.classList.add(""+a.PREFIX+"poster-content"),this.viewComponent.appendChild(this.poster),this.clickHandler=n.create(this.viewComponent,n.CLICK,function(t){return t.stopImmediatePropagation(),t.preventDefault(),e.sendNotification(i.TOGGLE_PLAY_PAUSE,!0),!1}),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[i.CHANGE_MEDIA]},t.prototype.handleNotification=function(e){var t;switch(e.getName()){case i.CHANGE_MEDIA:this.poster.innerHTML="",t=e.getBody().poster,null!=t&&""!==t&&(this.poster.innerHTML='<img src="'+t+'" class="'+a.PREFIX+'poster-image" />')}},t}(r.akamai.amp.player.view.LayerMediator),r.akamai.amp.player.view.ApplicationOverlayMediator=function(e){function t(e,i){n=r.akamai.amp.player.Notifications,null==i&&(i=t.NAME),t.__super__.constructor.call(this,i,e)}__extends(t,e),t.name="ApplicationOverlayMediator",t.NAME="ApplicationOverlayMediator";var n;return t.prototype.onRegister=function(){t.__super__.onRegister.call(this),this.viewComponent.className+=null==this.viewComponent.className||""===this.viewComponent.className?"akamai-overlays-layer":" akamai-overlays-layer"},t.prototype.listNotificationInterests=function(){return[n.ADD_OVERLAY,n.REMOVE_OVERLAY]},t.prototype.handleNotification=function(e){var t,i;switch(t=e.getName(),i=e.getBody(),t){case n.ADD_OVERLAY:this.viewComponent.appendChild(i);break;case n.REMOVE_OVERLAY:this.viewComponent.removeChild(i)}},t}(r.akamai.amp.player.view.LayerMediator),r.akamai.amp.player.view.EndSlateMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="EndSlateMediator",t.NAME="EndSlateMediator";var n;return t.prototype.onRegister=function(){return null!=this.config.getEndSlate()?(this.viewComponent.classList.add("akamai-end-slate"),t.__super__.onRegister.call(this)):void 0},t.prototype.listNotificationInterests=function(){return[n.MEDIA_CHANGE]},t.prototype.handleNotification=function(e){var t,i,a;switch(e.getName()){case n.MEDIA_CHANGE:i=e.getBody(),t=this.config.getEndSlate(),this.viewComponent.innerHTML="",null!=t&&(a=t.usePoster===!0?i.poster:t.url,null!=a&&""!==a&&(this.viewComponent.innerHTML='<img src="'+a+'" class="akamai-end-slate-image" />'))}},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.player.view.LoadingOverlayMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="LoadingOverlayMediator",t.NAME="LoadingOverlayMediator";var n;return t.prototype.onRegister=function(){return this.viewComponent.classList.add("akamai-loading-overlay"),t.__super__.onRegister.call(this)},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.player.view.ErrorSlateMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Namespace,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="ErrorSlateMediator",t.NAME="ErrorSlateMediator",t.prototype.message=null;var n,i;return t.prototype.onRegister=function(){return t.__super__.onRegister.call(this),this.viewComponent.classList.add(""+i.PREFIX+"error-layer"),this.message=document.createElement("div"),this.message.classList.add(""+i.PREFIX+"error-message"),this.viewComponent.appendChild(this.message)},t.prototype.listNotificationInterests=function(){return[n.ERROR]},t.prototype.handleNotification=function(e){var t,i;switch(e.getName()){case n.ERROR:switch(t=e.getBody(),i="Error: ",t.code){case MediaError.MEDIA_ERR_ABORTED:i+="Media was aborted.";break;case MediaError.MEDIA_ERR_DECODE:i+="Decode Error.";break;case MediaError.MEDIA_ERR_NETWORK:i+="Network Error.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:i+="Source not supported.";break;default:i+=t}return this.message.textContent=i}},t}(r.akamai.amp.player.view.LayerMediator),r.akamai.amp.player.model.localization.LocalizationConstants=function(){function e(){}return e.name="LocalizationConstants",e.MSG_LIVE="MSG_LIVE",e.MSG_REPLAY="MSG_REPLAY",e.MSG_BUFFERING="MSG_BUFFERING",e.MSG_CC="MSG_CC",e}(),r.akamai.amp.player.view.ReplayOverlayMediator=function(e){function t(e){n=r.akamai.amp.events.EventHandler,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.model.localization.LocalizationConstants,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="ReplayOverlayMediator",t.NAME="ReplayOverlayMediator",t.prototype.replay=null,t.prototype.icon=null,t.prototype.label=null;var n,i,a;return t.prototype.onRegister=function(){var e=this;return this.viewComponent.classList.add("akamai-replay-overlay"),this.replay=document.createElement("div"),this.replay.classList.add("akamai-replay-button"),this.viewComponent.appendChild(this.replay),n.create(this.replay,n.CLICK,function(t){return t.stopImmediatePropagation(),e.sendNotification(i.REPLAY),!1}),this.icon=document.createElement("span"),this.icon.classList.add("akamai-replay-icon"),this.replay.appendChild(this.icon),this.label=document.createElement("span"),this.label.classList.add("akamai-replay-label"),this.label.textContent=this.localizationManager.getString(a.MSG_REPLAY),this.replay.appendChild(this.label),t.__super__.onRegister.call(this)},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.player.view.TitleBarMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="TitleBarMediator",t.NAME="TitleBarMediator",t.prototype.title=null,t.prototype.description=null;var n,i;return t.prototype.onRegister=function(){return this.viewComponent.classList.add("akamai-title-bar"),this.title=document.createElement("div"),this.title.classList.add("akamai-title-text"),this.viewComponent.appendChild(this.title),this.description=document.createElement("div"),this.description.classList.add("akamai-description-text"),this.viewComponent.appendChild(this.description),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[n.CHANGE_MEDIA]},t.prototype.handleNotification=function(e){var t,a;switch(e.getName()){case n.CHANGE_MEDIA:return t=e.getBody(),a=t.title,null==a||""===a||"undefined"===a?this.viewComponent.classList.add("akamai-hidden"):(this.title.innerHTML=a,null!=t.duration&&(this.title.innerHTML+=" - "+i.formatTimecode(t.duration)),this.description.innerHTML=t.description?t.description:"",this.viewComponent.classList.remove("akamai-hidden"))}},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.modules.Module=function(e){function t(e,a){n=r.akamai.amp.modules.ModuleConfigurationProxy,i=r.akamai.amp.core.Logger;var o;t.__super__.constructor.call(this,e),this.logger=i,this.config=a,this.initialize(),o=this.createAPI(),this.getAPI=function(){return o}}__extends(t,e),t.name="Module";var n,i;return t.prototype.logger=null,t.prototype.config=null,t.prototype.key=null,t.prototype.initialize=function(){return this.createModel(),this.createController(),this.createView()},t.prototype.createModel=function(){return this.registerProxy(new n(this.config))},t.prototype.createView=function(){},t.prototype.createController=function(){},t.prototype.createAPI=function(){},t.prototype.getAPI=function(){},t}(puremvc.Facade),r.akamai.amp.plugins.Plugin=function(e){function t(e,o){n=r.akamai.amp.plugins.PluginNotifications,i=r.akamai.amp.plugins.PluginPublisher,a=r.akamai.amp.modules.ModuleConfigurationProxy,this.app=e,t.__super__.constructor.call(this,""+e.multitonKey+"/"+this.constructor.NAME,o),this.logger=this.app.logger}__extends(t,e),t.name="Plugin",t.NAME="Plugin",t.prototype.app=null;var n,i,a;return t.prototype.initialize=function(){return this.createModel(),this.createController(),this.createPublisher()},t.prototype.createPublisher=function(){this.registerMediator(new i(this.listNotificationPublications()))},t.prototype.listNotificationPublications=function(){return[]},t.prototype.getMediatorName=function(){return""+this.constructor.NAME},t.prototype.getViewComponent=function(){return this.app},t.prototype.setViewComponent=function(e){return e},t.prototype.handleNotification=function(e){this.sendNotification(e.getName(),e.getBody(),e.getType())},t.prototype.listNotificationInterests=function(){return[]},t.prototype.onRegister=function(){var e;e=this.retrieveProxy(a.NAME),null==e.getLoaded||e.getLoaded()?this.registered():e.load(this.registered.bind(this))},t.prototype.registered=function(){var e;this.createView(),this.sendNotification(n.PLUGIN_REGISTERED,this),"function"==typeof(e=this.retrieveProxy(a.NAME)).initialize&&e.initialize()},t.prototype.onRemove=function(){},t}(r.akamai.amp.modules.Module),r.akamai.amp.core.Namespace=function(){function e(){}return e.name="Namespace",e.PREFIX="akamai-",e}(),r.akamai.amp.player.view.ApplicationPluginMediator=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.Plugin,a=r.akamai.amp.plugins.PluginNotifications,o=r.akamai.amp.modules.MessageEvent,this.plugins=[],this.registered=[],this.publications=[],t.__super__.constructor.call(this,t.NAME,{})}__extends(t,e),t.name="ApplicationPluginMediator",t.NAME="ApplicationPluginMediator",t.prototype.plugins=null,t.prototype.registered=null,t.prototype.publications=null;var n,i,a,o;return t.prototype.onRegister=function(){return t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[a.REGISTER_PLUGINS,a.REGISTER_PLUGIN,a.PLUGIN_REGISTERED]},t.prototype.handleNotification=function(e){var t,r,s,l,d,u=this;switch(t=e.getName()){case a.REGISTER_PLUGINS:for(this.plugins=e.getBody(),d=this.plugins,s=0,l=d.length;l>s;s++)r=d[s],this.sendNotification(a.REGISTER_PLUGIN,r);break;case a.REGISTER_PLUGIN:r=e.getBody(),r instanceof i?this.facade.registerMediator(r):(r.addEventListener(o.MESSAGE,function(e){return e.origin!==u.multitonKey?u.facade.passMessage(e.message,e.target.multitonKey):void 0}),this.facade.addEventListener(o.MESSAGE,function(e){return e.origin===u.multitonKey?r.passMessage(e.message,u.multitonKey):void 0}),"function"==typeof r.onRegister&&r.onRegister());break;case a.PLUGIN_REGISTERED:r=e.getBody(),this.registered.push(r),this.facade.logger.debug("Plugin Registered: "+r.constructor.NAME),this.registered.length===this.plugins.length&&this.sendNotification(n.READY,this.facade.config)}},t}(puremvc.Mediator),r.akamai.amp.player.view.VideoMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Namespace,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="VideoMediator",t.NAME="VideoMediator",t.prototype.video=null;var n,i;return t.prototype.onRegister=function(){return t.__super__.onRegister.call(this),this.viewComponent.classList.add(""+i.PREFIX+"video-layer")},t.prototype.listNotificationInterests=function(){return[n.PLAYBACK_CORE_CHANGE]},t.prototype.handleNotification=function(e){var t,a;switch(a=e.getName(),t=e.getBody(),a){case n.PLAYBACK_CORE_CHANGE:null!=this.video&&this.viewComponent.removeChild(this.video),this.video=t,this.video.classList.add(""+i.PREFIX+"video"),this.viewComponent.appendChild(this.video)}},t}(r.akamai.amp.player.view.LayerMediator),r.akamai.amp.player.view.ApplicationMediator=function(e){function t(e){n=r.akamai.amp.core.Namespace,i=r.akamai.amp.core.Utils,a=r.akamai.amp.events.Event,o=r.akamai.amp.player.Notifications,s=r.akamai.amp.player.view.VideoMediator,t.__super__.constructor.call(this,t.NAME,e),this.layers=[]}__extends(t,e),t.name="ApplicationMediator",t.NAME="ApplicationMediator",t.prototype.core=null,t.prototype.medium=null,t.prototype.layers=null,t.prototype.ready=!1;var n,i,a,o,s;return t.prototype.onRegister=function(){var e;return t.__super__.onRegister.call(this),this.viewComponent.classList.add(n.PREFIX+"player"),this.viewComponent.classList.add(n.PREFIX+"html5"),e=i.getDevice(),null!=e?this.viewComponent.classList.add(n.PREFIX+e):void 0},t.prototype.listNotificationInterests=function(){return[o.DISPLAY_STATE_CHANGE,o.ACTIVE_STATE_CHANGE,o.PLAY_STATE_CHANGE,o.ADD_APPLICATION_STATE,o.REMOVE_APPLICATION_STATE,o.MEDIUM_CHANGE,o.DURATION_CHANGE,o.TEMPORAL_TYPE_CHANGE,o.ADD_LAYER,o.REMOVE_LAYER,o.READY]},t.prototype.handleNotification=function(e){var t,i,r,s,l,d,u,c,p,h;switch(s=e.getName(),t=e.getBody(),s){case o.ACTIVE_STATE_CHANGE:case o.PLAY_STATE_CHANGE:case o.DISPLAY_STATE_CHANGE:case o.MEDIUM_CHANGE:u=t,l=u.newState,d=u.oldState,null!=d&&this.viewComponent.classList.contains(n.PREFIX+d)&&this.viewComponent.classList.remove(n.PREFIX+d),null!=l&&this.viewComponent.classList.add(n.PREFIX+l),this.sendNotification(o.DISPATCH_EVENT,new a(s.toLowerCase(),t));break;case o.ADD_APPLICATION_STATE:this.viewComponent.classList.add(""+n.PREFIX+t);break;case o.REMOVE_APPLICATION_STATE:this.viewComponent.classList.remove(""+n.PREFIX+t);break;case o.TEMPORAL_TYPE_CHANGE:"live"===t?this.sendNotification(o.ADD_APPLICATION_STATE,"live"):this.sendNotification(o.REMOVE_APPLICATION_STATE,"live");break;case o.DURATION_CHANGE:t>3600?this.sendNotification(o.ADD_APPLICATION_STATE,"long-form"):this.sendNotification(o.REMOVE_APPLICATION_STATE,"long-form");break;case o.ADD_LAYER:this.layers.push(t),this.ready&&this.viewComponent.appendChild(t);break;case o.REMOVE_LAYER:this.viewComponent.contains(t)&&this.viewComponent.removeChild(t),i=this.layers.indexOf(t),i>=0&&this.layers.splice(i,1);break;case o.READY:for(this.ready=!0,h=this.layers,c=0,p=h.length;p>c;c++)r=h[c],this.viewComponent.appendChild(r)}},t}(r.akamai.amp.modules.ModuleMediator),r.akamai.amp.player.controller.InitModelCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.MediaProxy,o=r.akamai.amp.player.model.LocalizationProxy,s=r.akamai.amp.player.model.UserSettingsProxy,l=r.akamai.amp.player.model.TokenizationProxy,d=r.akamai.amp.player.model.ParamsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitModelCommand";var n,i,a,o,s,l,d;return t.prototype.execute=function(e){var t,r;this.facade.logger.debug("InitModelCommand"),t=e.getBody(),this.facade.registerProxy(new o(t)),this.facade.registerProxy(new n),this.facade.registerProxy(new i),this.facade.registerProxy(new a),this.facade.registerProxy(new s),this.facade.registerProxy(new d(t.params)),r=this.facade.retrieveProxy(l.NAME),r.initialize()},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.InitViewCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.EventHandler,a=r.akamai.amp.player.view.ApplicationMediator,o=r.akamai.amp.player.view.ApplicationPluginMediator,s=r.akamai.amp.player.view.TitleBarMediator,l=r.akamai.amp.player.view.ReplayOverlayMediator,d=r.akamai.amp.player.view.ErrorSlateMediator,u=r.akamai.amp.player.view.LoadingOverlayMediator,c=r.akamai.amp.player.view.WaitingOverlayMediator,p=r.akamai.amp.player.view.PosterMediator,h=r.akamai.amp.player.view.ApplicationOverlayMediator,m=r.akamai.amp.player.view.EndSlateMediator,f=r.akamai.amp.player.view.VideoMediator,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitViewCommand";var n,i,a,o,s,l,d,u,c,p,h,m,f;return t.prototype.execute=function(){var e,t,r=this;this.facade.logger.debug("InitViewCommand"),this.facade.container=e=document.getElementById(this.facade.id),this.facade.registerMediator(new a(e)),this.facade.registerMediator(new o),this.facade.registerMediator(new f),this.facade.registerMediator(new p),t=new h,this.facade.registerMediator(t),i.create(t.viewComponent,i.CLICK,function(){return r.sendNotification(n.TOGGLE_ACTIVE)}),this.facade.registerMediator(new u),this.facade.registerMediator(new c),this.facade.registerMediator(new l),this.facade.registerMediator(new m),this.facade.registerMediator(new s),this.facade.registerMediator(new d)},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.MediaProxy=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.ApplicationStateProxy,o=r.akamai.amp.core.Utils,this.data={metadata:{}},t.__super__.constructor.call(this)}__extends(t,e),t.name="MediaProxy",t.NAME="MediaProxy",t.prototype.data=null,t.prototype.authenticated=!0;var n,i,a,o;return t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){return this.data.type=e.type,null!=e.source&&this.setSource(e.source),null!=e.src&&this.setSrc(e.src),this.data.title=e.title,this.setDuration(e.duration),this.data.poster=e.poster,this.data.guid=e.guid,this.data.link=e.link,this.data.embed=e.embed,this.data.width=e.width,this.data.height=e.height,this.data.category=e.category,this.data.description=e.description,this.data.status=e.status,this.data.category=e.category,this.data.metadata=e.metadata||{},null!=e.isLive&&this.setIsLive(e.isLive),null!=e.temporalType&&this.setTemporalType(e.temporalType),null!=e.medium&&this.setMedium(e.medium),null!=e.pubDate&&this.setPubDate(e.pubDate),e},t.prototype.getGUID=function(){return this.data.guid},t.prototype.setGUID=function(e){return this.data.guid=e},t.prototype.getLink=function(){return this.data.link},t.prototype.setLint=function(e){return this.data.link=e},t.prototype.getEmbed=function(){return this.data.embed},t.prototype.setEmbed=function(e){return this.data.embed=e},t.prototype.getPubDate=function(){return this.data.pubDate},t.prototype.setPubDate=function(e){return this.data.pubDate=e},t.prototype.getCategory=function(){return this.data.category},t.prototype.setCategory=function(e){return this.data.category=e},t.prototype.getSrc=function(){return this.data.src},t.prototype.setSrc=function(e){return this.data.src=e,null!=this.data.src&&null==this.data.type?this.setType(o.getMimeType(this.data.src)):void 0},t.prototype.getType=function(){return this.data.type},t.prototype.setType=function(e){var t;return this.data.type=e,t=/audio/.test(this.data.type)?"audio":"video",this.setMedium(t)},t.prototype.getMedium=function(){return this.data.medium},t.prototype.setMedium=function(e){return this.data.medium=e,this.facade.retrieveProxy(a.NAME).setMedium(e)},t.prototype.getMetadata=function(){return this.data.metadata},t.prototype.setMetadata=function(e){return this.data.metadata=e},t.prototype.getSource=function(){return this.data.source},t.prototype.setSource=function(e){var t,n;if(!(null==e||e.length<1)){if(this.data.source=e,n=this.facade.retrieveProxy(i.NAME),t=o.selectSource(e,function(e){return n.canPlayType(e)}),null==(null!=t?t.src:void 0)||""===t.src)throw new Error("No valid source could be found");return this.setSrc(t.src),"undefined"!=typeof type&&null!==type?this.setType(type):void 0}},t.prototype.getTrack=function(){return this.data.track},t.prototype.setTrack=function(e){return this.data.track=e},t.prototype.getTitle=function(){return this.data.title},t.prototype.setTitle=function(e){return this.data.title=e},t.prototype.getWidth=function(){return this.data.width},t.prototype.setWidth=function(e){return this.data.width=e},t.prototype.getHeight=function(){return this.data.height},t.prototype.setHeight=function(e){return this.data.height=e},t.prototype.getDescription=function(){return this.data.description},t.prototype.setDescription=function(e){return this.data.description=e},t.prototype.getCategory=function(){return this.data.category},t.prototype.setCategory=function(e){return this.data.category=e},t.prototype.getDuration=function(){return this.data.duration},t.prototype.setDuration=function(e){return 0!==e?(e!==this.data.duration&&(this.data.duration=e,this.sendNotification(n.DURATION_CHANGE,e)),1/0===e?this.setTemporalType("live"):void 0):void 0},t.prototype.getPoster=function(){return this.data.poster},t.prototype.setPoster=function(e){return this.data.poster=e},t.prototype.getIsLive=function(){return this.data.isLive},t.prototype.setIsLive=function(e){return e!==this.data.isLive?this.data.isLive=e:void 0},t.prototype.getTemporalType=function(){return this.data.temporalType},t.prototype.setTemporalType=function(e){return e!==this.data.temporalType?(this.data.temporalType=e,this.sendNotification(n.TEMPORAL_TYPE_CHANGE,e)):void 0},t}(puremvc.Proxy),r.akamai.amp.player.controller.PlayRequestCommand=function(e){function t(){n=r.akamai.amp.events.Event,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="PlayRequestCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("PlayRequestCommand"),e=this.facade.app||this.facade,e.dispatchEvent(new n("playrequest"))},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.PauseCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="PauseCommand";var n;return t.prototype.execute=function(){var e;e=this.facade.retrieveProxy(n.NAME),e.pause()},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeDisplayStateCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.ApplicationStateProxy,a=r.akamai.amp.player.model.PlaybackProxy,o=r.akamai.amp.player.model.DisplayState,s=r.akamai.amp.events.Event,l=r.akamai.amp.events.EventHandler,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeDisplayStateCommand";var n,i,a,o,s,l;return t.interval=null,t.prototype.execute=function(e){var r,l,d,u,c,p=this;c=e.getBody(),d=this.facade.retrieveProxy(a.NAME),r=d.getCore(),null!=r&&r.webkitSupportsFullscreen&&(u=this.facade.retrieveProxy(i.NAME),u.setDisplayState(c),l={},null!=r.webkitRequestFullScreen?(l.enter=function(){return r.webkitRequestFullScreen()},l.exit=function(){return document.webkitCancelFullScreen()},l.event="onwebkitfullscreenchange",l.element="webkitFullscreenElement"):null!=r.requestFullscreen?(l.enter=function(){return r.requestFullscreen()},l.exit=function(){return document.cancelFullscreen()},l.event="onfullscreenchange",l.element="fullscreenElement"):null!=r.mozRequestFullScreen?(l.enter=function(){return r.mozRequestFullscreen()},l.exit=function(){return document.mozCancelFullScreen()},l.event="onmozfullscreenchange",l.element="mozFullscreenElement"):null!=r.webkitEnterFullscreen&&(l.enter=function(){return r.webkitEnterFullscreen()},l.exit=function(){return r.webkitExitFullscreen()},l.event=null),c===o.FULL_SCREEN?(l.enter(),null!=l.event?r[l.event]=function(){return null==document[l.element]?p.sendNotification(n.CHANGE_DISPLAY_STATE,o.NORMAL):void 0}:(clearInterval(t.interval),t.interval=setInterval(function(){return r.webkitDisplayingFullscreen!==!0?(p.sendNotification(n.CHANGE_DISPLAY_STATE,o.NORMAL),clearInterval(t.interval)):void 0},100))):c===o.NORMAL&&(l.exit(),r[l.event]=null,clearInterval(t.interval)),this.facade.dispatchEvent(new s("fullscreenchange",c===o.FULL_SCREEN)))},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.ConfigurationProxy=function(e){function t(e){n=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="ConfigurationProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={name:null,autoplay:!1,loop:!1,controls:{},fullscreen:null,target:"_blank",domain:null,endslate:null};var n;return t.prototype.setData=function(e){return null!=e.rules&&n.mergeRules(e.rules),t.__super__.setData.call(this,e)},t.prototype.getAutoplay=function(){return this.data.autoplay},t.prototype.setAutoplay=function(e){return this.data.autoplay=e},t.prototype.getLoop=function(){return this.data.loop},t.prototype.setLoop=function(e){return this.data.loop=e},t.prototype.getEndSlate=function(){return this.data.endslate},t.prototype.setEndSlate=function(e){return this.data.endslate=e},t.prototype.getDomain=function(){return this.data.domain},t.prototype.setDomain=function(e){return this.data.domain=e},t.prototype.getTarget=function(){return this.data.target},t.prototype.setTarget=function(e){return this.data.target=e},t.prototype.getNative=function(){return this.data["native"]},t.prototype.setNative=function(e){return this.data["native"]=e},t.prototype.getName=function(){return this.data.name},t.prototype.setName=function(e){return this.data.name=e},t.prototype.getControls=function(){return this.data.controls},t.prototype.setControls=function(e){return this.data.controls=e},t.prototype.getFullscreen=function(){return this.data.fullscreen},t.prototype.setFullscreen=function(e){return this.data.fullscreen=e},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.player.model.ControlsMode=function(){function e(){}return e.name="ControlsMode",e.PERSISTENT="persistent",e}(),r.akamai.amp.player.controller.ChangePlaybackCoreCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.EventHandler,a=r.akamai.amp.player.model.MediaProxy,o=r.akamai.amp.player.model.PlaybackProxy,s=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangePlaybackCoreCommand";var n,i,a,o,s;return t.prototype.execute=function(e){var t,r,l,d,u=this;this.facade.logger.debug("ChangePlaybackCoreCommand"),d=this.facade.retrieveProxy(o.NAME),r=this.facade.retrieveProxy(a.NAME),t=e.getBody(),l=d.getCore(),this.facade.video=t,l&&i.clear(l),i.create(t,"timeupdate",function(e){return u.sendNotification(n.TIME_UPDATE,e.target.currentTime)}),i.create(t,"durationchange",function(e){u.facade.logger.debug("Playback core: durationchange: "+e.target.duration),/Android 4/.test(navigator.userAgent)&&-1!==e.target.src.indexOf(".m3u8")||u.sendNotification(n.CHANGE_DURATION,e.target.duration)}),i.create(t,"playing",function(){u.sendNotification(n.CHANGE_PLAY_STATE,s.PLAYING)}),i.create(t,"play",function(){}),i.create(t,"pause",function(e){e.target.readyState>0&&u.sendNotification(n.CHANGE_PLAY_STATE,s.PAUSED)}),i.create(t,"waiting",function(){u.sendNotification(n.WAITING)}),i.create(t,"seeked",function(){u.sendNotification(n.SEEKING)}),i.create(t,"seeked",function(){u.sendNotification(n.SEEKED)}),i.create(t,"ended",function(){u.sendNotification(n.ENDED)}),i.create(t,"progress",function(e){var t,i;try{i=e.target,t=i.buffered,u.sendNotification(n.PROGRESS,t.end(t.length-1)/i.duration)}catch(a){}}),i.create(t,"error",function(e){u.sendNotification(n.ERROR,e.target.error)}),i.create(t,"canplaythrough",function(){u.sendNotification(n.PROGRESS,r.getDuration())}),i.create(t,"loadedmetadata",function(e){u.sendNotification(n.ENABLE_FULL_SCREEN),u.sendNotification(n.LOADED_METADATA,e.target),/Android 4/.test(navigator.userAgent)&&-1!==e.target.src.indexOf(".m3u8")||u.sendNotification(n.CHANGE_DURATION,e.target.duration)}),i.create(t,"DOMNodeRemovedFromDocument",function(){t.reload=!0}),i.create(t,"DOMNodeInsertedIntoDocument",function(){t.reload===!0&&setTimeout(function(){t.load()},10)}),this.sendNotification(n.DISABLE_FULL_SCREEN),d.setCore(t)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeAutoplayCommand=function(e){function t(){n=r.akamai.amp.player.model.ConfigurationProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeAutoplayCommand";var n;return t.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(n.NAME),t.setAutoplay(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.UserSettingsProxy=function(e){function t(){t.__super__.constructor.call(this)}return __extends(t,e),t.name="UserSettingsProxy",t.NAME="UserSettingsProxy",t.NAMESPACE="akamai_",t.prototype.getVolume=function(){return localStorage.getItem(t.NAMESPACE+"volume")||1},t.prototype.setVolume=function(e){return localStorage.setItem(t.NAMESPACE+"volume",e)},t}(puremvc.Proxy),r.akamai.amp.player.controller.ChangeLoopCommand=function(e){function t(){n=r.akamai.amp.player.model.ConfigurationProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeLoopCommand";var n;return t.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(n.NAME),t.setLoop(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeMediaCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.model.ActiveState,o=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeMediaCommand";var n,i,a,o;return t.prototype.execute=function(e){var t,r;this.facade.logger.debug("ChangeMediaCommand",e.getBody()),t=e.getBody(),r=this.facade.retrieveProxy(n.NAME),this.sendNotification(i.CHANGE_PLAY_STATE,o.READY),this.sendNotification(i.CHANGE_ACTIVE_STATE,a.ACTIVE),r.setData(t),this.sendNotification(i.UPDATE_TOKEN_CONTEXT),this.sendNotification(i.AUTHENTICATE,r.getData())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.SetMediaCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.MediaProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="SetMediaCommand";var n,i;return t.prototype.execute=function(e){var t,a;t=e.getBody(),this.facade.logger.debug("SetMediaCommand",t),this.sendNotification(n.CHANGE_MEDIA,t),a=this.facade.retrieveProxy(i.NAME),a.authenticated===!0&&this.sendNotification(n.MEDIA_CHANGE,a.getData())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.MediaChangeCommand=function(e){function t(){n=r.akamai.amp.player.model.ConfigurationProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaChangeCommand";var n,i,a;return t.prototype.execute=function(e){var t,r,o,s;this.facade.logger.debug("MediaChangeCommand",e.getBody()),o=e.getBody(),this.sendNotification(a.UPDATE_PLAYBACK_CORE,!1),s=this.facade.retrieveProxy(i.NAME),r=this.facade.retrieveProxy(n.NAME),t=s.initialized&&r.getAutoplay(),t===!0&&this.sendNotification(a.START)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeDurationCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.model.PlayState,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)
}__extends(t,e),t.name="ChangeDurationCommand";var n,i,a;return t.prototype.execute=function(e){var t,i;this.facade.logger.debug("ChangeDurationCommand",e.getBody()),t=e.getBody(),i=this.facade.retrieveProxy(n.NAME),i.getDuration()!==t&&i.setDuration(t)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.UpdatePlaybackCoreCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.UserSettingsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="UpdatePlaybackCoreCommand";var n,i,a;return t.prototype.execute=function(e){var t,r,o,s,l;this.facade.logger.debug("UpdatePlaybackCoreCommand"),r=this.facade.retrieveProxy(n.NAME),o=this.facade.retrieveProxy(i.NAME),l=this.facade.retrieveProxy(a.NAME),o.setVolume(l.getVolume()),s=r.getSrc(),null!=s&&""!==s&&"undefined"!==s&&(o.setSrc(s),t=null!=e.getBody()?e.getBody():!0,t===!0&&o.load())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.SeekCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.PlayState,o=r.akamai.amp.player.Notifications,s=r.akamai.amp.core.Utils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="SeekCommand";var n,i,a,o,s;return t.prototype.execute=function(e){var t,r,l,d;d=e.getBody(),l=this.facade.retrieveProxy(i.NAME),r=this.facade.retrieveProxy(n.NAME),0===d&&r.getType()===s.mimeTypes.m3u8&&(d=.25),0===l.core.readyState?(t=function(){return l.core.removeEventListener("loadedmetadata",t,!1),l.setCurrentTime(d)},l.core.addEventListener("loadedmetadata",t,!1)):l.setCurrentTime(d),this.sendNotification(o.CHANGE_PLAY_STATE,a.WAITING)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.SeekedCommand=function(e){function t(){n=r.akamai.amp.player.model.PlayState,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="SeekedCommand";var n,i,a;return t.prototype.execute=function(){var e,t;e=this.facade.retrieveProxy(i.NAME),t=e.getSrc(),-1===t.indexOf(".m3u8")&&this.sendNotification(a.CHANGE_PLAY_STATE,n.PLAYING),e.getPaused()&&this.sendNotification(a.CHANGE_PLAY_STATE,n.PAUSED)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ReplayCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,i=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ReplayCommand";var n,i;return t.prototype.execute=function(){var e;e=this.facade.retrieveProxy(n.NAME),e.setCurrentTime(.25),this.sendNotification(i.PLAY)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.EndCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,i=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="EndCommand";var n,i;return t.prototype.execute=function(e){var t,i;return this.facade.logger.debug("EndCommand",e),i=e.getBody(),t=this.facade.retrieveProxy(n.NAME),t.pause(),t.getCurrentTime()!==t.getDuration()?t.setCurrentTime(t.getDuration()):void 0},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.EndedCommand=function(e){function t(){n=r.akamai.amp.player.model.PlayState,i=r.akamai.amp.player.model.ActiveState,a=r.akamai.amp.player.model.ConfigurationProxy,o=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="EndedCommand";var n,i,a,o;return t.prototype.execute=function(e){var t;this.facade.logger.debug("EndedCommand",e),t=this.facade.retrieveProxy(a.NAME),t.getLoop()===!0?this.sendNotification(o.REPLAY):(this.sendNotification(o.CHANGE_PLAY_STATE,n.ENDED),this.sendNotification(o.CHANGE_ACTIVE_STATE,i.ACTIVE))},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ErrorCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.events.EventHandler,o=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ErrorCommand";var n,i,a,o;return t.prototype.execute=function(e){var t,r;r=this.facade.retrieveProxy(n.NAME),t=r.getCore(),a.clear(t),this.facade.logger.error(e.getBody()),this.sendNotification(i.CHANGE_PLAY_STATE,o.ERROR)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.StartCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.PlayState,o=r.akamai.amp.player.Notifications,s=r.akamai.amp.player.model.ActiveState,l=r.akamai.amp.core.Utils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="StartCommand";var n,i,a,o,s,l;return t.prototype.execute=function(e){var t,a;this.facade.logger.debug("StartCommand"),a=this.facade.retrieveProxy(i.NAME),t=this.facade.retrieveProxy(n.NAME),t.getSrc()!==a.getSrc()&&this.sendNotification(o.UPDATE_PLAYBACK_CORE),this.sendNotification(o.STARTED,e.getBody()),this.sendNotification(o.PLAY,e.getBody()),this.sendNotification(o.CHANGE_ACTIVE_STATE,s.INACTIVE)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.StartedCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,i=r.akamai.amp.player.model.PlayState,a=r.akamai.amp.player.Notifications,o=r.akamai.amp.events.Event,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="StartedCommand";var n,i,a,o;return t.prototype.execute=function(e){var t;this.facade.logger.debug("StartedCommand"),t=this.facade.retrieveProxy(n.NAME),t.setStarted(!0),this.facade.dispatchEvent(new o(a.STARTED,e.getBody()))},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ReadyCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.ActiveState,a=r.akamai.amp.player.model.DisplayState,o=r.akamai.amp.player.model.PlayState,s=r.akamai.amp.events.Event,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ReadyCommand";var n,i,a,o,s;return t.prototype.execute=function(){var e,t;this.facade.logger.debug("ReadyCommand"),this.sendNotification(n.CHANGE_DISPLAY_STATE,a.NORMAL),this.sendNotification(n.CHANGE_PLAY_STATE,o.READY),this.sendNotification(n.CHANGE_ACTIVE_STATE,i.ACTIVE),this.facade.dispatchEvent(new s(n.READY)),e=null!=(t=this.facade.config)?t.media:void 0,null!=e&&this.sendNotification(n.SET_MEDIA,e)},t}(puremvc.SimpleCommand),r.akamai.amp.tokenization.ITokenized=function(){function e(){}return e.name="ITokenized",e.prototype.data=null,e.prototype.value=null,e.prototype.source=null,e.prototype.parse=function(){},e.prototype.compile=function(e,t){null==e&&(e={}),null==t&&(t=!1)},e}(),r.akamai.amp.tokenization.TokenizedBase=function(e){function t(e){n=r.akamai.amp.tokenization.TokenizedValue,i=r.akamai.amp.tokenization.TokenizedObject,a=r.akamai.amp.tokenization.TokenizedArray,null!=e&&this.parse(e)}__extends(t,e),t.name="TokenizedBase",t.prototype.data=null,t.prototype.value=null,t.prototype.source=null;var n,i,a;return t.prototype.parse=function(e){var t;return t=e instanceof Array?new a(e):e instanceof Object?new i(e):new n(e)},t}(r.akamai.amp.tokenization.ITokenized),r.akamai.amp.tokenization.TokenizedArray=function(e){function t(e){n=r.akamai.amp.core.Logger,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="TokenizedArray";var n;return t.prototype.parse=function(e){var n,i,a,r;for(this.data=[],n=a=0,r=e.length;r>a;n=++a)i=e[n],this.data[n]=t.__super__.parse.call(this,i);return this.data},t.prototype.compile=function(e,t){var i,a,r,o,s;for(null==e&&(e={}),null==t&&(t=!1),this.value=[],s=this.data,i=r=0,o=s.length;o>r;i=++r){a=s[i];try{this.value[i]=a.compile(e,t)}catch(l){this.value[i]=null,t||n.error(l)}}return this.value},t}(r.akamai.amp.tokenization.TokenizedBase),r.akamai.amp.player.controller.ChangeParamsCommand=function(e){function t(){n=r.akamai.amp.player.model.ParamsProxy,i=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeParamsCommand";var n,i;return t.prototype.execute=function(e){var t,a;this.facade.logger.debug("ChangeParamsCommand",e.getBody()),t=e.getBody(),a=this.facade.retrieveProxy(n.NAME),a.setData(t),this.sendNotification(i.UPDATE_TOKEN_CONTEXT,!0)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.AuthenticateCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AuthenticateCommand";var n,i;return t.prototype.execute=function(e){var t,i,a;this.facade.logger.debug("AuthenticateCommand"),a=this.facade.retrieveProxy(n.NAME),i=e.getBody(),t=this.facade.features.auth,null!=t&&null!=i.status&&"blocked"===i.status.state&&"ais"===i.status.reason?(a.authenticated=!1,t.authenticate(i)):a.authenticated=!0},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.AuthenticatedCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.MediaProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AuthenticatedCommand";var n,i;return t.prototype.execute=function(e){var t,a,r;this.facade.logger.debug("AuthenticatedCommand"),t=e.getBody(),a=t.media,r=t.startTime,this.facade.retrieveProxy(i.NAME).authenticated=!0,this.sendNotification(n.MEDIA_CHANGE,a),null!=r&&this.sendNotification(n.SEEK,r)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.InitializedCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitializedCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("InitializedCommand"),e=this.facade.retrieveProxy(n.NAME),e.initialized=!0},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.LoadedMetadataCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="LoadedMetadataCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("LoadedMetadataCommand"),e=this.facade.retrieveProxy(n.NAME),e.loadedMetadata=!0},t}(puremvc.SimpleCommand),r.akamai.amp.tokenization.TokenizationError=function(e){function t(e){this.message=t.MESSAGE+e}return __extends(t,e),t.name="TokenizationError",t.MESSAGE="Tokenization Error: Could not find token value for: ",t}(Error),r.akamai.amp.tokenization.Literal=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t.name="Literal",t.prototype.parse=function(e){return this.source=this.data=this.value=e,e},t.prototype.compile=function(e,t){return null==e&&(e=null),null==t&&(t=!1),this.value},t}(r.akamai.amp.tokenization.TokenizedBase),r.akamai.amp.tokenization.Token=function(e){function t(e){n=r.akamai.amp.tokenization.TokenizationError,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="Token",t.prototype.exec=null;var n;return t.prototype.parse=function(e){return this.source=this.data=e,this.exec=new Function("context","var value; with(context){value = "+this.data+";}return value;"),this.data},t.prototype.compile=function(e,t){if(null==e&&(e={}),null==t&&(t=!1),null==this.exec)return this.value;try{this.value=this.exec(e)}catch(i){if(this.value=null,!suppressErors)throw new n(this.data)}return this.value},t}(r.akamai.amp.tokenization.TokenizedBase),r.akamai.amp.tokenization.TokenizedValue=function(e){function t(e){n=r.akamai.amp.tokenization.TokenizationError,i=r.akamai.amp.tokenization.Token,a=r.akamai.amp.tokenization.ITokenized,o=r.akamai.amp.tokenization.Literal,this.token=new RegExp(this.tokenStart.source+"(.*)"+this.tokenEnd.source),t.__super__.constructor.call(this,e)}__extends(t,e),t.name="TokenizedValue",t.prototype.exec=null,t.prototype.tokenStart=/#{/,t.prototype.tokenEnd=/}/,t.prototype.token=null;var n,i,a,o;return t.prototype.parse=function(e){var t,n,a,r,s;if(this.source=e,this.data=[],this.token.test(this.source)){for(a=this.source.split(this.tokenStart.source),r=0,s=a.length;s>r;r++)n=a[r],this.tokenEnd.test(n)?(t=n.split(this.tokenEnd.source),this.data.push(new i(t[0])),""!==t[1]&&this.data.push(new o(t[1]))):""!==n&&this.data.push(new o(n));1===this.data.length&&(this.data=this.data[0])}else this.data=new o(e);return this.data},t.prototype.compile=function(e,t){var i,r,o,s;if(null==e&&(e={}),null==t&&(t=!1),null==this.data)return this.value;try{if(this.data instanceof a)this.value=this.data.compile(e,t);else for(this.value="",s=this.data,r=0,o=s.length;o>r;r++)i=s[r],this.value+=i.compile(e,t)}catch(l){if(this.value=null,!t)throw new n(this.source)}return this.value},t}(r.akamai.amp.tokenization.TokenizedBase),r.akamai.amp.tokenization.TokenizedObject=function(e){function t(e){n=r.akamai.amp.core.Logger,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="TokenizedObject";var n;return t.prototype.parse=function(e){var n,i;this.source=e,this.data={};for(n in e)i=e[n],this.data[n]=t.__super__.parse.call(this,i);return this.data},t.prototype.compile=function(e,t){var i,a,r;null==e&&(e={}),null==t&&(t=!1),this.value={},r=this.data;for(i in r){a=r[i];try{this.value[i]=a.compile(e,t)}catch(o){this.value[i]=null,n.error(o)}}return this.value},t}(r.akamai.amp.tokenization.TokenizedBase),r.akamai.amp.player.model.LocalizationProxy=function(e){function t(e){n=r.akamai.amp.player.Notifications,t.__super__.constructor.call(this),e&&(null!=e.locales&&(this.data.locales=e.locales),null!=e.language&&(this.data.language=e.language)),this.setLocale(this.data.language)}__extends(t,e),t.name="LocalizationProxy",t.NAME="LocalizationProxy",t.prototype.data={language:navigator.language,locales:{en:{MSG_LIVE:"LIVE",MSG_REPLAY:"Replay",MSG_BUFFERING:"buffering...",MSG_CC:"CC",MSG_CLOSE:"close"}}},t.prototype.locale=null;var n;return t.prototype.getLanguage=function(){return this.data.language},t.prototype.setLanguage=function(e){return this.data.language=e,this.setLocale(e),this.sendNotification(n.LANGUAGE_CHANGED,e)},t.prototype.setLocale=function(e){return this.locale=this.data.locales[e],null==this.locale?this.locale=this.data.locales[e.substring(0,2)]:void 0},t.prototype.getLocales=function(){return this.data.locales},t.prototype.setLocales=function(e){return this.data.locales=e},t.prototype.getString=function(e){var t;return t=this.locale||this.data.locales.en,t[e]||""},t}(puremvc.Proxy),r.akamai.amp.player.model.TokenizedConfigurationProxy=function(e){function t(e){n=r.akamai.amp.tokenization.TokenizedObject,i=r.akamai.amp.player.model.TokenizationProxy,this.data=new n,this.value={},t.__super__.constructor.call(this,e)}__extends(t,e),t.name="TokenizedConfigurationProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.tokens=null,t.prototype.value=null,t.prototype.key=null;var n,i;return t.prototype.onRegister=function(){var e;return e=this.facade.app||this.facade,this.tokens=e.retrieveProxy(i.NAME),this.tokens.add(this.key||this.facade.key,this)},t.prototype.setData=function(e){var t,n,i,a;n={},a=this.defaults;for(t in a)i=a[t],n[t]=t in e?e[t]:i;return this.data.parse(n),this.data},t.prototype.getValue=function(e){var t;return this.tokens.update(),this.value[e]=null!=(t=this.data.data[e])?t.compile(this.tokens.context):void 0,this.value[e]},t.prototype.compile=function(e,t){null==t&&(t=!1),this.value=this.data.compile(e,t)},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.player.model.ParamsProxy=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t.name="ParamsProxy",t.NAME="ParamsProxy",t.prototype.defaults={},t.prototype.key="params",t.prototype.setData=function(e){var t,n,i;n=this.data.source||{};for(t in e)i=e[t],n[t]=e[t];return this.data.parse(n),this.data},t}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.player.controller.WaitingCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.PlayState,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="WaitingCommand";var n,i,a;return t.prototype.execute=function(){var e;this.facade.logger.debug("WaitingCommand"),e=this.facade.retrieveProxy(n.NAME),e.getPlayState()!==i.LOADING&&this.sendNotification(a.CHANGE_PLAY_STATE,i.WAITING)},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.TokenizationProxy=function(e){function t(){n=r.akamai.amp.player.model.ConfigurationProxy,i=r.akamai.amp.player.model.LocalizationProxy,a=r.akamai.amp.player.model.PlaybackProxy,o=r.akamai.amp.player.model.ParamsProxy,s=r.akamai.amp.player.model.MediaProxy,l=r.akamai.amp.core.Utils,d=r.akamai.amp.tokenization.TokenizedValue,t.__super__.constructor.call(this,this.constructor.NAME,{})}__extends(t,e),t.name="TokenizationProxy",t.NAME="TokenizationProxy",t.prototype.context=null;var n,i,a,o,s,l,d;return t.prototype.add=function(e,t){return this.data[e]=t,t.compile(this.context,!0)},t.prototype.initialize=function(){return this.update()},t.prototype.evaluateBinding=function(e){var t;return t=new d(e),t.compile(this.context),t.value},t.prototype.update=function(){var e,t,r,d,u,c,p,h,m;e=this.facade.retrieveProxy(n.NAME),p=this.facade.retrieveProxy(a.NAME),u=this.facade.retrieveProxy(s.NAME),d=this.facade.retrieveProxy(i.NAME),c=this.facade.retrieveProxy(o.NAME),t=document.getElementById(this.facade.id),this.context={media:{width:u.getWidth(),height:u.getHeight(),title:u.getTitle(),description:u.getDescription(),src:u.getSrc(),duration:u.getDuration(),guid:u.getGUID(),isLive:u.getIsLive(),metadata:u.getMetadata(),temporalType:u.getTemporalType(),poster:u.getPoster(),category:u.getCategory()},player:{width:t.offsetWidth,height:t.offsetHeight,mode:"html5",autoplay:e.getAutoplay(),domain:e.getDomain(),name:e.getName(),currentTime:p.getCurrentTime(),timecode:{duration:l.formatTimecode(u.getDuration()),currentTime:l.formatTimecode(p.getCurrentTime())}},l10n:d.locale,now:Date.now()},c.compile(this.context),m=c.value;for(r in m)h=m[r],this.context[r]=h;return this.context},t.prototype.compile=function(e){var t,n,i,a;null==e&&(e=!1),this.update(),t=l.clone(this.context),a=this.data;for(n in a)i=a[n],i.compile(t,e)},t}(puremvc.Proxy),r.akamai.amp.player.controller.ChangeMutedCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeMutedCommand";var n;return t.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(n.NAME),t.setMuted(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.UpdateTokenContextCommand=function(e){function t(){n=r.akamai.amp.player.model.TokenizationProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="UpdateTokenContextCommand";var n;return t.prototype.execute=function(e){var t;this.facade.logger.debug("UpdateTokenContextCommand"),t=this.facade.retrieveProxy(n.NAME),t.compile(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeVolumeCommand=function(e){function t(){n=r.akamai.amp.player.model.PlaybackProxy,i=r.akamai.amp.player.model.UserSettingsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeVolumeCommand";var n,i;return t.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(n.NAME),t.setVolume(e.getBody()),t=this.facade.retrieveProxy(i.NAME),t.setVolume(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangePlayStateCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangePlayStateCommand";var n;return t.prototype.execute=function(e){var t,i;t=this.facade.retrieveProxy(n.NAME),i=e.getBody(),t.setPlayState(i)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ChangeActiveStateCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.ApplicationStateProxy,a=r.akamai.amp.player.model.ConfigurationProxy,o=r.akamai.amp.player.model.ActiveState,s=r.akamai.amp.player.model.ControlsMode,l=r.akamai.amp.events.Event,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeActiveStateCommand";var n,i,a,o,s,l;return t.prototype.execute=function(e){var t,n,r;t=this.facade.retrieveProxy(a.NAME),r=t.getControls().mode!==s.PERSISTENT?e.getBody():o.ACTIVE,n=this.facade.retrieveProxy(i.NAME),n.setActiveState(r)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.ToggleFullScreenCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.DisplayState,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ToggleFullScreenCommand";var n,i,a;return t.prototype.execute=function(){var e,t;e=this.facade.retrieveProxy(n.NAME),t=e.getDisplayState()===i.FULL_SCREEN?i.NORMAL:i.FULL_SCREEN,this.sendNotification(a.CHANGE_DISPLAY_STATE,t)},t}(puremvc.SimpleCommand),r.akamai.amp.player.controller.PlayCommand=function(e){function t(){n=r.akamai.amp.player.model.MediaProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.controller.PlayRequestCommand,o=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="PlayCommand";var n,i,a,o;return t.prototype.initializeMacroCommand=function(){return this.addSubCommand(a)},t.prototype.execute=function(e){var a,r,s;this.facade.logger.debug("PlayCommand"),t.__super__.execute.call(this,e),s=e.getBody(),a=this.facade.retrieveProxy(n.NAME),r=this.facade.retrieveProxy(i.NAME),s&&r.initialized!==!0&&this.sendNotification(o.INITIALIZED),r.initialized===!0&&(a.getSrc()||a.getSource())&&(r.getStarted()?r.play():this.sendNotification(o.START))},t}(puremvc.MacroCommand),r.akamai.amp.player.model.RenderMode=function(){function e(){}return e.name="RenderMode",e.FLASH="flash",e.HTML="html",e}(),r.akamai.amp.player.controller.TogglePlayPauseCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.PlaybackProxy,a=r.akamai.amp.player.model.PlayState,o=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="TogglePlayPauseCommand";var n,i,a,o;return t.prototype.execute=function(){var e,t,r;switch(this.facade.logger.debug("TogglePlayPauseCommand"),e=this.facade.retrieveProxy(n.NAME),r=this.facade.retrieveProxy(i.NAME),e.getPlayState()){case a.ENDED:t=o.REPLAY;break;case a.PAUSED:t=r.getStarted()?o.PLAY:o.START;break;case a.READY:t=o.START;break;case a.PLAYING:case a.WAITING:t=o.PAUSE}this.sendNotification(t,!0)},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.ActiveState=function(){function e(){}return e.name="ActiveState",e.ACTIVE="active",e.INACTIVE="inactive",e}(),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsNotifications=function(){function e(){}return e.name="MediaAnalyticsNotifications",e.SET_DIMENSIONS="mediaanalytics:setDimensions",e}(),r.akamai.amp.player.model.ApplicationStateProxy=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.DisplayState,a=r.akamai.amp.player.model.PlayState,o=r.akamai.amp.player.model.RenderMode,s=r.akamai.amp.player.model.ActiveState,t.__super__.constructor.call(this)}__extends(t,e),t.name="ApplicationStateProxy",t.NAME="ApplicationStateProxy",t.prototype.displayState=null,t.prototype.playState=null,t.prototype.renderMode=null,t.prototype.activeState=null;var n,i,a,o,s;return t.prototype.getDisplayState=function(){return this.displayState},t.prototype.setDisplayState=function(e){var t;e!==t&&(t=this.displayState,this.displayState=e,this.sendNotification(n.DISPLAY_STATE_CHANGE,{oldState:t,newState:this.displayState}))},t.prototype.getPlayState=function(){return this.playState},t.prototype.setPlayState=function(e){var t;e!==this.playState&&(t=this.playState,this.playState=e,this.sendNotification(n.PLAY_STATE_CHANGE,{oldState:t,newState:this.playState}))},t.prototype.getRenderMode=function(){return this.renderMode},t.prototype.setRenderMode=function(e){e!==this.renderMode&&(this.renderMode=e)},t.prototype.getMedium=function(){return this.medium},t.prototype.setMedium=function(e){var t;e!==this.medium&&(t="medium-"+this.medium,this.medium=e,this.sendNotification(n.MEDIUM_CHANGE,{oldState:t,newState:"medium-"+this.medium}))},t.prototype.getActiveState=function(){return this.activeState},t.prototype.setActiveState=function(e){var t;e!==this.activeState&&(t=this.activeState,this.activeState=e,this.sendNotification(n.ACTIVE_STATE_CHANGE,{oldState:t,newState:this.activeState}))},t}(puremvc.Proxy),r.akamai.amp.events.Event=function(){function e(e,t){this.type=e,this.data=t}return e.name="Event",e.prototype.type=null,e.prototype.target=null,e.prototype.data=null,e}(),r.akamai.amp.player.controller.ToggleActiveCommand=function(e){function t(){n=r.akamai.amp.player.model.ApplicationStateProxy,i=r.akamai.amp.player.model.ActiveState,a=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ToggleActiveCommand";var n,i,a;return t.prototype.execute=function(){var e,t;e=this.facade.retrieveProxy(n.NAME),t=e.getActiveState()===i.ACTIVE?i.INACTIVE:i.ACTIVE,this.sendNotification(a.CHANGE_ACTIVE_STATE,t)},t}(puremvc.SimpleCommand),r.akamai.amp.modules.MessageEvent=function(e){function t(e,n){this.message=e,this.origin=n,t.__super__.constructor.call(this,t.MESSAGE)}return __extends(t,e),t.name="MessageEvent",t.MESSAGE="message",t}(r.akamai.amp.events.Event),r.akamai.amp.player.controller.InitControllerCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.controller.ToggleActiveCommand,a=r.akamai.amp.player.controller.TogglePlayPauseCommand,o=r.akamai.amp.player.controller.ToggleFullScreenCommand,s=r.akamai.amp.player.controller.PlayCommand,l=r.akamai.amp.player.controller.PauseCommand,d=r.akamai.amp.player.controller.ChangeDisplayStateCommand,u=r.akamai.amp.player.controller.ChangePlayStateCommand,c=r.akamai.amp.player.controller.ChangeActiveStateCommand,p=r.akamai.amp.player.controller.ChangePlaybackCoreCommand,h=r.akamai.amp.player.controller.ChangeAutoplayCommand,m=r.akamai.amp.player.controller.ChangeLoopCommand,f=r.akamai.amp.player.controller.ChangeVolumeCommand,g=r.akamai.amp.player.controller.ChangeMediaCommand,y=r.akamai.amp.player.controller.SetMediaCommand,v=r.akamai.amp.player.controller.MediaChangeCommand,_=r.akamai.amp.player.controller.ChangeDurationCommand,A=r.akamai.amp.player.controller.UpdatePlaybackCoreCommand,C=r.akamai.amp.player.controller.SeekCommand,b=r.akamai.amp.player.controller.SeekedCommand,E=r.akamai.amp.player.controller.ReplayCommand,P=r.akamai.amp.player.controller.EndCommand,x=r.akamai.amp.player.controller.EndedCommand,k=r.akamai.amp.player.controller.ErrorCommand,N=r.akamai.amp.player.controller.StartCommand,S=r.akamai.amp.player.controller.StartedCommand,T=r.akamai.amp.player.controller.ReadyCommand,w=r.akamai.amp.player.controller.WaitingCommand,M=r.akamai.amp.player.controller.ChangeMutedCommand,I=r.akamai.amp.player.controller.UpdateTokenContextCommand,D=r.akamai.amp.player.controller.ChangeParamsCommand,L=r.akamai.amp.player.controller.AuthenticateCommand,R=r.akamai.amp.player.controller.AuthenticatedCommand,O=r.akamai.amp.player.controller.InitializedCommand,V=r.akamai.amp.player.controller.LoadedMetadataCommand,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitControllerCommand";var n,i,a,o,s,l,d,u,c,p,h,m,f,g,y,v,_,A,C,b,E,P,x,k,N,S,T,w,M,I,D,L,R,O,V;return t.prototype.execute=function(){this.facade.logger.debug("InitControllerCommand"),this.facade.registerCommand(n.TOGGLE_PLAY_PAUSE,a),this.facade.registerCommand(n.PLAY,s),this.facade.registerCommand(n.PAUSE,l),this.facade.registerCommand(n.CHANGE_PLAY_STATE,u),this.facade.registerCommand(n.TOGGLE_FULL_SCREEN,o),this.facade.registerCommand(n.CHANGE_DISPLAY_STATE,d),this.facade.registerCommand(n.TOGGLE_ACTIVE,i),this.facade.registerCommand(n.CHANGE_ACTIVE_STATE,c),this.facade.registerCommand(n.CHANGE_MEDIA,g),this.facade.registerCommand(n.MEDIA_CHANGE,v),this.facade.registerCommand(n.SET_MEDIA,y),this.facade.registerCommand(n.UPDATE_TOKEN_CONTEXT,I),this.facade.registerCommand(n.CHANGE_PLAYBACK_CORE,p),this.facade.registerCommand(n.UPDATE_PLAYBACK_CORE,A),this.facade.registerCommand(n.START,N),this.facade.registerCommand(n.STARTED,S),this.facade.registerCommand(n.SEEK,C),this.facade.registerCommand(n.SEEKED,b),this.facade.registerCommand(n.CHANGE_VOLUME,f),this.facade.registerCommand(n.CHANGE_MUTED,M),this.facade.registerCommand(n.CHANGE_AUTOPLAY,h),this.facade.registerCommand(n.CHANGE_LOOP,m),this.facade.registerCommand(n.END,P),this.facade.registerCommand(n.ENDED,x),this.facade.registerCommand(n.REPLAY,E),this.facade.registerCommand(n.ERROR,k),this.facade.registerCommand(n.READY,T),this.facade.registerCommand(n.WAITING,w),this.facade.registerCommand(n.CHANGE_DURATION,_),this.facade.registerCommand(n.CHANGE_PARAMS,D),this.facade.registerCommand(n.AUTHENTICATE,L),this.facade.registerCommand(n.AUTHENTICATED,R),this.facade.registerCommand(n.INITIALIZED,O),this.facade.registerCommand(n.LOADED_METADATA,V)},t}(puremvc.SimpleCommand),r.akamai.amp.modules.ModuleJunctionMediator=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.ads.AdNotifications,a=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsNotifications,o=r.akamai.amp.modules.MessageEvent,t.__super__.constructor.call(this,t.NAME,this)}__extends(t,e),t.name="ModuleJunctionMediator",t.NAME="ModuleJunctionMediator";var n,i,a,o;return t.prototype.onRegister=function(){return t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){var e,t,r,o;t=[],e=[n.STARTUP];for(r in n)o=n[r],__indexOf.call(e,o)>=0||t.push(o);for(r in i)o=i[r],__indexOf.call(e,o)>=0||t.push(o);for(r in a)o=a[r],__indexOf.call(e,o)>=0||t.push(o);return t},t.prototype.handleNotification=function(e){var t,n;t=e.getName(),n=e.getType(),null==n&&e.setType(this.multitonKey),this.facade.dispatchEvent(new o(e,this.multitonKey))},t}(puremvc.Mediator),r.akamai.amp.player.controller.InitFrameworkCommand=function(e){function t(){n=r.akamai.amp.player.controller.InitControllerCommand,i=r.akamai.amp.player.controller.InitModelCommand,a=r.akamai.amp.player.controller.InitViewCommand,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="InitFrameworkCommand";var n,i,a;return t.prototype.initializeMacroCommand=function(){this.addSubCommand(i),this.addSubCommand(n),this.addSubCommand(a)},t}(puremvc.MacroCommand),r.akamai.amp.core.URLVariables=function(){function e(e){null!=e&&this.decode(e)}return e.name="URLVariables",e.decode=function(e){var t;return null!=e&&(t={},e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,i,a){t[decodeURIComponent(n)]=decodeURIComponent(a)})),t},e.encode=function(e){var t,n,i;n=[];for(t in e)i=e[t],n.push(""+encodeURIComponent(t)+"="+encodeURIComponent(i));return n.join("&")},e.prototype.decode=function(t){var n,i,a;if(null!=t){i=e.decode(t);for(n in i)a=i[n],this[n]=a}return i},e.prototype.encode=function(){return e.encode(this)},e}(),r.akamai.amp.player.controller.StartupCommand=function(e){function t(){n=r.akamai.amp.player.controller.InitFrameworkCommand,i=r.akamai.amp.player.controller.InitPlaybackCoreCommand,a=r.akamai.amp.player.controller.InitPluginsCommand,o=r.akamai.amp.player.controller.UpdateTokenContextCommand,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="StartupCommand";var n,i,a,o;return t.prototype.initializeMacroCommand=function(){this.addSubCommand(n),this.addSubCommand(o),this.addSubCommand(i),this.addSubCommand(a)},t}(puremvc.MacroCommand),r.akamai.amp.modules.ModuleFacade=function(e){function t(e,s,l){n=r.akamai.amp.modules.ModuleJunctionMediator,i=r.akamai.amp.modules.ModuleConfigurationProxy,a=r.akamai.amp.core.Logger,o=r.akamai.amp.events.EventDispatcher,t.__super__.constructor.call(this,e),this.dispatcher=l||new o(this),this.logger=a,this.config=s,this.initialize()
}__extends(t,e),t.name="ModuleFacade",t.prototype.dispatcher=null,t.prototype.logger=null,t.prototype.config=null,t.prototype.key=null,t.prototype.api=null;var n,i,a,o;return t.prototype.initializeView=function(){t.__super__.initializeView.call(this),this.registerMediator(new n)},t.prototype.initialize=function(){this.createModel(),this.createController(),this.createView(),this.createAPI()},t.prototype.createModel=function(){this.registerProxy(new i(this.config))},t.prototype.createView=function(){},t.prototype.createController=function(){},t.prototype.createAPI=function(){},t.prototype.getAPI=function(){return this.api},t.prototype.onRegister=function(){},t.prototype.passMessage=function(e,t){e.getType()!==this.multitonKey&&this.sendNotification(e.getName(),e.getBody(),t)},t.prototype.addEventListener=function(e,t){this.dispatcher.addEventListener(e,t)},t.prototype.dispatchEvent=function(e){this.dispatcher.dispatchEvent(e)},t.prototype.removeEventListener=function(e,t){return this.dispatcher.removeEventListener(e,t)},t}(puremvc.Facade),r.akamai.amp.player.PlayerFacade=function(e){function t(e,p,h){n=r.akamai.amp.player.controller.StartupCommand,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.model.PlaybackProxy,o=r.akamai.amp.player.model.ConfigurationProxy,s=r.akamai.amp.player.model.ParamsProxy,l=r.akamai.amp.player.model.TokenizationProxy,d=r.akamai.amp.player.model.MediaProxy,u=r.akamai.amp.player.view.PublicAPIMediator,c=r.akamai.amp.player.model.DisplayState,t.__super__.constructor.call(this,""+e+"-"+Date.now(),p,h),this.id=e,this.plugins={},this.features={},this.startup()}__extends(t,e),t.name="PlayerFacade",t.prototype.video=null,t.prototype.container=null,t.prototype.plugins=null,t.prototype.features=null,t.prototype.id=null;var n,i,a,o,s,l,d,u,c;return t.prototype.dispatchEvent=function(e){return"message"!==e.type&&"timeupdate"!==e.type&&"progress"!==e.type&&this.logger.log("[AMP EVENT]: ",e.type,e),t.__super__.dispatchEvent.call(this,e)},t.prototype.createModel=function(){return this.registerProxy(new l),this.registerProxy(new o(this.config))},t.prototype.createView=function(){return this.registerMediator(new u)},t.prototype.createController=function(){return this.registerCommand(i.STARTUP,n)},t.prototype.startup=function(){this.sendNotification(i.STARTUP,this.config)},t.prototype.evaluateBinding=function(e){var t;return null!=(t=this.retrieveProxy(l.NAME))?t.evaluateBinding(e):void 0},t.prototype.canPlayType=function(e){var t;return null!=(t=this.retrieveProxy(a.NAME))?t.canPlayType(e):void 0},t.prototype.load=function(){return this.sendNotification(i.LOAD)},t.prototype.play=function(){return this.sendNotification(i.PLAY)},t.prototype.replay=function(){return this.sendNotification(i.REPLAY)},t.prototype.pause=function(){return this.sendNotification(i.PAUSE)},t.prototype.end=function(){return this.sendNotification(i.END)},t.prototype.setParams=function(e){return this.sendNotification(i.CHANGE_PARAMS,e),e},t.prototype.getParams=function(){return this.retrieveProxy(s.NAME).getData()},t.prototype.setAutoplay=function(e){return this.sendNotification(i.CHANGE_AUTOPLAY,e),e},t.prototype.getAutoplay=function(){return this.retrieveProxy(o.NAME).getAutoplay()},t.prototype.setLoop=function(e){return this.sendNotification(i.CHANGE_LOOP,e),e},t.prototype.getLoop=function(){return this.retrieveProxy(a.NAME).getLoop()},t.prototype.setMuted=function(e){return this.sendNotification(i.CHANGE_MUTED,e)},t.prototype.getMuted=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getMuted():void 0},t.prototype.setMedia=function(e){return this.sendNotification(i.SET_MEDIA,e),e},t.prototype.getMedia=function(){var e;return null!=(e=this.retrieveProxy(d.NAME))?e.getData():void 0},t.prototype.setCurrentTime=function(e){return this.sendNotification(i.SEEK,e),e},t.prototype.getCurrentTime=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getCurrentTime():void 0},t.prototype.getDuration=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getDuration():void 0},t.prototype.setSrc=function(e){return this.sendNotification(i.SET_MEDIA,{src:e}),e},t.prototype.getSrc=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getSrc():void 0},t.prototype.setSource=function(e){return this.sendNotification(i.SET_MEDIA,{source:e}),e},t.prototype.getSource=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getSource():void 0},t.prototype.setVolume=function(e){return this.sendNotification(i.CHANGE_VOLUME,e),e},t.prototype.getVolume=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getVolume():void 0},t.prototype.getSeeking=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getSeeking():void 0},t.prototype.getPaused=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getPaused():void 0},t.prototype.getEnded=function(){var e;return null!=(e=this.retrieveProxy(a.NAME))?e.getEnded():void 0},t.prototype.enterFullScreen=function(){return this.sendNotification(i.CHANGE_DISPLAY_STATE,c.FULL_SCREEN)},t.prototype.exitFullScreen=function(){return this.sendNotification(i.CHANGE_DISPLAY_STATE,c.NORMAL)},t}(r.akamai.amp.modules.ModuleFacade),r.akamai.amp.core.QueryString=function(){function t(){n=r.akamai.amp.core.URLVariables}t.name="QueryString";var n;return t.construct=function(){var n,i,a;a=r.akamai.amp.core.URLVariables.decode(e.location.search);for(n in a)i=a[n],t[n]=i;return!0},t.constructed=t.construct(),t.serialize=function(e,t){var n,i,a,r;a=[];for(i in e)r=e[i],n=t?t+"["+i+"]":i,a.push("object"==typeof r?this.serialize(r,n):encodeURIComponent(n)+"="+encodeURIComponent(r));return a.join("&")},t}(),r.akamai.amp.core.Utils=function(){function e(){t=r.akamai.amp.core.QueryString}e.name="Utils";var t;return e.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC",e.flashTypes=["video/mp4","video/x-flv","video/f4m","application/smil","application/smil+xml"],e.mimeTypes={mp4:"video/mp4",flv:"video/x-flv",f4m:"video/f4m",smil:"application/smil",m3u8:"application/x-mpegURL",mp3:"audio/mpeg",json:"application/json",txt:"text/plain",xml:"application/xml",ogv:"video/ogg",webm:"video/webm"},e.rules={flashTablets:{label:"Android 2 & 3 or Kindle Fire 1",regexp:"Android [23]|Silk/1"},html5Phones:{label:"iPhone",regexp:"iPhone"},html5Tablets:{label:"HTML5 Tablets",regexp:"iPad|Android 4|Silk/2"},desktop:{label:"Desktop",regexp:"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$"}},e.getPlaybackMode=function(e){var t;return null==e&&(e=(null!=(t=r.akamai.amp.core.QueryString.mode)?t.toLowerCase():void 0)||"auto"),this.hasFlash()||(e="html"),"auto"===e&&(e=this.isHTML5()?"html":"flash"),e},e.mergeRules=function(t){var n,i,a;a=[];for(n in t)i=t[n],a.push(e.rules[n]=i);return a},e.checkRules=function(t){var n,i,a,r,o;if(null!=t&&t.length>0)for(r=0,o=t.length;o>r;r++)if(n=t[r],(a=e.rules[n])&&(i=new RegExp(a.regexp),i.test(navigator.userAgent)))return!0;return!1},e.selectSource=function(t,n){var i,a,r,o,s;for(a=0,o=t.length;o>a;a++)if(i=t[a],e.checkRules(i.rules))return i;for(r=0,s=t.length;s>r;r++)if(i=t[r],""!==n(i.type||e.getMimeType(i.src)))return i;return null},e.getMimeType=function(t){return this.mimeTypes[e.getFileExtension(t)]},e.selectTrack=function(e,t){var n,i,a,r;for(a=0,r=e.length;r>a;a++)if(n=e[a],n.kind===t){i=n;break}return i},e.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)},e.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)},e.isAndroid4=function(){return/Android 4/.test(navigator.userAgent)},e.isKindleFireHD=function(){return/Silk\/2/.test(navigator.userAgent)},e.isKindleFire=function(){return/Silk\/1/.test(navigator.userAgent)},e.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)},e.isFirefoxOS=function(){return/\(Mobile;.*Firefox\//.test(navigator.userAgent)},e.isHTML5=function(){return this.isIOS()||this.isAndroid4()||this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()},e.isIOS=function(){var e,t;return e=/iPad|iPhone|iPod/i,t=e.test(navigator.platform)||e.test(navigator.userAgent)},e.hasFlash=function(){return swfobject.hasFlashPlayerVersion("1")},e.isFullscreenDevice=function(){return this.isKindleFireHD()||this.isIPhone()},e.getDevice=function(){var e;return e=null,this.isIPhone()?e="iphone":this.isIPad()?e="ipad":/Android/.test(navigator.userAgent)?e="android":this.isKindleFireHD()?e="kindlefirehd":this.isKindleFire()?e="kindlefire":/Mac|Win32/.test(navigator.platform)&&(e="desktop"),e},e.xmlToJson=function(e){var t,n,i,a,r,o,s,l,d,u,c,p;if(o={},9===e.nodeType&&(e=e.firstChild),1===e.nodeType){if(e.attributes.length>0)for(o["@attributes"]={},c=e.attributes,a=s=0,d=c.length;d>s;a=++s)t=c[a],o["@attributes"][t.nodeName]=t.nodeValue}else(3===e.nodeType||4===e.nodeType)&&(o=e.nodeValue);if(e.hasChildNodes())for(p=e.childNodes,a=l=0,u=p.length;u>l;a=++l)n=p[a],(3!==n.nodeType||/\S/.test(n.nodeValue))&&(r=n.nodeName.replace(/:/,"-"),i=this.xmlToJson(n),null==i["@attributes"]&&null!=i["#text"]&&(i=i["#text"]),null==o[r]?o[r]=i:(o[r]instanceof Array||(o[r]=[o[r]]),o[r].push(i)));return o},e.getXHR=function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}return e},e.get=function(t,n,i,a){var r,o,s,l,d,u;null==n&&(n={}),null==i&&(i=!1),null==a&&(a=[]),l=e.getXHR();try{null!=n.onreadystatechange&&(l.onreadystatechange=n.onreadystatechange),null!=n.onload&&(l.onload=n.onload),null!=n.onerror&&(l.onerror=n.onerror),null!=n.onprogress&&(l.onprogress=n.onprogress)}catch(c){null!=n.onload&&null==n.onreadystatechange&&(l.onreadystatechange=n.onload)}for(l.open("GET",t,i),d=0,u=a.length;u>d;d++){r=a[d];for(o in r)s=r[o],l.setRequestHeader(o,s)}return l.send(),l},e.send=function(t,n,i,a,r){var o,s,l,d,u,c;for(null==i&&(i={}),null==a&&(a=!1),null==r&&(r=[{"Content-Type":"String"}]),d=e.getXHR(),null!=i.onload&&(d.onload=i.onload),null!=i.onerror&&(d.onerror=i.onerror),null!=i.onprogress&&(d.onprogress=i.onprogress),d.open("POST",t,a),u=0,c=r.length;c>u;u++){o=r[u];for(s in o)l=o[s],d.setRequestHeader(s,l)}return d.send(n),d},e.loadAMPScript=function(e,t){return this.loadScript(e,t,this.getAMPParent())},e.getAMPParent=function(){var e,t;return t=this.getAMPScriptTag(),null!=t?t.parentNode:(e=document.getElementsByTagName("head"),null!=(null!=e?e[0]:void 0)?e[0]:void 0)},e.getAMPScriptTag=function(){var e,t,n,i;for(t=document.getElementsByTagName("script"),n=0,i=t.length;i>n;n++)if(e=t[n],/amp(\..*)?\.js/.test(e.src))return e;return null},e.loadScript=function(e,t,n){var i,a;return i=n||document.getElementsByTagName("head")[0],a=document.createElement("script"),a.type="text/javascript",null!=t&&(a.addEventListener?a.onload=function(){this.onload=null,t()}:a.readyState&&(a.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&(this.onreadystatechange=null,t())})),a.src=e,i.appendChild(a)},e.loadStyleSheet=function(e){var t,n;return t=document.getElementsByTagName("head")[0],n=document.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=e,t.appendChild(n)},e.read=function(t,n,i,a){var r,o;null==n&&(n={}),null==i&&(i=""),null==a&&(a=[]);try{return o=this.get(t,n,!1,a),r=o.responseText||o.text,i===e.mimeTypes.json?JSON.parse(r):i===e.mimeTypes.xml&&null!=o.responseXML?o.responseXML:r}catch(s){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error("Read Error: ",s),null}},e.getFileExtension=function(e){return e.split(".").pop().replace(/\?.*/,"")},e.getResponseHeader=function(t,n,i){var a;return null==i&&(i={}),a=e.getXHR(),null!=i.onerror&&(a.onerror=i.onerror),a.open("HEAD",t,!1),a.send(),a.getResponseHeader(n)},e.getResponseHeaders=function(t,n,i){var a,r,o,s,l;if(null==i&&(i={}),o=e.getXHR(),null!=i.onerror&&(o.onerror=i.onerror),o.open("HEAD",t,!1),o.send(),r={},null==n)return o.getAllResponseHeaders();for(s=0,l=n.length;l>s;s++)a=n[s],r[a]=o.getResponseHeader(a);return r},e.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},e.clamp=function(e,t,n){return t>e&&(e=t),e>n&&(e=n),e},e.beacon=function(e){var t;return t=document.getElementById("beaconId"),null==t&&(t=document.createElement("img"),t.setAttribute("id","beaconId"),t.setAttribute("height",0),t.setAttribute("width",0),document.body.appendChild(t),t.style.display="none"),t.setAttribute("src",e)},e.getElementOffset=function(e){var t;if(t={left:0,top:0},e.offsetParent)for(t.left=e.offsetLeft,t.top=e.offsetTop;e=e.offsetParent;)t.left+=e.offsetLeft,t.top+=e.offsetTop;return t},e.override=function(t,n,i){var a,r;if(null==i&&(i=!0),null==t)return n;if(null==n)return t;i===!0&&(t=e.clone(t),n=e.clone(n));for(a in n)r=n[a],"object"==typeof r?(null==t[a]&&(t[a]=r instanceof Array?[]:{}),t[a]=e.override(t[a],r,!1)):t[a]=r;return t},e.clone=function(e){var t,n,i,a,r,o,s,l;if("object"!=typeof e)t=e;else{t=e instanceof Array?[]:{};for(a in e)if(o=e[a],"object"==typeof o)if(o instanceof Array)for(t[a]=[],s=0,l=o.length;l>s;s++)n=o[s],t[a].push(this.clone(n));else{t[a]={};for(i in o)r=o[i],t[a][i]=this.clone(r)}else t[a]=o}return t},e.formatTimecode=function(t,n){var i;return t=parseInt(t),isNaN(t)?"00:00":(i=e.formatZeroFill(t%60),t=parseInt(t/60),i=e.formatZeroFill(t%60)+":"+i,t=parseInt(t/60),t>0&&(i=e.formatZeroFill(t)+":"+i),n>=3600&&5===i.length&&(i="00:"+i),i)},e.formatZeroFill=function(e){var t;return t=e.toString(),10>e&&(t="0"+t),t},e.flattenTimecode=function(e){var t,n,i;if(null==e||""===e)return 0/0;for(t=e.split(":"),4===t.length?t.pop():3===t.length&&t[2].indexOf(".")&&(t[2]=t[2].split(".").shift()),n=t,i=parseInt(t.pop());t.length>0;)i+=Math.pow(60,t.length)*parseInt(t.shift());return i},e.cacheBust=function(e,t,n){var i;return null==t&&(t="cacheBust"),null==n&&(n=Date.now()),i=-1===e.indexOf("?")?"?":"&",e+i+t+"="+n},e.formatStyleName=function(e){return e.replace(/([A-Z])/,"-$1").toLowerCase()},e.trim=function(e){var t;return t=e.replace(/^\s*(.*)/,"$1"),t.replace(/(.*)\s*$/,"$1")},e}(),r.akamai.amp.AMPConfig=function(){function e(){t=r.akamai.amp.core.Utils}e.name="AMPConfig";var t;return e.UNINITIALIZED=0,e.LOADING=1,e.LOADED=2,e.getConfigURL=function(){var e,n,i,a;return e=t.getAMPScriptTag(),i=e.src,a=i.indexOf("?"),a>-1&&a<i.length-1?n=i.substring(a+1):null},e.getModule=function(e,n){var i,a,r,o,s,l,d,u=this;return l=t.get(e),d=l.responseXML,o=d.getElementsByTagName("module"),i=o.length,r=-1,a=function(e){return u.loadModule(e,s)},s=function(){return r++,i>r?a(o[r]):n?n(d):void 0},s(),d},e.parseModule=function(e){var t,n,i,a,r,o,s,l,d;for(s={},a=0,n=e.childNodes,i=n.length,r=0,o=null,t=null,l=0,d=n.length;d>l;l++)o=n[l],1===(null!=o?o.nodeType:void 0)&&(s[o.nodeName]=this.parseItem(o));return s},e.parseItem=function(e){var t,n,i,a,r,o;if(i=(""+e.getAttribute("type")).toLowerCase(),a=e.textContent||e.text||e.innerText,"object"!==i&&"array"!==i&&/#\{.*\}/.test(a))return a;switch(i){case"object":a=this.parseModule(e);break;case"array":for(a=[],n=e.childNodes,r=0,o=n.length;o>r;r++)t=n[r],1===t.nodeType&&a.push(this.parseItem(t));break;case"boolean":a="true"===a.toLowerCase();break;case"number":a=parseFloat(a)}return a},e.loadHead=function(e,n){var i,a,r,o,s,l,d,u,c,p,h;if(r=t.getAMPParent(),l=function(e){var t;t=document.createElement("script"),t.type="text/javascript",t.src=e,t.addEventListener?t.addEventListener("load",u,!1):t.readyState&&(t.onreadystatechange=u),r.appendChild(t)},u=function(){return d++,i>d?l(c[d]):"function"==typeof n?n():void 0},null!=e.links&&e.links.length>0)for(s=e.links,p=0,h=s.length;h>p;p++)o=s[p],a=document.createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=o,r.appendChild(a);null!=e.scripts&&e.scripts.length>0?(c=e.scripts,d=-1,i=c.length,u()):"function"==typeof n&&n()},e.prototype.url=null,e.prototype.data=null,e.prototype.xml=null,e.prototype.readyState=e.UNINITIALIZED,e.prototype.onreadystatechange=null,e.prototype.onload=null,e.prototype.loaded=!1,e.prototype.loadURL=function(n){var i,a,r;(null!=n||(n=e.getConfigURL(),null!=n))&&(this.url=n,this.setReadyState(e.LOADING),r=t.get(n),null!=r.responseXML?(this.xml=r.responseXML,a=7!==this.xml.firstChild.nodeType?this.xml.firstChild:this.xml.childNodes[1],i=e.parseModule(a)):i=JSON.parse(r.responseText||r.text),this.loadModule(i))},e.prototype.loadModule=function(t){var n=this;null!=t.head?e.loadHead(t.head,function(){n.loadData(t.config)}):this.loadData(t.config)},e.prototype.loadData=function(t){this.data=t,this.setReadyState(e.LOADED)},e.prototype.load=function(e){"object"==typeof e?this.loadModule(e):(null==e||"string"==typeof e)&&this.loadURL(e)},e.prototype.setReadyState=function(t){this.readyState=t,"function"==typeof this.onreadystatechange&&this.onreadystatechange({type:"readystatechange",data:t}),t!==e.LOADED||this.loaded||(this.loaded=!0,"function"==typeof this.onload&&this.onload({type:"load",data:this.data}))},e}(),r.akamai.amp.events.EventDispatcher=function(){function e(e){this.target=e||this,this.listeners={}}return e.name="EventDispatcher",e.prototype.listeners=null,e.prototype.target=null,e.prototype.addEventListener=function(e,t){t&&(null==this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t))},e.prototype.dispatchEvent=function(e){var t,n,i,a,r;if(n=this.listeners[e.type],i=this.target["on"+e.type],null!=i&&i.apply(this,[e]),null!=n)for(e.target=this.target,a=0,r=n.length;r>a;a++)t=n[a],t.apply(this.target,[e])},e.prototype.removeEventListener=function(e,t){var n,i;return __indexOf.call(this.listeners,e)>=0&&(n=this.listeners[e],i=n.indexOf(t),-1!==i)?n.splice(i,1):void 0},e}(),r.akamai.amp.plugins.controls.PlayPauseMediator=function(e){function t(e){n=r.akamai.amp.events.EventHandler,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.model.PlayState,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="PlayPauseMediator",t.NAME="PlayPauseMediator";var n,i,a;return t.prototype.onRegister=function(){var e=this;return t.__super__.onRegister.call(this),n.create(this.viewComponent,n.CLICK,function(t){return t.stopImmediatePropagation(),e.sendNotification(i.TOGGLE_PLAY_PAUSE),!1}),this.viewComponent.classList.add("akamai-play-pause-button")},t}(puremvc.Mediator),r.akamai.amp.plugins.controls.FullScreenMediator=function(e){function t(e){n=r.akamai.amp.events.EventHandler,i=r.akamai.amp.player.Notifications,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="FullScreenMediator",t.NAME="FullScreenMediator",t.prototype.clickHandler=null;var n,i;return t.prototype.onRegister=function(){var e=this;return t.__super__.onRegister.call(this),this.clickHandler=n.create(this.viewComponent,n.CLICK,function(t){return t.stopImmediatePropagation(),e.sendNotification(i.TOGGLE_FULL_SCREEN),!1}),this.viewComponent.classList.add("akamai-full-screen-button")},t.prototype.listNotificationInterests=function(){return[i.DISABLE_FULL_SCREEN,i.ENABLE_FULL_SCREEN]},t.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case i.DISABLE_FULL_SCREEN:return this.sendNotification(i.ADD_APPLICATION_STATE,"disable-full-screen"),this.clickHandler.unbind();case i.ENABLE_FULL_SCREEN:return this.sendNotification(i.REMOVE_APPLICATION_STATE,"disable-full-screen"),this.clickHandler.bind()}},t}(puremvc.Mediator),r.akamai.amp.plugins.controls.ControlsProxy=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.ActiveState,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="ControlsProxy",t.prototype.defaults={mode:"auto",autoHide:5},t.prototype.timeout=null;var n,i;return t.prototype.initialize=function(){return t.__super__.initialize.call(this),null!=this.config.mode?this.setMode(this.config.mode):void 0},t.prototype.setMode=function(e){return this.data.mode===e?e:("auto"===this.data.mode&&this.stop(),this.facade.app.sendNotification(n.REMOVE_APPLICATION_STATE,"controls-"+this.data.mode),this.data.mode=e,this.facade.app.sendNotification(n.ADD_APPLICATION_STATE,"controls-"+this.data.mode),e)},t.prototype.getMode=function(){return this.data.mode},t.prototype.setAutoHide=function(e){return this.data.autoHide=e,e},t.prototype.getAutoHide=function(){return this.data.autoHide},t.prototype.start=function(){var e=this;this.stop(),this.timeout=setTimeout(function(){"auto"===e.data.mode&&e.facade.app.sendNotification(n.CHANGE_ACTIVE_STATE,i.INACTIVE)},1e3*this.data.autoHide)},t.prototype.stop=function(){clearTimeout(this.timeout),this.timeout=null},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.plugins.PluginWrapper=function(e){function t(e,o){this.player=e,this.config=o,n=r.akamai.amp.events.EventDispatcher,i=r.akamai.amp.core.utils.XMLUtils,a=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.call(this),this.dispatcher=new n(this)}__extends(t,e),t.name="PluginWrapper",t.NAME="PluginWrapper",t.prototype.player=null,t.prototype.config=null,t.prototype.dispatcher=null,t.prototype.createFlashVars=null,t.prototype.createXML=null;var n,i,a;return t.prototype.addEventListener=function(e,t){this.dispatcher.addEventListener(e,t)},t.prototype.dispatchEvent=function(e){"timeupdate"!==e.type&&"timeremaining"!==e.type&&this.player.logger.log("[AMP "+this.constructor.NAME.replace("Wrapper","").toUpperCase()+" EVENT]: "+e.type,e.data),this.dispatcher.dispatchEvent(e)},t.prototype.removeEventListener=function(e,t){this.dispatcher.removeEventListener(e,t)},t.prototype.createProperty=function(e,t,n,a){var r,o,s;if(r=e.createElement("property"),r.setAttribute("key",t),null!=a&&a.appendChild(r),null!=n)if("object"!=typeof n||n instanceof Array)o=i.createTextContent(e,n.toString()),r.appendChild(o);else for(t in n)s=n[t],this.createProperty(e,t,s,r);return r},t.prototype.listNotificationInterests=function(){return[a.CREATE_FLASH_VARS,a.CREATE_XML]},t.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case a.CREATE_FLASH_VARS:"function"==typeof this.createFlashVars&&this.createFlashVars(t.flashvars);break;case a.CREATE_XML:"function"==typeof this.createXML&&this.createXML(t.xml)}},t}(puremvc.Mediator),r.akamai.amp.plugins.controls.ControlsPlayCommand=function(e){function t(){n=r.akamai.amp.plugins.controls.ControlsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ControlsPlayCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("ControlsPlayCommand"),e=this.facade.retrieveProxy(n.NAME),e.start()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.controls.ControlsPauseCommand=function(e){function t(){n=r.akamai.amp.plugins.controls.ControlsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ControlsPauseCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("ControlsPauseCommand"),e=this.facade.retrieveProxy(n.NAME),e.stop()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.controls.ControlsActiveStateChangeCommand=function(e){function t(){n=r.akamai.amp.plugins.controls.ControlsProxy,i=r.akamai.amp.player.model.ActiveState,a=r.akamai.amp.player.model.PlayState,o=r.akamai.amp.player.model.ApplicationStateProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ControlsActiveStateChangeCommand";var n,i,a,o;return t.prototype.execute=function(e){var t,r,s;this.facade.logger.debug("ControlsActiveStateChangeCommand"),s=this.facade.retrieveProxy(n.NAME),t=this.facade.app.retrieveProxy(o.NAME),r=e.getBody(),r.newState===i.ACTIVE&&t.getPlayState()!==a.READY&&s.start()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.controls.ControlsWrapper=function(e){function t(){n=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ControlsWrapper";var n;return t.NAME="ControlsWrapper",t.prototype.mode="auto",t.prototype.autoHide=5,t.prototype.listNotificationInterests=function(){return[n.CREATE_FLASH_VARS,n.CREATE_XML]},t.prototype.handleNotification=function(e){var t,i,a,r,o,s,l,d,u,c,p,h;switch(l=e.getName(),t=e.getBody(),l){case n.CREATE_FLASH_VARS:s=t.flashvars,i=t.config,null!=(null!=(h=i.controls)?h.mode:void 0)&&(s.controls_mode=i.controls.mode);break;case n.CREATE_XML:for(u=t.xml,d=u.getElementsByTagName("view")[0],o=u.getElementsByTagName("element"),a=null,c=0,p=o.length;p>c;c++)if(r=o[c],"controls"===r.getAttribute("id")){a=r;break}null==a&&(a=u.createElement("element"),a.setAttribute("id","controls"),d.appendChild(a)),null!=a.attributes.autoHideDelay?this.autoHide=a.getAttribute("autoHideDelay"):null!=this.config.autoHide&&(this.autoHide=this.config.autoHide,a.setAttribute("autoHideDelay",this.config.autoHide))}},t.prototype.getMode=function(){return this.mode},t.prototype.setMode=function(e){return this.mode=e,this.player.video.setPlayerProperty("controlsMode",e)},t.prototype.getAutoHide=function(){return this.autoHide},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.controls.ProgressMediator=function(t){function n(e){i=r.akamai.amp.player.Notifications,a=r.akamai.amp.core.Utils,o=r.akamai.amp.events.EventHandler,n.__super__.constructor.call(this,n.NAME,e)}__extends(n,t),n.name="ProgressMediator",n.NAME="ProgressMediator",n.prototype.bufferValue=null,n.prototype.progressValue=null,n.prototype.scrubber=null,n.prototype.scrubTime=null,n.prototype.cuePoints=null,n.prototype.duration=0,n.prototype.scrubbing=!1,n.prototype.value=0,n.prototype.releaseHandler=null,n.prototype.dragHandler=null,n.prototype.pressHandler=null;var i,a,o;return n.prototype.onRegister=function(){var t,i=this;n.__super__.onRegister.call(this),this.viewComponent.classList.add("akamai-progress"),this.bufferValue=document.createElement("div"),this.bufferValue.classList.add("akamai-buffer-value"),this.viewComponent.appendChild(this.bufferValue),this.progressValue=document.createElement("div"),this.progressValue.classList.add("akamai-progress-value"),this.viewComponent.appendChild(this.progressValue),t=document.createElement("div"),t.classList.add("akamai-seek-bar"),this.viewComponent.appendChild(t),o.create(t,o.CLICK,function(e){return e.stopImmediatePropagation(),i.setValue(i.calculateValue(e.clientX)),!1}),this.scrubber=document.createElement("div"),this.scrubber.classList.add("akamai-scrubber"),this.viewComponent.appendChild(this.scrubber),this.pressHandler=o.create(this.scrubber,o.PRESS,function(e){return i.dragHandler.bind(),i.releaseHandler.bind(),i.scrubbing=!0,i.viewComponent.classList.add("akamai-scrubbing"),e.stopImmediatePropagation(),!1}),this.releaseHandler=o.create(e,o.RELEASE,function(e){return e.stopImmediatePropagation(),i.dragHandler.unbind(),i.releaseHandler.unbind(),i.setValue(i.value),i.viewComponent.classList.remove("akamai-scrubbing"),i.scrubbing=!1,!1}),this.releaseHandler.unbind(),this.dragHandler=o.create(e,o.MOVE,function(e){var t;return e.stopImmediatePropagation(),t=e.clientX?e.clientX:e.targetTouches[0].screenX,i.updateValue(i.calculateValue(t)),!1}),this.dragHandler.unbind(),this.scrubTime=document.createElement("div"),this.scrubTime.classList.add("akamai-scrub-time"),this.viewComponent.appendChild(this.scrubTime)},n.prototype.listNotificationInterests=function(){return[i.MEDIA_CHANGE,i.TIME_UPDATE,i.DURATION_CHANGE,i.PROGRESS,i.ADD_CUE_POINTS,i.REMOVE_CUE_POINTS]},n.prototype.handleNotification=function(e){var t,n,r,o,s,l;switch(e.getName()){case i.MEDIA_CHANGE:this.updateValue(0),this.bufferValue.style.width="0%";break;case i.TIME_UPDATE:this.scrubbing||this.updateValue(e.getBody()/this.duration);break;case i.PROGRESS:o=a.clamp(100*(e.getBody()/this.duration),0,100),this.bufferValue.style.width=o+"%";break;case i.DURATION_CHANGE:this.duration=e.getBody();break;case i.ADD_CUE_POINTS:for(this.removeCuePoints(),r=e.getBody(),this.cuePoints=document.createElement("div"),this.cuePoints.className="akamai-cue-points",this.viewComponent.appendChild(this.cuePoints),s=0,l=r.length;l>s;s++)t=r[s],0!==t&&-1!==t&&(n=document.createElement("div"),n.className="akamai-cue-point",n.style.left=100*(t/this.duration)+"%",this.cuePoints.appendChild(n));break;case i.REMOVE_CUE_POINTS:this.removeCuePoints()}},n.prototype.removeCuePoints=function(){null!=this.cuePoints&&(this.cuePoints.innerHTML="",this.viewComponent.removeChild(this.cuePoints),this.cuePoints=null)},n.prototype.setValue=function(e){this.updateValue(e),this.sendNotification(i.SEEK,e*this.duration)},n.prototype.updateValue=function(e){this.value=e,this.scrubbing===!0&&(this.scrubTime.textContent=a.formatTimecode(this.value*this.duration)),this.scrubber.style.marginLeft="-"+Math.round(this.value*this.scrubber.clientWidth-1)+"px",this.progressValue.style.width=this.scrubber.style.left=this.scrubTime.style.left=""+String(100*this.value).substr(0,5)+"%"},n.prototype.calculateValue=function(e){return a.clamp((e-a.getElementOffset(this.viewComponent).left)/this.viewComponent.offsetWidth,0,1)},n}(puremvc.Mediator),r.akamai.amp.plugins.controls.TimeDisplayMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.MediaProxy,a=r.akamai.amp.core.Utils,o=r.akamai.amp.player.model.localization.LocalizationConstants,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="TimeDisplayMediator",t.NAME="TimeDisplayMediator",t.prototype.currentTimeText=null,t.prototype.currentTime=0,t.prototype.separator=null,t.prototype.durationText=null,t.prototype.duration=null;var n,i,a,o;return t.prototype.onRegister=function(){var e;return t.__super__.onRegister.call(this),this.viewComponent.classList.add("akamai-time-display"),e=document.createElement("div"),e.classList.add("akamai-live-display"),e.textContent=this.localizationManager.getString(o.MSG_LIVE),this.viewComponent.appendChild(e),this.currentTimeText=document.createElement("div"),this.currentTimeText.classList.add("akamai-current-time-display"),this.currentTimeText.textContent="00:00",this.viewComponent.appendChild(this.currentTimeText),this.separator=document.createElement("div"),this.separator.classList.add("akamai-separator-display"),this.separator.textContent=" / ",this.viewComponent.appendChild(this.separator),this.durationText=document.createElement("div"),this.durationText.classList.add("akamai-duration-display"),this.durationText.textContent="00:00",this.viewComponent.appendChild(this.durationText)},t.prototype.listNotificationInterests=function(){return[n.TIME_UPDATE,n.DURATION_CHANGE]},t.prototype.handleNotification=function(e){var t;switch(t=this.facade.retrieveProxy(i.NAME),e.getName()){case n.TIME_UPDATE:return this.currentTime=e.getBody(),this.currentTimeText.textContent=a.formatTimecode(this.currentTime,this.duration);case n.DURATION_CHANGE:return this.duration=e.getBody(),this.currentTimeText.textContent=a.formatTimecode(this.currentTime,this.duration),this.durationText.textContent=a.formatTimecode(this.duration)
}},t}(r.akamai.amp.player.view.LocalizedMediator),r.akamai.amp.AMP=function(e){function t(e,u){n=r.akamai.amp.AMPConfig,i=r.akamai.amp.player.PlayerFacade,a=r.akamai.amp.events.EventDispatcher,o=r.akamai.amp.core.Utils,s=r.akamai.amp.core.FlashWrapper,n=r.akamai.amp.AMPConfig,l=r.akamai.amp.core.Logger,d=r.akamai.amp.events.Event,t.__super__.constructor.call(this),l.enable(),this.config=u,this.initialize(e,u)}__extends(t,e),t.name="AMP",t.VERSION="AMP Premier - NDN v0.2.0017",t.config=new r.akamai.amp.AMPConfig,t.loadConfig=function(e){this.config.load(e)},t.getPlaybackMode=function(){return r.akamai.amp.core.Utils.getPlaybackMode()},t.prototype.player=null,t.prototype.config=null,t.prototype.initialized=!1,t.prototype.version=null;var n,i,a,o,s,n,l,d;return t.prototype.initialize=function(e,i){var a,r=this;return"string"==typeof i&&(a=o.get(i),i=JSON.parse(a.responseText)),t.config.readyState!==n.LOADED&&null!=n.getConfigURL()?(t.config.onload=function(){r.startup(e,i)},t.config.readyState===n.UNINITIALIZED&&t.loadConfig(),void 0):(this.startup(e,i),void 0)},t.prototype.createFlashPlayer=function(e,t){return new s(e,t,this)},t.prototype.createHTML5Player=function(e,t){return new i(e,t,this)},t.prototype.error=function(e){this.player.logger.error(e)},t.prototype.startup=function(e,n){var i,a,r,s,u,c,p;if(null==n&&(n={}),null!=t.config.data&&(n=o.override(t.config.data,n)),null!=Object.defineProperty)try{Object.defineProperty(this,"src",{get:this.getSrc,set:this.setSrc,enumerable:!0,configurable:!0}),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime,enumerable:!0,configurable:!0}),Object.defineProperty(this,"duration",{get:this.getDuration,enumerable:!0,configurable:!0}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume,enumerable:!0,configurable:!0}),Object.defineProperty(this,"seeking",{get:this.getSeeking,enumerable:!0,configurable:!0}),Object.defineProperty(this,"paused",{get:this.getPaused,enumerable:!0,configurable:!0}),Object.defineProperty(this,"ended",{get:this.getEnded,enumerable:!0,configurable:!0})}catch(h){}u=this.getVersion(),n.mode=o.getPlaybackMode(n.mode),null==n.version&&(n.version=u),this.version=u,a=document.getElementById(e),null==a.dataset&&(a.dataset={}),a.dataset.version=u,l.log(a.dataset.version),this.player="html"===n.mode?this.createHTML5Player(e,n):this.createFlashPlayer(e,n),this.player.parent=this,c=this.player.plugins;for(r in c)s=c[r],i="function"==typeof s.getAPI?s.getAPI():void 0,this[r]=i||s;p=this.player.features;for(r in p)s=p[r],i="function"==typeof s.getAPI?s.getAPI():void 0,this[r]=i||s;this.initialized=!0,this.dispatchEvent(new d("initialized",this));try{a.amp=this}catch(h){l.error(h)}},t.prototype.addEventListener=function(e,n){var i;"initialized"===e&&this.initialized===!0&&(i=new d("initialized",this),i.target=this.target,n.call(this.target,i)),t.__super__.addEventListener.call(this,e,n)},t.prototype.getVersion=function(){return t.VERSION},t.prototype.evaluateBinding=function(e){return this.player.evaluateBinding(e)},t.prototype.load=function(){this.player.load()},t.prototype.play=function(){this.player.play()},t.prototype.replay=function(){this.player.replay()},t.prototype.pause=function(){this.player.pause()},t.prototype.end=function(){this.player.end()},t.prototype.setParams=function(e){return this.player.setParams(e)},t.prototype.getParams=function(){return this.player.getParams()},t.prototype.setAutoplay=function(e){return this.player.setAutoplay(e)},t.prototype.getAutoplay=function(){return this.player.getAutoplay()},t.prototype.setLoop=function(e){return this.player.setLoop(e)},t.prototype.getLoop=function(){return this.player.getLoop()},t.prototype.setMedia=function(e){return this.player.setMedia(e),e},t.prototype.getMedia=function(){return this.player.getMedia()},t.prototype.setCurrentTime=function(e){return this.player.setCurrentTime(e),e},t.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},t.prototype.getDuration=function(){return this.player.getDuration()},t.prototype.setSrc=function(e){return this.player.setSrc(e),e},t.prototype.getSrc=function(){return this.player.getSrc()},t.prototype.setSource=function(e){return this.player.setSource(e),e},t.prototype.getSource=function(){return this.player.getSource()},t.prototype.setVolume=function(e){return this.player.setVolume(o.clamp(e,0,1)),e},t.prototype.getVolume=function(){return this.player.getVolume()},t.prototype.setMuted=function(e){return this.player.setMuted(e),e},t.prototype.getMuted=function(){return this.player.getMuted()},t.prototype.mute=function(){return this.setMuted(!0)},t.prototype.unmute=function(){return this.setMuted(!1)},t.prototype.getSeeking=function(){return this.player.getSeeking()},t.prototype.getPaused=function(){return this.player.getPaused()},t.prototype.getEnded=function(){return this.player.getEnded()},t.prototype.enterFullScreen=function(){return this.player.enterFullScreen()},t.prototype.exitFullScreen=function(){return this.player.exitFullScreen()},t}(r.akamai.amp.events.EventDispatcher),n.AMP=r.akamai.amp.AMP,r.akamai.amp.plugins.controls.ControlsMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Namespace,a=r.akamai.amp.plugins.controls.PlayPauseMediator,o=r.akamai.amp.plugins.controls.FullScreenMediator,s=r.akamai.amp.plugins.controls.ProgressMediator,l=r.akamai.amp.plugins.controls.TimeDisplayMediator,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="ControlsMediator",t.NAME="ControlsMediator";var n,i,a,o,s,l;return t.prototype.onRegister=function(){var e,n;return t.__super__.onRegister.call(this),this.viewComponent.classList.add(""+i.PREFIX+"controls-layer"),e=document.createElement("div"),this.viewComponent.appendChild(e),this.facade.registerMediator(new a(e)),e=document.createElement("div"),this.viewComponent.appendChild(e),this.facade.registerMediator(new l(e)),n=document.createElement("div"),n.classList.add(""+i.PREFIX+"progress-area"),this.viewComponent.appendChild(n),e=document.createElement("div"),n.appendChild(e),this.facade.registerMediator(new s(e)),e=document.createElement("div"),e.classList.add(""+i.PREFIX+"separator"),this.viewComponent.appendChild(e)},t.prototype.listNotificationInterests=function(){return[n.READY,n.ADD_CONTROL,n.REMOVE_CONTROL]},t.prototype.handleNotification=function(e){var t,i,a,r;switch(a=e.getName(),t=e.getBody(),a){case n.READY:if((null!=(r=t.fullscreen)?r.enabled:void 0)!==!1)return i=document.createElement("div"),this.viewComponent.appendChild(i),this.facade.registerMediator(new o(i));break;case n.ADD_CONTROL:return this.viewComponent.appendChild(t);case n.REMOVE_CONTROL:return this.viewComponent.appendChild(t)}},t}(r.akamai.amp.player.view.LayerMediator),r.akamai.amp.plugins.PluginFacade=function(e){function t(e,i){n=r.akamai.amp.player.Notifications,this.app=e,t.__super__.constructor.call(this,""+e.multitonKey+"/"+this.constructor.NAME,i),this.logger=this.app.logger}__extends(t,e),t.name="PluginFacade",t.NAME="PluginFacade",t.prototype.app=null;var n;return t.prototype.dispatchEvent=function(e){"message"!==e.type&&this.logger.log("[AMP "+this.constructor.NAME.replace("Plugin","").toUpperCase()+" EVENT]: "+e.type,e.data),t.__super__.dispatchEvent.call(this,e)},t.prototype.onRegister=function(){this.sendNotification(n.PLUGIN_REGISTERED,this)},t}(r.akamai.amp.modules.ModuleFacade),r.akamai.amp.plugins.playoverlay.PlayOverlayWrapper=function(e){function t(){n=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="PlayOverlayWrapper";var n;return t.NAME="PlayOverlayWrapper",t.prototype.listNotificationInterests=function(){return[n.CREATE_FLASH_VARS]},t.prototype.handleNotification=function(e){var t,i,a;switch(a=e.getName(),t=e.getBody(),a){case n.CREATE_FLASH_VARS:i=t.flashvars,i.show_play_button_overlay=null!=this.config.enabled?this.config.enabled:!0}},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.playoverlay.PlayOverlayMediator=function(e){function t(e){n=r.akamai.amp.events.EventHandler,i=r.akamai.amp.player.Notifications,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="PlayOverlayMediator",t.NAME="PlayOverlayMediator";var n,i;return t.prototype.onRegister=function(){var e=this;return n.create(this.viewComponent,n.CLICK,function(t){return t.stopImmediatePropagation(),t.preventDefault(),e.sendNotification(i.TOGGLE_PLAY_PAUSE),!1}),this.viewComponent.classList.add("akamai-play-overlay"),t.__super__.onRegister.call(this)},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.plugins.controls.ControlsPlugin=function(e){function t(e,u){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.controls.ControlsMediator,a=r.akamai.amp.plugins.controls.ControlsProxy,o=r.akamai.amp.plugins.controls.ControlsWrapper,s=r.akamai.amp.plugins.controls.ControlsPlayCommand,l=r.akamai.amp.plugins.controls.ControlsPauseCommand,d=r.akamai.amp.plugins.controls.ControlsActiveStateChangeCommand,t.__super__.constructor.call(this,e,u)}__extends(t,e),t.name="ControlsPlugin",t.NAME="ControlsPlugin",t.prototype.key="controls",t.prototype.proxy=null;var n,i,a,o,s,l,d;return t.prototype.createController=function(){return this.registerCommand(n.PLAY,s),this.registerCommand(n.PAUSE,l),this.registerCommand(n.ACTIVE_STATE_CHANGE,d)},t.prototype.createModel=function(){this.proxy=new a(this.config),this.registerProxy(this.proxy)},t.prototype.onRegister=function(){this.registerMediator(new i),t.__super__.onRegister.call(this)},t.prototype.setMode=function(e){return this.proxy.setMode(e),e},t.prototype.getMode=function(){return this.proxy.getMode()},t.prototype.setAutoHide=function(e){return this.proxy.setAutoHide(e),e},t.prototype.getAutoHide=function(){return this.proxy.getAutoHide()},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsWrapper=function(e){function t(){n=r.akamai.amp.core.utils.XMLUtils,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsNotifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsWrapper";var n,i,a;return t.NAME="MediaAnalyticsWrapper",t.prototype.listNotificationInterests=function(){return t.__super__.listNotificationInterests.call(this).concat([i.MEDIA_CHANGE,a.SET_DIMENSIONS])},t.prototype.createFlashVars=function(){},t.prototype.createXML=function(e){var t,i,a,r,o,s,l,d,u,c;if(t=e.getElementsByTagName("application")[0],o=e.getElementsByTagName("metrics")[0],null==o&&(o=e.createElement("metrics"),t.appendChild(o)),d=e.createElement("vendor"),d.setAttribute("id","akamai"),o.appendChild(d),null!=this.config.config&&(a=e.createElement("property"),a.setAttribute("key","MEDIA_ANALYTICS_BEACON"),a.appendChild(n.createTextContent(e,this.config.config)),d.appendChild(a),s=(null!=(u=this.config.plugin)?u.swf:void 0)||"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",a=e.createElement("property"),a.setAttribute("key","MEDIA_ANALYTICS_PLUGIN_PATH"),a.appendChild(n.createTextContent(e,s)),d.appendChild(a)),null!=this.config.dimensions){i=e.createElement("property"),i.setAttribute("key","dimensions"),d.appendChild(i),c=this.config.dimensions;for(r in c)l=c[r],a=e.createElement("property"),a.setAttribute("key",r),a.appendChild(n.createTextContent(e,l)),i.appendChild(a)}return e},t.prototype.handleNotification=function(e){var n,r,o,s,l,d,u;switch(t.__super__.handleNotification.call(this,e),s=e.getName(),n=e.getBody(),s){case i.MEDIA_CHANGE:if(o=n,null!=(null!=(d=o.mediaanalytics)?d.dimensions:void 0)){o.dimensions=[],u=o.mediaanalytics.dimensions;for(r in u)l=u[r],o.dimensions.push({key:r,value:l})}break;case a.SET_DIMENSIONS:this.setDimensions(n)}},t.prototype.setDimensions=function(e){return this.player.video.setPlayerProperty("maDimensions",e),e},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy=function(t){function n(e){i=r.akamai.amp.player.Notifications,a=r.akamai.amp.core.Utils,n.__super__.constructor.call(this,e)}__extends(n,t),n.name="MediaAnalyticsProxy",n.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,n.prototype.defaults={config:null,dimensions:null,plugin:{js:"http://79423.analytics.edgesuite.net/html5/akamaihtml5-min.js"}},n.prototype.percent=0;var i,a;return n.prototype.getPlugin=function(){return this.value.plugin.js},n.prototype.setCore=function(t){try{e.akamaiSetVideoObject(t)}catch(n){this.facade.logger.error("Media Analytics Error: Could not set video tag",n)}return t},n.prototype.setDimensions=function(e){var t,n,i;t=this.data.source.dimensions;for(n in e)i=e[n],null!=i&&(t[n]=i);return this.data.parse(this.data.source),this.applyDimensions(t),e},n.prototype.applyDimensions=function(t){var n,i;if(null!=e.setAkamaiMediaAnalyticsData)try{for(n in t)i=t[n],setAkamaiMediaAnalyticsData(n,i)}catch(a){this.facade.logger.error("Media Analytics Error: Could not set dimensions:",a)}},n.prototype.setMedia=function(e){var t,n;return t=null!=(null!=(n=e.mediaanalytics)?n.dimensions:void 0)?a.override(this.value.dimensions,e.mediaanalytics.dimensions):this.value.dimensions,this.applyDimensions(t),e},n}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsChangeMediaCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsChangeMediaCommand";var n;return t.prototype.execute=function(e){var t,i;return this.facade.logger.debug("MediaAnalyticsChangeMediaCommand"),t=e.getBody(),i=this.facade.retrieveProxy(n.NAME),i.setMedia(t)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakStartCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdBreakStartCommand";var n;return t.prototype.execute=function(){return this.facade.logger.debug("MediaAnalyticsAdBreakStartCommand"),this.facade.app.video.dataset.isad=!0},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakEndCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdBreakEndCommand";var n;return t.prototype.execute=function(){return this.facade.logger.debug("MediaAnalyticsAdBreakEndCommand"),this.facade.app.video.dataset.isad=!1},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdLoadedCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdLoadedCommand";var n;return t.prototype.execute=function(e){var t,n;this.facade.logger.debug("MediaAnalyticsAdLoadedCommand");try{return n=e.getBody(),t={adDuration:n.duration,adPartnerId:n.partner,adTitle:n.title,adId:n.id},"function"==typeof akamaiHandleAdLoaded?akamaiHandleAdLoaded(t):void 0}catch(i){return this.facade.logger.error("Media Analytics Error:",i)}},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdStartCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdStartCommand";var n;return t.prototype.execute=function(){this.facade.logger.debug("MediaAnalyticsAdStartCommand");try{return"function"==typeof akamaiHandleAdStarted?akamaiHandleAdStarted():void 0}catch(e){return this.facade.logger.error("Media Analytics Error:",e)}},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdTimeUpdateCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdTimeUpdateCommand";var n;return t.prototype.execute=function(e){var t,i,a;t=e.getBody(),i=Math.round(100*(t.currentTime/t.duration)),a=this.facade.retrieveProxy(n.NAME);try{i>=25&&a.percent<25?(this.facade.logger.debug("MediaAnalytics: First Quartile"),"function"==typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):i>=50&&a.percent<50?(this.facade.logger.debug("MediaAnalytics: Second Quartile"),"function"==typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):i>=75&&a.percent<75&&(this.facade.logger.debug("MediaAnalytics: Third Quartile"),"function"==typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(r){this.facade.logger.error("Media Analytics Error:",r)}return a.percent=i},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdEndCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsAdEndCommand";var n;return t.prototype.execute=function(){this.facade.logger.debug("MediaAnalyticsAdEndCommand");try{"function"==typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(e){this.facade.logger.error("Media Analytics Error:",e)}return this.facade.app.video.dataset.isad=!0},t}(puremvc.SimpleCommand),r.akamai.amp.player.model.vo.FeedVO=function(){function e(){this.item=[],this.metadata={}}return e.name="FeedVO",e.prototype.title=null,e.prototype.link=null,e.prototype.description=null,e.prototype.category=null,e.prototype.pubDate=null,e.prototype.language=null,e.prototype.ttl=null,e.prototype.item=null,e.prototype.metadata=null,e}(),r.akamai.amp.player.model.vo.MediaVO=function(){function e(){this.metadata={}}return e.name="MediaVO",e.prototype.src=null,e.prototype.source=null,e.prototype.title=null,e.prototype.description=null,e.prototype.link=null,e.prototype.guid=null,e.prototype.pubDate=null,e.prototype.poster=null,e.prototype.thumbnail=null,e.prototype.embed=null,e.prototype.category=null,e.prototype.type=null,e.prototype.medium=null,e.prototype.duration=null,e.prototype.track=null,e.prototype.metadata=null,e}(),r.akamai.amp.plugins.feed.FeedNotifications=function(){function e(){}return e.name="FeedNotifications",e.LOAD_FEED="loadFeed",e.FEED_CHANGED="feedChanged",e.FEED_LOADED="feedLoaded",e}(),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsSetDimensionsCommand=function(e){function t(){n=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="MediaAnalyticsSetDimensionsCommand";var n;return t.prototype.execute=function(e){var t,i;this.facade.logger.debug("MediaAnalyticsChangeMediaCommand"),t=e.getBody(),i=this.facade.retrieveProxy(n.NAME),i.setDimensions(t)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.feed.LoadFeedCommand=function(e){function t(){n=r.akamai.amp.plugins.feed.FeedProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="LoadFeedCommand";var n;return t.prototype.execute=function(e){var t;this.facade.logger.debug("LoadFeedCommand",e.getBody()),t=this.facade.retrieveProxy(n.NAME),t.setURL(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.feed.ChangeFeedCommand=function(e){function t(){n=r.akamai.amp.plugins.feed.FeedProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ChangeFeedCommand";var n;return t.prototype.execute=function(e){var t;this.facade.logger.debug("ChangeFeedCommand",e.getBody()),t=this.facade.retrieveProxy(n.NAME),t.setFeedData(e.getBody())},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.feed.FeedChangedCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="FeedChangedCommand";var n,i;return t.prototype.execute=function(e){var t,a;this.facade.logger.debug("FeedChangedCommand",e.getBody()),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,i.READY),t=e.getBody(),a=t.item[0],this.facade.app.sendNotification(n.SET_MEDIA,a)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.feed.FeedInitializedCommand=function(e){function t(){n=r.akamai.amp.plugins.feed.FeedProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="FeedInitializedCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("FeedInitializedCommand"),e=this.facade.retrieveProxy(n.NAME),e.invoke()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.feed.FeedProxy=function(e){function t(e){n=r.akamai.amp.plugins.feed.FeedNotifications,i=r.akamai.amp.core.Utils,a=r.akamai.amp.player.model.helpers.MRSSHelper,t.__super__.constructor.call(this,e),this.helper=new a}__extends(t,e),t.name="FeedProxy";var n,i,a;return t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy,t.prototype.defaults={url:null,data:null},t.prototype.feed=null,t.prototype.helper=null,t.prototype.setURL=function(e){var t;return this.data.url=e,t=this.helper.getFeed(e),this.sendNotification(n.CHANGE_FEED,t),e},t.prototype.getURL=function(){return this.data.url},t.prototype.setFeedData=function(e){return this.data.data=e,this.feed=this.helper.createFeed(e),this.sendNotification(n.FEED_CHANGED,this.feed),this.facade.dispatchEvent(new Event("loaded",e)),e},t.prototype.getFeedData=function(){return this.data.data},t.prototype.invoke=function(){null!=this.data.url&&""!==this.data.url?this.sendNotification(n.LOAD_FEED,this.data.url):null!=this.data.data&&this.sendNotification(n.CHANGE_FEED,this.data.data)},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.player.model.helpers.MRSSHelper=function(){function e(){t=r.akamai.amp.core.Utils,n=r.akamai.amp.core.Logger,i=r.akamai.amp.player.model.vo.FeedVO,a=r.akamai.amp.player.model.vo.MediaVO}e.name="MRSSHelper";var t,n,i,a;return e.prototype.getFeed=function(e){var n,i;if(i=t.getXHR(),i.open("GET",e,!1),i.send(),200!==i.status)throw new Error("Could not find feed: "+e);return n=null!=i.responseXML&&0!==i.responseXML.childNodes.length?t.xmlToJson(i.responseXML):JSON.parse(i.responseText||i.text)},e.prototype.getMediaNode=function(e,t,n){var i,a,r,o;return null==n&&(n=!0),r="media-"+t,i=e["media-group"]||e,a=i["media-content"],null!=a&&null!=a[r]?o=a[r]:null!=i[r]?o=i[r]:null!=e[r]?o=e[r]:null!=e[t]&&n&&(o=e[t]),o},e.prototype.createEmbed=function(e){var t,i,a,r,o,s;try{if(t=this.getMediaNode(e,"embed"),null==t)return i;for(i={},i.url=t["@attributes"].url,i.width=t["@attributes"].width,i.height=t["@attributes"].height,i.params={},t["media-param"]instanceof Array||(t["media-param"]=[t["media-param"]]),s=t["media-param"],r=0,o=s.length;o>r;r++)a=s[r],i.params[a["@attributes"].name]=a["#text"]}catch(l){n.error(l.message)}return i},e.prototype.createFeed=function(e){var t,a,r,o,s,l,d,u,c;try{if(t=e.channel,a=new i,null!=t){for(a.title=t.title,a.description=t.description,a.language=t.language,a.category=t.category,a.pubDate=new Date(Date.parse(t.pubDate)),a.ttl=t.ttl,o=t.item instanceof Array?t.item:[t.item],u=0,c=o.length;c>u;u++)r=o[u],l=this.createMedia(r),a.item.push(l);for(s in t)d=t[s],s in a||(a.metadata[s]=d)}}catch(p){n.error(p)}return a},e.prototype.createMedia=function(e){var t,i,r,o,s,l,d,u,c,p,h,m,f,g,y,v,_,A,C;try{if(d=new a,l=this.getMediaNode(e,"content"),l instanceof Array)for(d.source=[],m=0,y=l.length;y>m;m++)r=l[m],c={src:r["@attributes"].url,type:r["@attributes"].type},i=r["media-category"],null!=i&&(t=i["@attributes"],"http://mrss.akamai.com/user_agent_hint"===t.schema&&(s=t.label||i["#text"],null!=s&&""!==s&&(null==c.rules&&(c.rules=[]),c.rules.push(s)))),d.source.push(c),d.medium=r["@attributes"].medium,d.duration=parseFloat(r["@attributes"].duration);else d.type=l["@attributes"].type,d.src=l["@attributes"].url,d.medium=l["@attributes"].medium,d.duration=parseFloat(l["@attributes"].duration);if(d.guid=e.guid,d.title=this.getMediaNode(e,"title"),d.link=e.link,d.description=this.getMediaNode(e,"description"),d.pubDate=new Date(Date.parse(e.pubDate)),d.thumbnail=d.poster=null!=(A=this.getMediaNode(e,"thumbnail"))?null!=(C=A["@attributes"])?C.url:void 0:void 0,d.embed=this.createEmbed(e),u=this.getMediaNode(e,"status",!1),null!=u&&(d.status={state:u["@attributes"].state,reason:u["@attributes"].reason}),d.category=e.category,d.category instanceof Array||(d.category=[d.category]),u=this.getMediaNode(e,"category",!1),null!=u)for(f=0,v=u.length;v>f;f++)i=u[f],null!=i["#text"]&&""!==i["#text"]&&d.category.push(i["#text"]);if(null!=d.category&&d.category.sort(function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e>t?1:t>e?-1:0}),u=this.getMediaNode(e,"subTitle"),null!=u)for(null==d.track&&(d.track=[]),u instanceof Array||(u=[u]),g=0,_=u.length;_>g;g++)p=u[g],null!=p["@attributes"]&&d.track.push({src:p["@attributes"].href,type:p["@attributes"].type,kind:"captioning",lang:p["@attributes"].lang||"en"});i=e.category,i instanceof Array||(i=[i]),d.isLive="live"===e.temporalType||null!=i&&-1!==i.join(",").indexOf("live_stream"),d.temporalType=d.isLive?"live":"ondemand";for(o in e)h=e[o],o in d||(d.metadata[o]=h)}catch(b){n.error(b)}return d},e}(),r.akamai.amp.plugins.playoverlay.PlayOverlayPlugin=function(e){function t(e,a){n=r.akamai.amp.plugins.playoverlay.PlayOverlayWrapper,i=r.akamai.amp.plugins.playoverlay.PlayOverlayMediator,t.__super__.constructor.call(this,e,a)}__extends(t,e),t.name="PlayOverlayPlugin",t.NAME="PlayOverlayPlugin";var n,i;return t.prototype.createModel=function(){},t.prototype.onRegister=function(){return this.registerMediator(new i),t.__super__.onRegister.call(this)},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.feed.FeedWrapper=function(e){function t(e,s){null==s&&(s={}),n=r.akamai.amp.core.Utils,i=r.akamai.amp.player.FlashNotifications,a=r.akamai.amp.player.model.helpers.MRSSHelper,o=r.akamai.amp.events.Event,t.__super__.constructor.call(this,e,s),null!=s.url&&(this.url=s.url),null!=s.data&&(this.data=s.data),this.helper=new a,this.player.load=function(){}}__extends(t,e),t.name="FeedWrapper",t.NAME="FeedWrapper",t.prototype.url=null,t.prototype.data=null,t.prototype.helper=null,t.prototype.updateData=!0;var n,i,a,o;return t.prototype.createFlashVars=function(e){null!=this.url&&""!==this.url&&(e.data_feed_url=escape(this.url))},t.prototype.listNotificationInterests=function(){return t.__super__.listNotificationInterests.apply(this,arguments).concat([i.READY,i.FEED_LOADED])},t.prototype.handleNotification=function(e){var n,a,r,s=this;switch(t.__super__.handleNotification.call(this,e),a=e.getName(),n=e.getBody(),a){case i.FEED_LOADED:this.updateData===!1?this.updateData=!0:this.data=JSON.parse(n),r="loaded";break;case i.READY:null!=this.data&&setTimeout(function(){s.setData(s.data)},25)}null!=r&&this.dispatchEvent(new o(r,n))},t.prototype.setURL=function(e){return null!=e&&""!==e&&(this.url=e,this.player.video.playFile(this.url,this.player.getAutoplay())),e},t.prototype.getURL=function(){return this.url},t.prototype.setData=function(e){return this.data=e,this.updateData=!1,this.player.video.playFile(this.data,this.player.getAutoplay()),e},t.prototype.getData=function(){return this.data},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsPlugin=function(t){function n(e,t){i=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsWrapper,a=r.akamai.amp.core.Utils,o=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsProxy,s=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsChangeMediaCommand,l=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakStartCommand,d=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdBreakEndCommand,u=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdLoadedCommand,c=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdStartCommand,p=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdTimeUpdateCommand,h=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsAdEndCommand,m=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsSetDimensionsCommand,f=r.akamai.amp.player.Notifications,g=r.akamai.amp.plugins.ads.AdNotifications,y=r.akamai.amp.plugins.mediaanalytics.MediaAnalyticsNotifications,n.__super__.constructor.call(this,e,t)}__extends(n,t),n.name="MediaAnalyticsPlugin",n.NAME="MediaAnalyticsPlugin",n.prototype.key="mediaanalytics";var i,a,o,s,l,d,u,c,p,h,m,f,g,y;return n.prototype.createModel=function(){this.registerProxy(new o(this.config))},n.prototype.createController=function(){this.registerCommand(f.MEDIA_CHANGE,s),this.registerCommand(g.BREAK_START,l),this.registerCommand(g.BREAK_END,d),this.registerCommand(g.AD_LOADED,u),this.registerCommand(g.AD_STARTED,c),this.registerCommand(g.AD_TIME_UPDATE,p),this.registerCommand(g.AD_ENDED,h),this.registerCommand(y.SET_DIMENSIONS,m)},n.prototype.onRegister=function(){var t,n=this;e.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=this.config.config,t=this.retrieveProxy(o.NAME),null!=t.getPlugin()?a.loadAMPScript(t.getPlugin(),function(){n.register()}):this.register()},n.prototype.register=function(){var e;e=this.retrieveProxy(o.NAME),e.setCore(this.app.video),this.sendNotification(f.PLUGIN_REGISTERED,this)},n.prototype.setDimensions=function(e){return this.retrieveProxy(o.NAME).setDimensions(e),e},n}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.info.InfoWrapper=function(e){function t(e,o){null==o&&(o={}),n=r.akamai.amp.events.Event,i=r.akamai.amp.player.FlashNotifications,a=r.akamai.amp.core.utils.XMLUtils,t.__super__.constructor.call(this,e,o),this.player.features.share=this}__extends(t,e),t.name="InfoWrapper",t.NAME="InfoWrapper";var n,i,a;return t.prototype.listNotificationInterests=function(){return[i.CREATE_FLASH_VARS,i.CREATE_XML,i.SHARE,i.SHARE_REQUEST]},t.prototype.handleNotification=function(e){var t,r,o,s,l,d,u,c,p,h,m,f,g,y,v,_;switch(c=e.getName(),r=e.getBody(),c){case i.CREATE_FLASH_VARS:d=r.flashvars;break;case i.CREATE_XML:for(y=r.xml,t=y.getElementsByTagName("application")[0],g=y.getElementsByTagName("view")[0],l=y.getElementsByTagName("element"),v=0,_=l.length;_>v;v++)if(s=l[v],"infoOverlayAdvanced"===s.getAttribute("id")){u=s;break}if(null==g)return;null==u&&(u=y.createElement("element"),u.setAttribute("id","infoOverlayAdvanced"),u.setAttribute("displayStates","preplay,paused,ns,fs,mouseover"),g.insertBefore(u,g.childNodes[0])),o=y.createElement("data"),u.appendChild(o),null!=this.config.title&&(p=y.createElement("property"),p.setAttribute("key","title"),m=a.createTextContent(y,this.config.title),p.appendChild(m),o.appendChild(p)),null!=this.config.description&&(p=y.createElement("property"),p.setAttribute("key","description"),m=a.createTextContent(y,this.config.description),p.appendChild(m),o.appendChild(p)),null!=this.config.more&&(p=y.createElement("property"),p.setAttribute("key","more"),m=a.createTextContent(y,this.config.more),p.appendChild(m),o.appendChild(p)),null!=this.config.less&&(p=y.createElement("property"),p.setAttribute("key","less"),m=a.createTextContent(y,this.config.less),p.appendChild(m),o.appendChild(p)),h=y.createElement("property"),h.setAttribute("key","provider"),o.appendChild(h),null!=this.config.provider.name&&(p=y.createElement("property"),p.setAttribute("key","name"),m=a.createTextContent(y,this.config.provider.name),p.appendChild(m),h.appendChild(p)),null!=this.config.provider.image&&(p=y.createElement("property"),p.setAttribute("key","image"),m=a.createTextContent(y,this.config.provider.image),p.appendChild(m),h.appendChild(p));break;case i.SHARE:case i.SHARE_REQUEST:f="share"}return null!=f?this.dispatchEvent(new n(f,r)):void 0},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.PluginMediator=function(e){function t(e,a){n=r.akamai.amp.modules.ModuleConfigurationProxy,i=r.akamai.amp.player.model.MediaProxy,t.__super__.constructor.call(this,e,a)}__extends(t,e),t.name="PluginMediator",t.NAME="PluginMediator";var n,i;return t.prototype.initializeNotifier=function(e){t.__super__.initializeNotifier.call(this,e),this.plugin=this.facade.retrieveProxy(n.NAME),this.media=this.facade.app.retrieveProxy(i.NAME)},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.plugins.info.InfoProxy=function(e){function t(e){t.__super__.constructor.call(this,e)
}return __extends(t,e),t.name="InfoProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={title:"#{media.title}",description:"#{media.description}",provider:{},more:"read more",less:"less"},t}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.plugins.info.InfoMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.EventHandler,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="InfoMediator",t.NAME="InfoMediator",t.prototype.more=null,t.prototype.less=null,t.prototype.close=null,t.prototype.title=null,t.prototype.shortDescription=null,t.prototype.icon=null,t.prototype.provider=null;var n,i;return t.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-info"),this.title=document.createElement("div"),this.title.classList.add("akamai-info-title"),this.viewComponent.appendChild(this.title),this.provider=document.createElement("div"),this.provider.classList.add("akamai-info-provider"),this.viewComponent.appendChild(this.provider),this.shortDescription=document.createElement("div"),this.shortDescription.classList.add("akamai-info-short-description"),this.viewComponent.appendChild(this.shortDescription),this.icon=document.createElement("img"),this.icon.classList.add("akamai-info-icon"),this.viewComponent.appendChild(this.icon),this.dataChangedHandler(),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[n.MEDIA_CHANGE]},t.prototype.handleNotification=function(e){var t,i;switch(i=e.getName(),t=e.getBody(),i){case n.MEDIA_CHANGE:this.dataChangedHandler()}},t.prototype.moreClicked=function(){return this.viewComponent.classList.add("akamai-open")},t.prototype.closeClicked=function(){return this.viewComponent.classList.remove("akamai-open")},t.prototype.dataChangedHandler=function(){var e,t;return null!=this.plugin.value.title&&(this.title.textContent=this.plugin.value.title),null!=(null!=(t=this.plugin.value.provider)?t.image:void 0)&&(this.icon.src=this.plugin.value.provider.image),e=getComputedStyle(this.title),this.title.clientHeight>parseInt(e.lineHeight)?(this.viewComponent.classList.add("akamai-info-small"),this.shortDescription.innerHTML=this.provider.innerHTML="",void 0):(this.viewComponent.classList.remove("akamai-info-small"),this.truncateDescription(this.plugin.value.description,this.plugin.value.more),this.provider.textContent=null!=this.plugin.value.provider.name?""+this.plugin.value.provider.name:"",void 0)},t.prototype.truncateDescription=function(e){var t,n,i,a,r,o,s;if(n="...",a="",r=this.shortDescription,r.textContent="",null!=e)for(i=o=0,s=e.length;s>o;i=++o){if(t=e[i],r.textContent=a+t+n,r.scrollHeight>r.clientHeight){r.textContent=a+n;break}a+=t}},t}(r.akamai.amp.plugins.PluginMediator),r.akamai.amp.plugins.feed.FeedPlugin=function(e){function t(e,c){n=r.akamai.amp.plugins.feed.FeedWrapper,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.plugins.feed.FeedProxy,o=r.akamai.amp.plugins.feed.FeedNotifications,s=r.akamai.amp.plugins.feed.LoadFeedCommand,l=r.akamai.amp.plugins.feed.ChangeFeedCommand,d=r.akamai.amp.plugins.feed.FeedChangedCommand,u=r.akamai.amp.plugins.feed.FeedInitializedCommand,t.__super__.constructor.call(this,e,c)}__extends(t,e),t.name="FeedPlugin",t.NAME="FeedPlugin",t.prototype.feedProxy=null;var n,i,a,o,s,l,d,u;return t.prototype.createModel=function(){this.feedProxy=new a(this.config),this.registerProxy(this.feedProxy)},t.prototype.createController=function(){t.__super__.createController.call(this),this.registerCommand(i.READY,u),this.registerCommand(o.LOAD_FEED,s),this.registerCommand(o.CHANGE_FEED,l),this.registerCommand(o.FEED_CHANGED,d)},t.prototype.setType=function(e){return this.feedProxy.setType(e)},t.prototype.getType=function(){return this.feedProxy.getType()},t.prototype.setURL=function(e){return this.app.config.feed.url=e,this.sendNotification(o.LOAD_FEED,e),e},t.prototype.getURL=function(){return this.feedProxy.getURL()},t.prototype.setData=function(e){return this.sendNotification(o.CHANGE_FEED,e),e},t.prototype.getData=function(){return this.feedProxy.getFeedData()},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.captioning.CaptioningNotifications=function(){function e(){}return e.name="CaptioningNotifications",e.ADD_CAPTION="addCaption",e.REMOVE_CAPTION="removeCaption",e.VISIBILITY_CHANGE="captioningvisibilitychange",e.ENABLED="captioningEnabled",e}(),r.akamai.amp.plugins.captioning.CaptioningProviders=function(){function e(){}return e.name="CaptioningProviders",e.SUBPLY="subply",e.SMPTETT="smptett",e}(),r.akamai.amp.plugins.captioning.SubplyProxy=function(e){function t(e){n=r.akamai.amp.plugins.captioning.CaptioningNotifications,i=r.akamai.amp.core.Utils;var a,o=this;this.activeCaptions=[],this.captions=[],this.head=document.getElementsByTagName("head")[0],null==(a=r.akamai.amp.plugins).subply&&(a.subply={}),r.akamai.amp.plugins.subply.response=function(e){o.parse(e),o.poll()},t.__super__.constructor.call(this,this.constructor.NAME,e)}__extends(t,e),t.name="SubplyProxy",t.NAME="SubplyProxy",t.prototype.data={base:"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_",interval:1e3},t.prototype.caption=null,t.prototype.head=null,t.prototype.script=null,t.prototype.timeout=null;var n,i;return t.prototype.getURL=function(){return this.data.url},t.prototype.setURL=function(e){return this.data.url=e,e},t.prototype.start=function(){this.send()},t.prototype.poll=function(){var e,t=this;e=setTimeout(function(){t.send()},this.data.interval||1e3)},t.prototype.send=function(){null!=this.script&&this.head.removeChild(this.script),this.script=document.createElement("script"),this.script.src=this.data.base+this.data.url+".js?nocache="+Date.now(),this.head.appendChild(this.script)},t.prototype.stop=function(){clearTimeout(timeout)},t.prototype.setCurrentTime=function(){},t.prototype.parse=function(e){var t,a,r,o,s;if(e.Stream===this.data.url&&!(null!=this.caption&&this.caption.ticks>=e.Ticks)){for(t={},t.element=document.createElement("p"),t.element.className="akamai-caption",s=e.Text.split("\n"),r=0,o=s.length;o>r;r++)a=s[r],""!==t.element.innerHTML&&(t.element.innerHTML+="<br />"),t.element.innerHTML+="<span>"+a+"</span>";return t.begin=i.flattenTimecode(e.From),t.end=i.flattenTimecode(e.To),t.ticks=e.Ticks,this.sendNotification(n.REMOVE_CAPTION,this.caption),this.caption=t,this.sendNotification(n.ADD_CAPTION,this.caption),this.caption}},t}(puremvc.Proxy),r.akamai.amp.plugins.captioning.CaptioningStartedCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.captioning.CaptioningProxy,a=r.akamai.amp.plugins.captioning.CaptioningNotifications,o=r.akamai.amp.plugins.captioning.CaptioningProviders,s=r.akamai.amp.core.Utils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CaptioningStartedCommand";var n,i,a,o,s;return t.prototype.execute=function(e){var t,n;return this.facade.logger.debug("CaptioningStartedCommand"),t=e.getBody(),n=this.facade.retrieveProxy(i.NAME),n.start()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.captioning.CaptioningTimeUpdateCommand=function(e){function t(){n=r.akamai.amp.plugins.captioning.CaptioningProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CaptioningTimeUpdateCommand";var n;return t.prototype.execute=function(e){var t,i;return i=e.getBody(),t=this.facade.retrieveProxy(n.NAME),t.setCurrentTime(Math.round(i))},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.captioning.CaptioningChangeMediaCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.captioning.CaptioningProxy,a=r.akamai.amp.plugins.captioning.CaptioningNotifications,o=r.akamai.amp.plugins.captioning.CaptioningProviders,s=r.akamai.amp.core.Utils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CaptioningChangeMediaCommand";var n,i,a,o,s;return t.prototype.execute=function(e){var t,n,r,l;return this.facade.logger.debug("CaptioningChangeMediaCommand"),t=e.getBody(),r=this.facade.retrieveProxy(i.NAME),null!=t.track&&(l=s.selectTrack(t.track,"captioning"),null!=l&&(n="live-subply"===l.type?o.SUBPLY:o.SMPTETT,r.setProvider(n),null!=l.src&&""!==l.src&&r.setURL(l.src))),this.sendNotification(a.ENABLED,null!=r.getURL()||r.getEmbedded()===!0)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.captioning.CaptioningVisibilityChangeCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.captioning.CaptioningProxy,a=r.akamai.amp.events.Event,o=r.akamai.amp.core.Utils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CaptioningVisibilityChangeCommand";var n,i,a,o;return t.prototype.execute=function(e){var t;return this.facade.logger.debug("CaptioningVisibilityChangeCommand"),t=this.facade.retrieveProxy(i.NAME),t.setHidden(e.getBody()),this.facade.dispatchEvent(new a("visibilitychange",this.hidden))},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.captioning.SMPTETTProxy=function(e){function t(e){n=r.akamai.amp.plugins.captioning.CaptioningNotifications,i=r.akamai.amp.core.Utils,this.activeCaptions=[],this.captions=[],t.__super__.constructor.call(this,e)}__extends(t,e),t.name="SMPTETTProxy",t.NAME="SMPTETTProxy",t.prototype.data={url:null},t.prototype.activeCaptions=null,t.prototype.captions=null,t.prototype.styles=null,t.prototype.currentTime=0,t.prototype.subply=null;var n,i;return t.prototype.getURL=function(){return this.data.url},t.prototype.setURL=function(e){var t;return this.data.url=e,null!=this.data.url&&(t=i.read(this.data.url,null,i.mimeTypes.xml))?this.parse(t):void 0},t.prototype.getCurrentTime=function(){return this.currentTime},t.prototype.setCurrentTime=function(e){var t,i,a,r,o,s;if(e!==this.currentTime){for(this.currentTime=e,i=0;i<this.activeCaptions.length;)t=this.activeCaptions[i],t.end<=e?(this.sendNotification(n.REMOVE_CAPTION,t),this.activeCaptions.splice(i,1)):++i;for(o=this.captions,s=[],a=0,r=o.length;r>a;a++)t=o[a],t.begin!==e||__indexOf.call(this.activeCaptions,t)>=0||(this.sendNotification(n.ADD_CAPTION,t),s.push(this.activeCaptions.push(t)));return s}},t.prototype.start=function(){},t.prototype.parse=function(e){var t,n,a,r,o=this;return this.styles={},r=Array.prototype.slice.call(e.querySelectorAll("styling style")),r.forEach(function(e){var t,n,a;return a="",n=e.getAttribute("id")||e.getAttribute("xml:id"),t=Array.prototype.slice.call(e.attributes),t.forEach(function(e){return"tts"===e.prefix?a+=i.formatStyleName(e.localName)+":"+e.nodeValue+";":void 0}),o.styles[n]=a}),a=Array.prototype.slice.call(e.querySelectorAll("body [style]")),a.forEach(function(e){var t;return t=e.getAttribute("style"),e.setAttribute("style",o.styles[t])}),t=Array.prototype.slice.call(e.querySelectorAll("body p[begin]")),n=null,t.forEach(function(e){var t,a;return a=document.adoptNode(e),t={},t.element=a,t.begin=i.flattenTimecode(a.getAttribute("begin")),a.removeAttribute("begin"),null!=n&&(n.end=t.begin,n=null),a.hasAttribute("end")?(t.end=i.flattenTimecode(a.getAttribute("end")),a.removeAttribute("end")):n=t,o.captions.push(t)})},t}(puremvc.Proxy),r.akamai.amp.plugins.captioning.CaptioningWrapper=function(e){function t(){n=r.akamai.amp.events.Event,i=r.akamai.amp.core.Utils,a=r.akamai.amp.player.FlashNotifications,o=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="CaptioningWrapper";var n,i,a,o;return t.NAME="CaptioningWrapper",t.prototype.hidden=!0,t.prototype.embedded=!1,t.prototype.listNotificationInterests=function(){return[a.CREATE_FLASH_VARS,o.MEDIA_CHANGE,a.CAPTIONING_REQUEST]},t.prototype.handleNotification=function(e){var t,r,s,l,d,u,c;switch(d=e.getName(),t=e.getBody(),d){case a.CAPTIONING_REQUEST:return this.setHidden(!this.getHidden()),this.dispatchEvent(new n("visibilitychange",t.enabled));case a.CREATE_FLASH_VARS:if(s=t.flashvars,r=t.config,null!=(null!=(c=r.media)?c.track:void 0))return u=i.selectTrack(r.media.track,"captioning"),null!=u.src&&""!==u.src&&(s.caption_url=u.src),s.caption_type=encodeURIComponent(u.type)||"application/ttml+xml";break;case o.MEDIA_CHANGE:if(l=t,null!=l.track)return u=i.selectTrack(l.track,"captioning"),null!=(null!=u?u.src:void 0)&&""!==u.src&&(l.captioningUrl=u.src),l.captioningType=u.type||"application/ttml+xml"}},t.prototype.getHidden=function(){return this.hidden},t.prototype.setHidden=function(e){return this.hidden=e},t.prototype.getEmbedded=function(){return this.embedded},t.prototype.setEmbedded=function(e){return this.embedded=e},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.captioning.CaptioningProxy=function(e){function t(e){n=r.akamai.amp.plugins.captioning.CaptioningProviders,i=r.akamai.amp.plugins.captioning.CaptioningNotifications,a=r.akamai.amp.plugins.captioning.SubplyProxy,o=r.akamai.amp.plugins.captioning.SMPTETTProxy,this.activeCaptions=[],this.captions=[],this.providers={},t.__super__.constructor.call(this,e)}__extends(t,e),t.name="CaptioningProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={url:null,embedded:!1},t.prototype.core=null,t.prototype.activeCaptions=null,t.prototype.captions=null,t.prototype.hidden=!0,t.prototype.provider=null,t.prototype.providers=null;var n,i,a,o;return t.prototype.onRegister=function(){return this.providers[n.SMPTETT]=new o,this.facade.registerProxy(this.providers[n.SMPTETT]),this.providers[n.SUBPLY]=new a,this.facade.registerProxy(this.providers[n.SUBPLY])},t.prototype.getProvider=function(){return this.provider},t.prototype.setProvider=function(e){return this.provider=this.providers[e]},t.prototype.getURL=function(){return this.data.url},t.prototype.setURL=function(e){var t;return this.data.url=e,null!=(t=this.provider)?t.setURL(e):void 0},t.prototype.getEmbedded=function(){return this.data.embedded},t.prototype.setEmbedded=function(e){return this.data.embedded=e},t.prototype.getHidden=function(){return this.hidden},t.prototype.setHidden=function(e){return this.hidden=e},t.prototype.setCurrentTime=function(e){var t;return null!=(t=this.provider)?t.setCurrentTime(e):void 0},t.prototype.start=function(){var e;return null!=(e=this.provider)?e.start():void 0},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.plugins.captioning.CaptioningMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.Event,a=r.akamai.amp.events.EventHandler,o=r.akamai.amp.plugins.captioning.CaptioningNotifications,s=r.akamai.amp.player.model.localization.LocalizationConstants,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="CaptioningMediator",t.NAME="CaptioningMediator",t.prototype.captionText=null,t.prototype.captionButton=null,t.prototype.caption=null;var n,i,a,o,s;return t.prototype.onRegister=function(){var e=this;return this.viewComponent.classList.add("akamai-captioning"),this.viewComponent.classList.add("akamai-hidden"),this.captionText=document.createElement("div"),this.captionText.classList.add("akamai-caption-text"),this.viewComponent.appendChild(this.captionText),this.captionButton=document.createElement("div"),this.captionButton.classList.add("akamai-caption-button"),this.captionButton.textContent=this.localizationManager.getString(s.MSG_CC),a.create(this.captionButton,a.CLICK,function(t){return t.stopImmediatePropagation(),e.sendNotification(o.VISIBILITY_CHANGE,!e.plugin.getHidden()),!1}),this.sendNotification(n.ADD_CONTROL,this.captionButton),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[o.ADD_CAPTION,o.REMOVE_CAPTION,o.VISIBILITY_CHANGE,o.ENABLED]},t.prototype.handleNotification=function(e){var t,i,a;switch(i=e.getName(),t=e.getBody(),i){case o.ADD_CAPTION:if(null!=t)return this.captionText.appendChild(t.element);break;case o.REMOVE_CAPTION:if(null!=t&&this.captionText.contains(t.element))return this.captionText.removeChild(t.element);break;case o.VISIBILITY_CHANGE:return this.plugin.getHidden()?(this.viewComponent.classList.add("akamai-hidden"),this.captionButton.classList.remove("akamai-cc-active")):(this.plugin.getEmbedded()||this.viewComponent.classList.remove("akamai-hidden"),this.captionButton.classList.add("akamai-cc-active"));case o.ENABLED:return a=t?n.ADD_APPLICATION_STATE:n.REMOVE_APPLICATION_STATE,this.sendNotification(a,"cc-enabled")}},t}(r.akamai.amp.plugins.PluginMediator),r.akamai.amp.plugins.info.InfoPlugin=function(e){function t(e,s){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.info.InfoWrapper,a=r.akamai.amp.plugins.info.InfoMediator,o=r.akamai.amp.plugins.info.InfoProxy,t.__super__.constructor.call(this,e,s),this.app.features.info=this}__extends(t,e),t.name="InfoPlugin",t.NAME="InfoPlugin",t.prototype.key="info";var n,i,a,o;return t.prototype.createModel=function(){return this.registerProxy(new o(this.config))},t.prototype.onRegister=function(){return this.registerMediator(new a),t.__super__.onRegister.call(this)},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.share.ShareWrapper=function(e){function t(e,a){null==a&&(a={}),n=r.akamai.amp.events.Event,i=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.call(this,e,a),this.player.features.share=this}__extends(t,e),t.name="ShareWrapper";var n,i;return t.NAME="ShareWrapper",t.prototype.createFlashVars=function(e){return e.share_mode=2,e},t.prototype.createXML=function(e){var t,n,i,a,r,o,s,l,d,u,c;for(t=e.getElementsByTagName("application")[0],d=e.getElementsByTagName("view")[0],a=e.getElementsByTagName("element"),u=0,c=a.length;c>u;u++)switch(i=a[u],o=i.getAttribute("id")){case"controls":n=i;break;case"shareBtn":s=i;break;case"facebookBtn":r=i;break;case"twitterBtn":l=i}return null!=n?(null==s&&(s=e.createElement("element"),s.setAttribute("id","shareBtn"),n.appendChild(s)),null==r&&this.config.facebook===!0&&(r=e.createElement("element"),r.setAttribute("id","facebookBtn"),n.appendChild(r)),null==l&&this.config.twitter===!0&&(l=e.createElement("element"),l.setAttribute("id","twitterBtn"),n.appendChild(l)),e):void 0},t.prototype.listNotificationInterests=function(){return[i.SHARE,i.SHARE_REQUEST]},t.prototype.handleNotification=function(e){var t,a,r;switch(a=e.getName(),t=e.getBody(),a){case i.SHARE:case i.SHARE_REQUEST:r="share"}null!=r&&this.dispatchEvent(new n(r,t))},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.share.ShareMediator=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.events.EventHandler,a=r.akamai.amp.events.Event,o=r.akamai.amp.player.model.PlayState,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="ShareMediator",t.NAME="ShareMediator",t.prototype.shareControl=null,t.prototype.shareButton=null,t.prototype.facebook=null,t.prototype.twitter=null,t.prototype.shareSeparator=null,t.prototype.embed=null;var n,i,a,o;return t.prototype.onRegister=function(){var e=this;return this.sendNotification(n.ADD_APPLICATION_STATE,"share"),this.shareControl=document.createElement("div"),this.shareControl.classList.add("akamai-share-control"),this.shareSeparator=document.createElement("div"),this.shareSeparator.classList.add("akamai-share-separator"),this.shareControl.appendChild(this.shareSeparator),this.shareButton=document.createElement("div"),this.shareButton.classList.add("akamai-share-button"),i.create(this.shareButton,i.CLICK,function(t){return t.stopImmediatePropagation(),e.clickHandler("share"),!1}),this.shareControl.appendChild(this.shareButton),this.plugin.getFacebook()===!0&&(this.facebook=document.createElement("div"),this.facebook.classList.add("akamai-share-facebook-button"),i.create(this.facebook,i.CLICK,function(t){return t.stopImmediatePropagation(),e.clickHandler("facebook"),!1}),this.shareControl.appendChild(this.facebook)),this.plugin.getTwitter()===!0&&(this.twitter=document.createElement("div"),this.twitter.classList.add("akamai-share-twitter-button"),i.create(this.twitter,i.CLICK,function(t){return t.stopImmediatePropagation(),e.clickHandler("twitter"),!1}),this.shareControl.appendChild(this.twitter)),this.sendNotification(n.ADD_CONTROL,this.shareControl),t.__super__.onRegister.call(this)},t.prototype.clickHandler=function(e){return this.facade.dispatchEvent(new a("share",{provider:e,link:this.plugin.getLink(),embed:this.plugin.getEmbed()}))},t.prototype.listNotificationInterests=function(){return[n.MEDIA_CHANGE]},t.prototype.handleNotification=function(e){var t,i,a;switch(a=e.getName(),t=e.getBody(),a){case n.MEDIA_CHANGE:return i=t,null!=i.embed?this.sendNotification(n.ADD_APPLICATION_STATE,"share"):this.sendNotification(n.REMOVE_APPLICATION_STATE,"share")}},t}(r.akamai.amp.plugins.PluginMediator),r.akamai.amp.plugins.share.ShareProxy=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t.name="ShareProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={embed:null,link:null,facebook:!1,twitter:!1},t.prototype.getEmbed=function(){return this.data.embed},t.prototype.setEmbed=function(e){return this.data.embed=e},t.prototype.getFacebook=function(){return this.data.facebook},t.prototype.setFacebook=function(e){return this.data.facebook=e},t.prototype.getTwitter=function(){return this.data.twitter},t.prototype.setTwitter=function(e){return this.data.twitter=e},t.prototype.getLink=function(){return this.data.link},t.prototype.setLink=function(e){return this.data.link=e},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.plugins.share.ShareMediaChangeCommand=function(e){function t(){n=r.akamai.amp.plugins.share.ShareProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ShareMediaChangeCommand";var n;return t.prototype.execute=function(e){var t,i;return this.facade.logger.debug("ShareMediaChangeCommand"),t=e.getBody(),i=this.facade.retrieveProxy(n.NAME),i.setEmbed(t.embed),i.setLink(t.link)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.captioning.CaptioningPlugin=function(e){function t(e,p){n=r.akamai.amp.plugins.captioning.CaptioningWrapper,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.plugins.captioning.CaptioningMediator,o=r.akamai.amp.plugins.captioning.CaptioningProxy,s=r.akamai.amp.plugins.captioning.CaptioningStartedCommand,l=r.akamai.amp.plugins.captioning.CaptioningTimeUpdateCommand,d=r.akamai.amp.plugins.captioning.CaptioningChangeMediaCommand,u=r.akamai.amp.plugins.captioning.CaptioningVisibilityChangeCommand,c=r.akamai.amp.plugins.captioning.CaptioningNotifications,t.__super__.constructor.call(this,e,p),this.app.features.captioning=this}__extends(t,e),t.name="CaptioningPlugin",t.NAME="CaptioningPlugin",t.prototype.captioningProxy=null;var n,i,a,o,s,l,d,u,c;return t.prototype.createController=function(){return this.registerCommand(i.CHANGE_MEDIA,d),this.registerCommand(i.STARTED,s),this.registerCommand(i.TIME_UPDATE,l),this.registerCommand(c.VISIBILITY_CHANGE,u)},t.prototype.createModel=function(){return this.captioningProxy=new o(this.config),this.registerProxy(this.captioningProxy)},t.prototype.onRegister=function(){return this.registerMediator(new a),t.__super__.onRegister.call(this)},t.prototype.getHidden=function(){return this.captioningProxy.getHidden()},t.prototype.setHidden=function(e){return this.sendNotification(c.VISIBILITY_CHANGE,e)},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.comscore.ComscoreProxy=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="ComscoreProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={url:"http://b.scorecardresearch.com/b",events:{ads:null,video:null},data:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:null,c8:null,c9:null,c10:null,c14:null}};var n,i;return t.prototype.adStart=function(){var e;this.facade.logger.log("ComscoreProxy -> adStart"),e=this.constructURL("ads","started"),i.beacon(e)},t.prototype.videoStart=function(){var e;this.facade.logger.log("ComscoreProxy -> videoStart"),e=this.constructURL("video","started"),i.beacon(e)},t.prototype.constructURL=function(e,t){var n,i,a,r,o,s,l,d,u,c,p,h,m;if(n={},a=null!=(p=this.value.events)?p[e]:void 0,null!=a)for(u=0,c=a.length;c>u;u++)r=a[u],r.type===t&&(i=r);h=this.value.data;for(o in h)d=h[o],n[o]=(null!=i?null!=(m=i.data)?m[o]:void 0:void 0)||d;null==n.c7&&(n.c7=document.location.href.substr(0,512)),null==n.c8&&(n.c8=document.referrer.substr(0,512)),null==n.c9&&(n.c9=document.title),null==n.cv&&(n.cv="2.0"),n.rn=Date.now(),l=this.value.url,s=[];for(o in n)d=n[o],null!=d&&""!==d&&s.push(o+"="+escape(d));return s.length>0&&(l+="?"+s.join("&")),l.substr(0,2080)},t}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.plugins.comscore.ComscoreWrapper=function(e){function t(){n=r.akamai.amp.core.utils.XMLUtils,i=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ComscoreWrapper";var n,i;return t.NAME="ComscoreWrapper",t.prototype.listNotificationInterests=function(){return[i.CREATE_XML]},t.prototype.handleNotification=function(e){var t,a,r,o,s,l,d,u,c,p,h,m,f,g,y,v,_,A,C,b,E,P;switch(u=e.getName(),a=e.getBody(),u){case i.CREATE_XML:y=a.xml,t=y.getElementsByTagName("application")[0],d=y.getElementsByTagName("metrics")[0],null==d&&(d=y.createElement("metrics"),t.appendChild(d)),g=y.createElement("vendor"),g.setAttribute("id","comscore"),d.appendChild(g),l={ads:{started:"adStart",ended:"adComplete"},video:{started:"videoStart",ended:"videoComplete"}},h=[{value:"c1",key:"COMSCORE_CSC1"},{value:"c2",key:"COMSCORE_CSC2"},{value:"c3",key:"COMSCORE_CSC3"},{value:"c4",key:"COMSCORE_CSC4"},{value:"c5",key:"COMSCORE_CSC5"},{value:"c6",key:"COMSCORE_CSC6"},{value:"c7",key:"COMSCORE_CSC7"},{value:"c8",key:"COMSCORE_CSC8"},{value:"c9",key:"COMSCORE_CSC9"},{value:"c10",key:"COMSCORE_CSC10"},{value:"c11",key:"COMSCORE_CSC14"}],b=this.config.events;for(f in b)if(s=b[f],null!=s&&s.length>0)for(v=0,A=s.length;A>v;v++)for(o=s[v],c=y.createElement("property"),c.setAttribute("key",l[f][o.type]),g.appendChild(c),r=y.createElement("property"),r.setAttribute("key","COMSCORE_CSURL"),m=n.createTextContent(y,this.config.url),r.appendChild(m),c.appendChild(r),_=0,C=h.length;C>_;_++)p=h[_],m=(null!=(E=o.data)?E[p.value]:void 0)||(null!=(P=this.config.data)?P[p.value]:void 0),null!=m&&""!==m&&(r=y.createElement("property"),r.setAttribute("key",p.key),m=n.createTextContent(y,m),r.appendChild(m),c.appendChild(r))}},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.comscore.ComscoreAdStartCommand=function(e){function t(){n=r.akamai.amp.plugins.comscore.ComscoreProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ComscoreAdStartCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("ComscoreAdStartCommand"),e=this.facade.retrieveProxy(n.NAME),e.adStart()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.comscore.ComscoreMetadataCommand=function(e){function t(){n=r.akamai.amp.plugins.comscore.ComscoreProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ComscoreMetadataCommand";var n;return t.prototype.execute=function(e){var t,i;return i=e.getBody(),t=this.facade.retrieveProxy(n.NAME),t.setTitle(i.title)},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.comscore.ComscoreEndCommand=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.name="ComscoreEndCommand",t.prototype.execute=function(){},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.comscore.ComscoreStartCommand=function(e){function t(){n=r.akamai.amp.plugins.comscore.ComscoreProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="ComscoreStartCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("ComscoreStartCommand"),e=this.facade.retrieveProxy(n.NAME),e.videoStart()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.share.SharePlugin=function(e){function t(e,l){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.share.ShareWrapper,a=r.akamai.amp.plugins.share.ShareMediator,o=r.akamai.amp.plugins.share.ShareProxy,s=r.akamai.amp.plugins.share.ShareMediaChangeCommand,t.__super__.constructor.call(this,e,l),this.app.features.share=this}__extends(t,e),t.name="SharePlugin",t.NAME="SharePlugin";var n,i,a,o,s;return t.prototype.createModel=function(){return this.registerProxy(new o(this.config))},t.prototype.createController=function(){return this.registerCommand(n.MEDIA_CHANGE,s)},t.prototype.onRegister=function(){return this.registerMediator(new a),t.__super__.onRegister.call(this)},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.features.FeatureNotifications=function(){function e(){}return e.name="FeatureNotifications",e.REGISTER_FEATURE="registerfeature",e}(),r.akamai.amp.features.Feature=function(e){function t(e,i,a){this.feature=null!=a?a:this.feature,n=r.akamai.amp.features.FeatureNotifications,t.__super__.constructor.call(this,e,i)}__extends(t,e),t.name="Feature";var n;return t.NAME="Feature",t.prototype.feature=null,t.prototype.getFeature=function(){return this.feature},t.prototype.registerFeature=function(){var e;null==(e=this.app).features&&(e.features={}),this.app.features[this.getFeature()]=this,null!=this.getFeature()&&this.sendNotification(n.REGISTER_FEATURE,this)},t.prototype.onRegister=function(){this.registerFeature(),t.__super__.onRegister.call(this)},t}(r.akamai.amp.plugins.Plugin),r.akamai.amp.plugins.comscore.ComscorePlugin=function(e){function t(e,c){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.ads.AdNotifications,a=r.akamai.amp.plugins.comscore.ComscoreWrapper,o=r.akamai.amp.plugins.comscore.ComscoreStartCommand,s=r.akamai.amp.plugins.comscore.ComscoreAdStartCommand,l=r.akamai.amp.plugins.comscore.ComscoreMetadataCommand,d=r.akamai.amp.plugins.comscore.ComscoreEndCommand,u=r.akamai.amp.plugins.comscore.ComscoreProxy,t.__super__.constructor.call(this,e,c)}__extends(t,e),t.name="ComscorePlugin",t.NAME="ComscorePlugin",t.prototype.key="comscore";var n,i,a,o,s,l,d,u;return t.prototype.createController=function(){this.registerCommand(n.STARTED,o),this.registerCommand(i.AD_STARTED,s)},t.prototype.createModel=function(){this.registerProxy(new u(this.config))},t}(r.akamai.amp.plugins.PluginFacade),r.akamai.amp.plugins.ads.AdMediator=function(e){function t(e){n=r.akamai.amp.core.Utils,i=r.akamai.amp.plugins.ads.AdNotifications,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="AdMediator",t.prototype.duration=null,t.prototype.currentTime=null,t.prototype.container=null,t.prototype.banner=null,t.prototype.text=null,t.prototype.bg=null,t.NAME="AdMediator";var n,i;return t.prototype.onRegister=function(){this.viewComponent.classList.add("akamai-ads"),this.container=document.createElement("div"),this.container.classList.add("akamai-ad-container"),this.viewComponent.container=this.container,this.viewComponent.appendChild(this.container),this.banner=document.createElement("div"),this.banner.classList.add("akamai-ad-banner"),this.viewComponent.appendChild(this.banner),this.bg=document.createElement("div"),this.bg.classList.add("akamai-ad-text-bg"),this.banner.appendChild(this.bg),this.text=document.createElement("div"),this.text.classList.add("akamai-ad-text"),this.banner.appendChild(this.text),t.__super__.onRegister.call(this),this.sendNotification(i.AD_CONTAINER_CREATED,this.viewComponent),this.facade.container=this.viewComponent},t.prototype.listNotificationInterests=function(){return[i.BREAK_END,i.AD_TIME_REMAINING]},t.prototype.handleNotification=function(e){var t,a;switch(e.getName()){case i.BREAK_END:this.text.textContent="";break;case i.AD_TIME_REMAINING:a=e.getBody(),t=a>0?"Video will resume in "+n.formatTimecode(a):"",this.text.textContent=t}},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.plugins.ads.AdCommand=function(e){function t(){n=r.akamai.amp.modules.ModuleConfigurationProxy,t.__super__.constructor.call(this)}__extends(t,e),t.name="AdCommand";var n;return t.prototype.ads=null,t.prototype.initializeNotifier=function(e){t.__super__.initializeNotifier.call(this,e),this.ads=this.facade.retrieveProxy(n.NAME)
},t}(puremvc.SimpleCommand),r.akamai.amp.core.APIBinding=function(){function e(e){var n;null==e&&(e=this),t=r.akamai.amp.events.EventDispatcher,n=new t(this),this.addEventListener=n.addEventListener.bind(n),this.removeEventListener=n.removeEventListener.bind(n),this.dispatchEvent=n.dispatchEvent.bind(n)}e.name="APIBinding";var t;return e}(),r.akamai.amp.plugins.ads.AdPublisher=function(e){function t(e){n=r.akamai.amp.plugins.ads.AdNotifications,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="AdPublisher";var n;return t.NAME="AdPublisher",t.prototype.prefix="ad",t.prototype.events=r.akamai.amp.plugins.ads.AdNotifications,t}(r.akamai.amp.plugins.PluginPublisher),r.akamai.amp.plugins.ads.AdMediaChangeCommand=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.name="AdMediaChangeCommand",t.prototype.execute=function(e){var t;this.facade.logger.debug("AdMediaChangeCommand"),t=e.getBody(),this.ads.setLoadedMetadata(!1),this.ads.engage(t)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdBreakStartCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdBreakStartCommand";var n;return t.prototype.execute=function(){return this.facade.logger.debug("AdBreakStartCommand"),this.facade.app.sendNotification(n.ADD_APPLICATION_STATE,"ad-mode"),this.facade.app.sendNotification(n.DISABLE_FULL_SCREEN),this.ads.breakStart()},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdBreakEndCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdBreakEndCommand";var n;return t.prototype.execute=function(){this.facade.logger.debug("AdBreakEndCommand"),this.ads.breakEnd(),this.facade.app.sendNotification(n.REMOVE_APPLICATION_STATE,"ad-mode"),this.facade.app.sendNotification(n.ENABLE_FULL_SCREEN)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdLoadedMetadataCommand=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.name="AdLoadedMetadataCommand",t.prototype.execute=function(){this.facade.logger.debug("AdLoadedMetadataCommand"),this.ads.setLoadedMetadata(!0)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdsAPI=function(e){function t(e){var a,o;null==e&&(e=this),n=r.akamai.amp.plugins.ads.AdProxy,i=r.akamai.amp.plugins.ads.AdNotifications,t.__super__.constructor.call(this,e),o=e.retrieveProxy(n.NAME),this.setEnabled=o.setEnabled.bind(o),this.getEnabled=o.getEnabled.bind(o),this.getInProgress=o.getInProgress.bind(o),this.getStarted=o.getStarted.bind(o),this.getPaused=o.getPaused.bind(o),this.getCompanions=o.getCompanions.bind(o),a=this.dispatchEvent,this.dispatchEvent=function(t){"timeremaining"!==t.type&&"timeupdate"!==t.type&&e.logger.log("[AMP AD EVENT]: "+t.type,t.data),a(t)}}__extends(t,e),t.name="AdsAPI";var n,i;return t}(r.akamai.amp.core.APIBinding),r.akamai.amp.plugins.ads.AdContentEndedCommand=function(e){function t(){t.__super__.constructor.call(this)}return __extends(t,e),t.name="AdContentEndedCommand",t.prototype.execute=function(){this.facade.logger.debug("AdContentEndedCommand"),this.ads.contentEnded()},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdStartCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.ads.AdProxy,a=r.akamai.amp.player.model.PlaybackProxy,o=r.akamai.amp.player.controller.PlayRequestCommand,s=r.akamai.amp.player.model.PlayState,t.__super__.constructor.call(this)}__extends(t,e),t.name="AdStartCommand";var n,i,a,o,s;return t.prototype.ads=null,t.prototype.initializeNotifier=function(e){t.__super__.initializeNotifier.call(this,e),this.ads=this.facade.retrieveProxy(i.NAME)},t.prototype.initializeMacroCommand=function(){this.addSubCommand(o)},t.prototype.execute=function(e){var i;t.__super__.execute.call(this,e),this.facade.logger.debug("AdStartCommand"),i=this.facade.app.retrieveProxy(a.NAME),i.initialized===!1&&(this.facade.app.sendNotification(n.INITIALIZED),this.facade.app.video.load()),this.ads.start(),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,s.PLAYING)},t}(puremvc.MacroCommand),r.akamai.amp.plugins.ads.AdPlayCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdPlayCommand";var n,i;return t.prototype.execute=function(){return this.facade.logger.debug("AdPlayCommand"),this.ads.getStarted()===!1?(this.sendNotification(n.START,!0),void 0):(this.ads.play(),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,i.PLAYING),void 0)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdPauseCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.player.model.PlayState,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdPauseCommand";var n,i;return t.prototype.execute=function(){this.facade.logger.debug("AdPauseCommand"),this.ads.pause(),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,i.PAUSED)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdTogglePlayPauseCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdTogglePlayPauseCommand";var n;return t.prototype.execute=function(){var e;this.facade.logger.debug("AdTogglePlayPauseCommand"),e=this.ads.getPaused()||this.ads.getStarted()===!1?n.PLAY:n.PAUSE,this.sendNotification(e,!0)},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.ads.AdContentStartedCommand=function(e){function t(){t.__super__.constructor.call(this)}return __extends(t,e),t.name="AdContentStartedCommand",t.prototype.execute=function(){this.facade.logger.debug("AdContentStartedCommand"),this.ads.contentStarted()},t}(r.akamai.amp.plugins.ads.AdCommand),r.akamai.amp.plugins.PluginProxy=function(e){function t(e){n=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="PluginProxy";var n;return t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.enabled=!0,t.prototype.loaded=!1,t.prototype.plugin=null,t.prototype.load=function(e){var t,i=this;t=this.getScript(),null!=t?n.loadAMPScript(t,function(){i.loaded=!0,"function"==typeof e&&e(!0)}):(this.loaded=!1,"function"==typeof e&&e(!1))},t.prototype.getLoaded=function(){return this.loaded},t.prototype.getScript=function(){var e,t;return null!=(e=this.getData())?null!=(t=e.value.plugin)?t.js:void 0:void 0},t.prototype.setEnabled=function(e){return this.enabled=e,e},t.prototype.getEnabled=function(){return this.enabled},t.prototype.createPlugin=function(){},t.prototype.initialize=function(){this.plugin=this.createPlugin()},t.prototype.error=function(e,t,n){null==t&&(t=" "),null==n&&(n=("function"==typeof e.getMessage?e.getMessage():void 0)||e.message),this.facade.logger.error(""+this.facade.constructor.NAME.replace("Plugin","")+" "+t+"Error: ",e)},t}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.plugins.ads.AdProxy=function(e){function t(e){n=r.akamai.amp.plugins.ads.AdNotifications,i=r.akamai.amp.plugins.ads.AdContentStartedCommand,a=r.akamai.amp.plugins.ads.AdContentEndedCommand,o=r.akamai.amp.plugins.ads.AdStartCommand,s=r.akamai.amp.plugins.ads.AdPlayCommand,l=r.akamai.amp.plugins.ads.AdPauseCommand,d=r.akamai.amp.plugins.ads.AdTogglePlayPauseCommand,u=r.akamai.amp.player.Notifications,c=r.akamai.amp.player.view.PublicAPIMediator,p=r.akamai.amp.player.controller.EndedCommand,h=r.akamai.amp.player.controller.StartCommand,m=r.akamai.amp.player.controller.PlayCommand,f=r.akamai.amp.player.controller.PauseCommand,g=r.akamai.amp.player.controller.TogglePlayPauseCommand,y=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="AdProxy";var n,i,a,o,s,l,d,u,c,p,h,m,f,g,y;return t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.inprogress=!1,t.prototype.paused=!1,t.prototype.started=!1,t.prototype.companions=null,t.prototype.loadedMetadata=!1,t.prototype.setLoadedMetadata=function(e){return this.loadedMetadata=e,e},t.prototype.getLoadedMetadata=function(){return this.loadedmetadata},t.prototype.setCompanions=function(e){return this.companions=e,this.sendNotification(n.AD_COMPANION,this.companions),e},t.prototype.getCompanions=function(){return this.companions},t.prototype.getInProgress=function(){return this.inprogress},t.prototype.setInProgress=function(e){return this.inprogress=e},t.prototype.getStarted=function(){return this.started},t.prototype.setStarted=function(e){return this.started=e,e},t.prototype.getPaused=function(){return this.paused},t.prototype.setPaused=function(e){return this.paused=e,e},t.prototype.play=function(){this.setPaused(!1),this.sendNotification(n.AD_PLAY)},t.prototype.pause=function(){this.setPaused(!0),this.sendNotification(n.AD_PAUSE)},t.prototype.breakStart=function(){},t.prototype.breakEnd=function(){this.setInProgress(!1),this.reset()},t.prototype.error=function(e){var t;t=("function"==typeof e.getMessage?e.getMessage():void 0)||e.message,this.facade.logger.error("Ad Error: "+t+" Skipping ad content.",e),this.sendNotification(n.AD_ERROR,e),this.sendNotification(n.BREAK_END)},t.prototype.engage=function(){var e;this.getEnabled()!==!1&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.app.sendNotification(u.REMOVE_APPLICATION_STATE,"ad-mode")),this.facade.app.removeCommand(u.START),this.facade.app.removeCommand(u.PLAY),this.facade.app.removeCommand(u.PAUSE),this.facade.app.removeCommand(u.ENDED),this.facade.app.removeCommand(u.TOGGLE_PLAY_PAUSE),e=this.facade.app.retrieveMediator(c.NAME),e.ended.unbind(),e.eventHandler.unbind(),this.facade.removeCommand(u.STARTED),this.facade.removeCommand(u.ENDED),this.facade.registerCommand(u.START,o),this.facade.registerCommand(u.PLAY,s),this.facade.registerCommand(u.PAUSE,l),this.facade.registerCommand(u.TOGGLE_PLAY_PAUSE,d))},t.prototype.reset=function(){var e;this.facade.removeCommand(u.START),this.facade.removeCommand(u.PLAY),this.facade.removeCommand(u.PAUSE),this.facade.removeCommand(u.TOGGLE_PLAY_PAUSE),e=this.facade.app.retrieveMediator(c.NAME),e.ended.bind(),e.eventHandler.bind(),this.facade.app.registerCommand(u.START,h),this.facade.app.registerCommand(u.PLAY,m),this.facade.app.registerCommand(u.PAUSE,f),this.facade.app.registerCommand(u.ENDED,p),this.facade.app.registerCommand(u.TOGGLE_PLAY_PAUSE,g),this.facade.registerCommand(u.STARTED,i),this.facade.registerCommand(u.ENDED,a)},t.prototype.start=function(){return this.getEnabled()===!1?(this.sendNotification(n.BREAK_END),!1):(this.setStarted(!0),!0)},t.prototype.contentPlay=function(){this.facade.app.sendNotification(u.PLAY,!0)},t.prototype.contentPause=function(){this.facade.app.video.pause()},t.prototype.contentStarted=function(){},t.prototype.contentEnded=function(){},t}(r.akamai.amp.plugins.PluginProxy),r.akamai.amp.plugins.ads.AdVO=function(){function e(e,t,n,i,a,r,o){this.id=e,this.title=t,this.duration=n,this.position=i,this.type=a,this.partner=r,this.metadata=o}return e.name="AdVO",e.prototype.id=null,e.prototype.title=null,e.prototype.duration=0/0,e.prototype.position=0/0,e.prototype.type=null,e.prototype.partner=null,e.prototype.metadata=null,e}(),r.akamai.amp.plugins.ads.AdWrapper=function(e){function t(e,o){n=r.akamai.amp.events.Event,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.call(this,e,o),this.player.features.ads=this}__extends(t,e),t.name="AdWrapper",t.NAME="AdWrapper";var n,i,a;return t.prototype.enabled=!0,t.prototype.paused=!1,t.prototype.companions=null,t.prototype.started=!1,t.prototype.getInProgress=function(){return this.player.video.getPlayerProperty("adInProgress")},t.prototype.getStarted=function(){return this.started},t.prototype.getPaused=function(){return this.paused},t.prototype.getCompanions=function(){return this.companions},t.prototype.setEnabled=function(e){return this.enabled=e,this.player.video.setPlayerProperty("adsEnabled",e),e},t.prototype.getEnabled=function(){return this.enabled},t.prototype.enable=function(){this.setEnabled(!0)},t.prototype.disable=function(){this.setEnabled(!1)},t.prototype.createFlashVars=function(e){return e.core_ads_enabled=!0,e},t.prototype.listNotificationInterests=function(){return t.__super__.listNotificationInterests.call(this).concat([a.AD_LOADED,a.AD_PLAYBACK_BEGIN,a.AD_PLAYBACK_PROGRESS,a.AD_PLAYBACK_FAILED,a.AD_PLAYBACK_TERMINATED,a.AD_COMPLETE,a.AD_MEDIA_LOADED,a.AD_CLICKED,a.AD_COMPANION,a.AD_PAUSED,a.AD_RESUMED])},t.prototype.handleNotification=function(e){var r,o,s,l;switch(t.__super__.handleNotification.call(this,e),o=e.getName(),r=e.getBody(),s=this,o){case a.AD_LOADED:case a.AD_MEDIA_LOADED:l="loaded",this.start=!1;break;case a.AD_PLAYBACK_BEGIN:l="started",this.started=!0,this.sendNotification(i.ADD_APPLICATION_STATE,"ad-mode");break;case a.AD_PLAYBACK_PROGRESS:case a.AD_TIME_ELAPSED:l="timeupdate";break;case a.AD_PLAYBACK_FAILED:l="error",this.start=!1,this.sendNotification(i.REMOVE_APPLICATION_STATE,"ad-mode");break;case a.AD_PLAYBACK_TERMINATED:case a.AD_COMPLETE:l="ended",this.sendNotification(i.REMOVE_APPLICATION_STATE,"ad-mode");break;case a.AD_CLICKED:l="clicked";break;case a.AD_COMPANION:l="companion",this.companions=r;break;case a.AD_PAUSED:l="pause",s=this.player,this.paused=!0,this.player.setPlayState("paused");break;case a.AD_RESUMED:l="playing",s=this.player,this.paused=!0,this.player.setPlayState("playing"),s.dispatchEvent(new n("play",r))}null!=l&&s.dispatchEvent(new n(l,r))},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.auditude.AuditudeProxy=function(e){function t(e){n=r.akamai.amp.events.Event,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.plugins.ads.AdNotifications,o=r.akamai.amp.plugins.ads.AdVO,s=r.akamai.amp.player.model.PlayState,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="AuditudeProxy";var n,i,a,o,s;return t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={plugin:null,videoId:null,defaultId:null,domain:null,zoneId:null,companion:null,userData:null,params:null},t.prototype.session=null,t.prototype.options=null,t.prototype.initialize=function(){var e=this;this.options={controls:!1,auditudeHandlesChapterBreaks:!1,style:{backgroundColor:"#000",width:this.facade.app.video.clientWidth,height:this.facade.app.video.clientHeight},handlers:{play:function(){e.facade.logger.debug("ad play")},timeupdate:function(t,n,i){e.facade.sendNotification(a.AD_TIME_REMAINING,i.duration-i.currentTime)},error:function(t){e.facade.logger.debug("ad error:",t),e.error()},pause:function(){e.facade.logger.debug("ad pause")},loadedmetadata:function(){e.facade.logger.debug("ad loadedmetadata")},end:function(){e.facade.logger.debug("ad end")}}};try{this.plugin=this.createPlugin(),this.plugin.subscribe(aud.events.init_complete,function(t,n){e.facade.logger.debug("init_complete:",t,n);try{e.plugin.publish(aud.notifications.break_begin)}catch(i){e.error(i)}}),this.plugin.subscribe(aud.events.init_failed,function(t){e.error(t)}),this.plugin.subscribe(aud.events.break_begin,function(t,n){e.facade.logger.debug("break_begin:",t,n),e.sendNotification(a.BREAK_START)}),this.plugin.subscribe(aud.events.pause_playback,function(t,n){e.facade.logger.debug("pause_playback: "+t+", "+n),e.contentPause(t,n)}),this.plugin.subscribe(aud.events.resume_playback,function(t,n){e.facade.logger.debug("resume_playback: ",t,n),e.contentPlay(t,n)}),this.plugin.subscribe(aud.events.linear_ad_begin,function(t,n,r){var l,d,u,c;e.facade.logger.debug("linear ad begin:",t,n,r),c=n._xmlDoc.querySelector("ad[id]"),null!=c&&(d=c.getAttribute("id")),c=n._xmlDoc.querySelector("inLine[adTitle]"),null!=c&&(u=c.getAttribute("adTitle")),l=new o(d,u,r.asset.duration,1,"preroll","auditude",r),e.sendNotification(a.AD_LOADED,l),e.sendNotification(a.AD_DURATION_CHANGE,l.duration),e.facade.app.sendNotification(i.CHANGE_PLAY_STATE,s.PLAYING),e.sendNotification(a.AD_PLAY),e.setInProgress(!0),e.setCompanions(r.banners),e.session=r.session,e.sendNotification(a.AD_STARTED)}),this.plugin.subscribe(aud.events.linear_ad_end,function(t,n,i){e.facade.logger.debug("linear ad end:",t,n,i),e.sendNotification(a.AD_ENDED)}),this.plugin.subscribe(aud.events.break_end,function(t,n){e.facade.logger.debug("break_end:",t,n),e.sendNotification(a.BREAK_END)}),this.plugin.subscribe(aud.events.non_linear_ad_begin,function(t,n,i){e.facade.logger.debug("non linear ad begin"),e.setCompanions(i.banners)}),this.plugin.subscribe(aud.events.non_linear_ad_end,function(){e.facade.logger.debug("non linear ad end")})}catch(t){this.error(t)}},t.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.container.container,null,this.value.domain,this.value.zoneId,this.options)},t.prototype.start=function(){var e,n,i,a,r,o,s;if(t.__super__.start.call(this)===!1)return!1;try{if(a=this.value.params||{},r="",null!=this.value.userData){s=this.value.userData;for(i in s)o=s[i],r+=""+i+"="+o+";"}null!=a.userData&&(r+=a.userData),""!==r&&(a.userData=r),n=this.value.videoId+"",null!=this.value.defaultId&&(e=this.value.defaultId+"",n=null!=n?[n,e]:e),this.facade.logger.log("Auditude init: ",n,a),this.plugin.init(n,a)}catch(l){this.error(l)}},t.prototype.play=function(){t.__super__.play.call(this),this.session.notifyResume()},t.prototype.pause=function(){t.__super__.pause.call(this),this.session.notifyPause()},t.prototype.breakStart=function(){},t.prototype.setCompanions=function(e){var n,i,a,r,o,s,l,d;if(!(null==e||e.length<1)){for(a=[],o=0,l=e.length;l>o;o++)n=e[o],a.push({data:n.data,type:n.resourceType,width:parseInt(n.width),height:parseInt(n.height),metadata:n});if(t.__super__.setCompanions.call(this,a),null!=this.value.companion&&(i=this.value.companion,r=document.getElementById(i.id),null!=r))for(s=0,d=e.length;d>s;s++)if(n=e[s],i.width===parseInt(n.width)&&i.height===parseInt(n.height)){r.innerHTML=n.data;break}}},t.prototype.contentStarted=function(){this.plugin.publish(aud.notifications.video_playback_started)},t.prototype.contentEnded=function(){this.plugin.publish(aud.notifications.video_playback_complete)},t}(r.akamai.amp.plugins.ads.AdProxy),r.akamai.amp.plugins.auditude.AuditudeFullscreenProxy=function(e){function t(e){n=r.akamai.amp.events.EventHandler,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="AuditudeFullscreenProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME;var n;return t.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.app.video,null,this.value.domain,this.value.zoneId,this.options)},t.prototype.play=function(){t.__super__.play.call(this),this.facade.app.video.play()},t.prototype.pause=function(){t.__super__.pause.call(this),this.facade.app.video.pause()},t.prototype.contentPause=function(){this.facade.app.video.pause()},t}(r.akamai.amp.plugins.auditude.AuditudeProxy),r.akamai.amp.plugins.auditude.AuditudeWrapper=function(e){function t(){n=r.akamai.amp.core.utils.XMLUtils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AuditudeWrapper";var n;return t.NAME="AuditudeWrapper",t.prototype.createFlashVars=function(e){return null!=this.config.companion&&(e.ad_partner_companion_size=""+this.config.companion.width+"x"+this.config.companion.height),e},t.prototype.createXML=function(e){var t,n,i,a,r,o,s,l,d,u,c,p,h;for(n=e.getElementsByTagName("application")[0],t=e.getElementsByTagName("admedia")[0],null==t&&(t=e.createElement("admedia"),n.appendChild(t)),l=e.createElement("vendor"),l.setAttribute("id","auditude"),t.appendChild(l),s=[{value:this.config.domain,key:"AUDITUDE_DOMAIN"},{value:this.config.videoId,key:"AUDITUDE_MEDIA_ID"},{value:this.config.defaultId,key:"AUDITUDE_DEFAULT_MEDIA_ID"},{value:this.config.zoneId,key:"AUDITUDE_ZONE_ID"},{value:this.config.prerollId,key:"AUDITUDE_PREROLL_MEDIA_ID"},{value:this.config.midrollId,key:"AUDITUDE_MIDROLL_MEDIA_ID"},{value:this.config.audienceManagerURL,key:"AUDITUDE_AUDIENCE_MGR_URL"},{value:this.config.version,key:"AUDITUDE_VERSION"}],d=0,c=s.length;c>d;d++)o=s[d],null!=o.value&&this.createProperty(e,o.key,o.value,l);if(null!=this.config.companions){for(a=[],r=[],h=this.config.companions,u=0,p=h.length;p>u;u++)i=h[u],a.push(i.width+"x"+i.height),r.push(i.id);this.createProperty(e,"AUDITUDE_COMPANION_SIZE",a.join(","),l),this.createProperty(e,"AUDITUDE_COMPANION_ID",a.join(","),l)}return null!=this.config.params&&this.createProperty(e,"AUDITUDE_PARAMS",this.config.params,l),null!=this.config.userData&&this.createProperty(e,"AUDITUDE_USER_DATA",this.config.userData,l),e},t}(r.akamai.amp.plugins.ads.AdWrapper),r.akamai.amp.plugins.ads.AdPlugin=function(e){function t(e,f){n=r.akamai.amp.core.Utils,i=r.akamai.amp.player.Notifications,a=r.akamai.amp.plugins.PluginNotifications,o=r.akamai.amp.plugins.ads.AdMediator,s=r.akamai.amp.plugins.ads.AdNotifications,l=r.akamai.amp.plugins.ads.AdProxy,d=r.akamai.amp.plugins.ads.AdsAPI,u=r.akamai.amp.plugins.ads.AdPublisher,c=r.akamai.amp.plugins.ads.AdMediaChangeCommand,p=r.akamai.amp.plugins.ads.AdBreakStartCommand,h=r.akamai.amp.plugins.ads.AdBreakEndCommand,m=r.akamai.amp.plugins.ads.AdLoadedMetadataCommand,t.__super__.constructor.call(this,e,f)}__extends(t,e),t.name="AdPlugin";var n,i,a,o,s,l,d,u,c,p,h,m;return t.NAME="AdPlugin",t.prototype.container=null,t.prototype.feature="ads",t.prototype.createModel=function(){this.isFullscreenDevice()?this.registerProxy(this.createFullscreenProxy()):this.registerProxy(this.createProxy())},t.prototype.createController=function(){this.registerCommand(i.CHANGE_MEDIA,c),this.registerCommand(i.LOADED_METADATA,m),this.registerCommand(s.BREAK_START,p),this.registerCommand(s.BREAK_END,h)},t.prototype.createView=function(){return this.registerMediator(new o)},t.prototype.createPublisher=function(){this.registerMediator(new u(this.listNotificationPublications()))},t.prototype.createAPI=function(){return this.api=new d(this),this.api},t.prototype.isFullscreenDevice=function(){return n.isFullscreenDevice()},t.prototype.createProxy=function(){},t.prototype.createFullscreenProxy=function(){},t.prototype.listNotificationInterests=function(){return[i.CHANGE_MEDIA,i.LOADED_METADATA,i.PLAY,i.PAUSE,i.START,i.TOGGLE_PLAY_PAUSE,i.STARTED,i.ENDED,i.READY]},t}(r.akamai.amp.features.Feature),r.akamai.amp.plugins.ima.IMANotifications=function(){function e(){}return e.name="IMANotifications",e.INITIALIZED="ima/initialize",e.ADD_OVERLAY="ima/addOverlay",e.REMOVE_OVERLAY="ima/removeOverlay",e}(),r.akamai.amp.plugins.ima.IMAOverlayProxy=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.core.Utils,a=r.akamai.amp.plugins.ima.IMANotifications,o=r.akamai.amp.plugins.ima.IMAProxy,s=r.akamai.amp.events.EventHandler,o=r.akamai.amp.plugins.ima.IMAProxy,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="IMAOverlayProxy",t.NAME="IMAOveralyProxy",t.prototype.defaults={adTagUrl:null,duration:15,interval:30,delay:30},t.prototype.durationTimer=null,t.prototype.intervalTimer=null,t.prototype.delayTimer=null;var n,i,a,o,s,o;return t.prototype.stop=function(){clearTimeout(this.durationTimer),clearTimeout(this.delayTimer),clearTimeout(this.intervalTimer)},t.prototype.play=function(){var e=this;this.stop(),this.requestAd(),this.delayTimer=setTimeout(function(){e.requestAd(),e.intervalTimer=setInterval(function(){e.requestAd()},1e3*e.value.interval)},1e3*this.value.delay)},t.prototype.requestAd=function(){var e,t,n,a;if(n=i.get(this.getValue("adTagUrl"),{onerror:this.error.bind(this)},!1),a=n.responseXML,null!=a)try{e=a.querySelector("NonLinear"),null!=e?(t={src:e.querySelector("StaticResource").textContent,width:e.getAttribute("width"),height:e.getAttribute("height"),tracking:[a.querySelector("Impression").textContent,a.querySelector("Tracking[event=creativeView]").textContent],href:e.querySelector("NonLinearClickThrough").textContent},this.displayAd(t)):this.error("No overlay was returned")}catch(r){this.error(r)}},t.prototype.error=function(e){this.facade.logger.error("IMA Overlay Error",e),this.stop()},t.prototype.displayAd=function(e){var t=this;this.sendNotification(a.ADD_OVERLAY,e),this.durationTimer=setTimeout(function(){t.sendNotification(a.REMOVE_OVERLAY)},1e3*this.value.duration)},t}(r.akamai.amp.player.model.TokenizedConfigurationProxy),r.akamai.amp.plugins.ima.IMAWrapper=function(e){function t(){n=r.akamai.amp.core.utils.XMLUtils,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="IMAWrapper";var n;return t.NAME="IMAWrapper",t.prototype.createXML=function(e){var t,n,i,a,r,o,s,l,d,u,c,p,h,m,f,g;for(n=e.getElementsByTagName("application")[0],t=e.getElementsByTagName("admedia")[0],null==t&&(t=e.createElement("admedia"),n.appendChild(t)),d=e.createElement("vendor"),d.setAttribute("id","dfp"),t.appendChild(d),l=[{value:this.config.adTagUrl,key:"DFP_AD_TAG_URL"}],u=0,h=l.length;h>u;u++)s=l[u],null!=s.value&&this.createProperty(e,s.key,s.value,d);if(null!=this.config.params&&(null!=this.config.params.adTag&&this.createProperty(e,"DFP_AD_TAG_PARAMS",this.config.params.adTag,d),null!=this.config.params.manual&&this.createProperty(e,"DFP_MANUAL_PARAMS",this.config.params.manual,d)),null!=this.config.companions){for(a=[],r=[],g=this.config.companions,c=0,m=g.length;m>c;c++)i=g[c],a.push(i.width+"x"+i.height),r.push(i.id);this.createProperty(e,"DFP_SIZE",a.join(","),d),this.createProperty(e,"COMPANION_ID",r.join(","),d)}if(null!=this.config.overlay)for(o=e.createElement("overlay"),t.appendChild(o),l=[{value:"dfp",key:"OVERLAY_AD_PARTNER"},{value:this.config.overlay.adTagUrl,key:"OVERLAY_AD_BASE_URL"},{value:this.config.overlay.delay,key:"OVERLAY_AD_DELAY"},{value:this.config.overlay.interval,key:"OVERLAY_AD_INTERVAL"},{value:this.config.overlay.duration,key:"OVERLAY_AD_DURATION"},{value:""+this.config.overlay.width+"x"+this.config.overlay.height,key:"OVERLAY_AD_SIZE"}],p=0,f=l.length;f>p;p++)s=l[p],null!=s.value&&this.createProperty(e,s.key,s.value,o);return e},t}(r.akamai.amp.plugins.ads.AdWrapper),r.akamai.amp.plugins.ima.IMAProxy=function(e){function t(e){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.ads.AdNotifications,a=r.akamai.amp.plugins.ads.AdVO,o=r.akamai.amp.player.model.PlayState,s=r.akamai.amp.player.model.ActiveState,l=r.akamai.amp.plugins.ima.IMAOverlayProxy,d=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e)}__extends(t,e),t.name="IMAProxy";var n,i,a,o,s,l,d;return t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={plugin:null,adTagUrl:null,overlay:null,width:null,height:null},t.prototype.interval=null,t.prototype.adDisplayContainer=null,t.prototype.adDisplayContainerInitialized=!1,t.prototype.adsLoader=null,t.prototype.adsManagerLoaded=!1,t.prototype.adsManager=null,t.prototype.cuepoints=null,t.prototype.adLoaded=!1,t.prototype.playWhenLoaded=!1,t.prototype.contentHasEnded=!1,t.prototype.getScript=function(){return this.value.plugin},t.prototype.setLoadedMetadata=function(e){return t.__super__.setLoadedMetadata.call(this,e),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd(),e},t.prototype.initialize=function(){},t.prototype.ready=function(){this.adDisplayContainer=this.createPlugin(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)},t.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.container.container)},t.prototype.engage=function(){this.getEnabled()!==!1&&(t.__super__.engage.call(this),this.adsManagerLoaded===!0&&this.contentHasEnded===!1&&this.contentEnded(),this.adsManagerLoaded=!1,this.contentHasEnded=!1,this.adsManagerLoaded=!1,this.playWhenLoaded=!1)},t.prototype.requestAd=function(){var e,t,n,i,a;null==(i=this.value).width&&(i.width=this.facade.app.container.clientWidth),null==(a=this.value).height&&(a.height=this.facade.app.container.clientHeight),t=new google.ima.AdsRequest,e=this.getValue("adTagUrl"),n=this.getValue("adsResponse"),null!=n&&""!==n?t.adsResponse=d.read(n,null,d.mimeTypes.txt):t.adTagUrl=e,t.linearAdSlotWidth=this.value.width,t.linearAdSlotHeight=this.value.height,null!=this.value.overlay&&(t.nonLinearAdSlotWidth=this.value.overlay.width,t.nonLinearAdSlotHeight=this.value.overlay.height),this.adsLoader.requestAds(t)},t.prototype.start=function(){return t.__super__.start.call(this)===!1?!1:(this.adDisplayContainerInitialized!==!0&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0),this.canPlay()===!0?this.startAd():(this.playWhenLoaded=!0,this.requestAd()),void 0)},t.prototype.canPlay=function(){return this.adsManagerLoaded===!0&&this.loadedMetadata===!0},t.prototype.startAd=function(){this.playWhenLoaded=!1;try{this.adsManager.init(this.value.width,this.value.height,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(e){this.error(e)}},t.prototype.onAdsManagerLoaded=function(e){this.facade.logger.log("IMA: adsManagerLoaded"),this.adsManager=e.getAdsManager(this.facade.app.video),this.adsManagerLoaded=!0,this.cuePoints=this.adsManager.getCuePoints(),this.facade.app.sendNotification(n.ADD_CUE_POINTS,this.cuePoints),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPause.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.contentPlay.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdClick.bind(this)),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd()},t.prototype.onAdClick=function(){this.getPaused()||(this.setPaused(!0),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,o.PAUSED),this.facade.app.sendNotification(n.CHANGE_ACTIVE_STATE,s.ACTIVE))},t.prototype.onAdEvent=function(e){var t,r,s,l,d;switch(t=e.getAd(),this.facade.logger.log("IMA Ad Event: "+e.type,e,t),e.type){case google.ima.AdEvent.Type.LOADED:t.isLinear()&&(l=t.getAdPodInfo().getAdPosition(),d=1===l?"preroll":"midroll",r=new a(t.getAdId(),t.getAdId(),t.getDuration(),l,d,"ima",t),this.sendNotification(i.AD_LOADED,r),this.sendNotification(i.AD_DURATION_CHANGE,r.duration));break;case google.ima.AdEvent.Type.STARTED:t.isLinear()&&(this.setInProgress(!0),this.sendNotification(i.BREAK_START),this.sendNotification(i.AD_STARTED),this.interval=setInterval(this.onAdTimeUpdate.bind(this),300),this.facade.app.sendNotification(n.CHANGE_PLAY_STATE,o.PLAYING),this.sendNotification(i.AD_PLAY));try{s=t.a.companions,null!=s&&s.length>0&&this.setCompanions(s)}catch(u){this.facade.logger.error("IMA Error: Could not retrieve companion ads:",u)}break;case google.ima.AdEvent.Type.COMPLETE:t.isLinear()&&this.sendNotification(i.AD_ENDED)}},t.prototype.onAdTimeUpdate=function(){this.sendNotification(i.AD_TIME_REMAINING,this.adsManager.getRemainingTime())},t.prototype.onAdError=function(e){this.error(e.getError()),this.contentPlay()},t.prototype.play=function(){t.__super__.play.call(this);try{this.adsManager.resume()}catch(e){this.facade.logger.error("IMA Error: resume",e)}},t.prototype.pause=function(){t.__super__.pause.call(this);try{this.adsManager.pause()}catch(e){this.facade.logger.error("IMA Error: pause",e)}},t.prototype.breakEnd=function(){var e;clearInterval(this.interval),t.__super__.breakEnd.call(this),e=this.facade.retrieveProxy(l.NAME),e&&e.play()
},t.prototype.setCompanions=function(e){var n,i,a,r;for(i=[],a=0,r=e.length;r>a;a++)n=e[a],i.push({data:n.content,type:n.resourceType,width:n.size.width,height:n.size.height,metadata:n});return t.__super__.setCompanions.call(this,i),e},t.prototype.contentPlay=function(){this.facade.logger.log("IMA: contentPlay"),this.sendNotification(i.BREAK_END),t.__super__.contentPlay.call(this)},t.prototype.contentEnded=function(){this.facade.logger.log("IMA: contentComplete"),this.contentHasEnded=!0;try{this.adsManager.destroy(),this.adsLoader.contentComplete()}catch(e){this.facade.logger.error("IMA Error: contentComplete",e)}},t}(r.akamai.amp.plugins.ads.AdProxy),r.akamai.amp.plugins.ima.IMAAddOverlayCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="IMAAddOverlayCommand";var n;return t.prototype.execute=function(){this.facade.app.sendNotification(n.ADD_APPLICATION_STATE,"ad-overlay-mode")},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.ima.IMARemoveOverlayCommand=function(e){function t(){n=r.akamai.amp.player.Notifications,i=r.akamai.amp.plugins.ima.IMAOverlayProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="IMARemoveOverlayCommand";var n,i;return t.prototype.execute=function(){var e;e=this.facade.retrieveProxy(i.NAME),e.stop(),this.facade.app.sendNotification(n.REMOVE_APPLICATION_STATE,"ad-overlay-mode")},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.ima.IMAOverlayMediator=function(e){function t(e){n=r.akamai.amp.plugins.ima.IMANotifications,i=r.akamai.amp.events.EventHandler,t.__super__.constructor.call(this,t.NAME,e)}__extends(t,e),t.name="IMAOverlayMediator",t.NAME="IMAOverlayMediator",t.prototype.anchor=null,t.prototype.image=null,t.prototype.tracker=null,t.prototype.tracker2=null,t.prototype.closeButton=null,t.prototype.closeText=null;var n,i;return t.prototype.onRegister=function(){var e=this;this.viewComponent.classList.add("akamai-ad-overlay"),this.anchor=document.createElement("a"),this.anchor.classList.add("akamai-ad-overlay-anchor"),this.anchor.target="_blank",this.viewComponent.appendChild(this.anchor),this.image=document.createElement("img"),this.image.classList.add("akamai-ad-overlay-img"),this.anchor.appendChild(this.image),this.tracker=document.createElement("img"),this.tracker.width=0,this.tracker.height=0,this.viewComponent.appendChild(this.tracker),this.tracker2=document.createElement("img"),this.tracker2.width=0,this.tracker2.height=0,this.viewComponent.appendChild(this.tracker2),this.closeButton=document.createElement("div"),this.closeButton.classList.add("akamai-ad-close-button"),this.viewComponent.appendChild(this.closeButton),this.closeText=document.createElement("div"),this.closeText.classList.add("akamai-ad-close-text"),this.closeText.textContent="x",this.closeButton.appendChild(this.closeText),i.create(this.closeButton,i.CLICK,function(t){return t.stopImmediatePropagation(),e.sendNotification(n.REMOVE_OVERLAY),!1}),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[n.ADD_OVERLAY,n.REMOVE_OVERLAY]},t.prototype.handleNotification=function(e){var t;switch(e.getName()){case n.ADD_OVERLAY:t=e.getBody(),this.image.src=t.src,this.anchor.href=t.href,this.tracker.src=t.tracking[0],this.tracker2.src=t.tracking[1]}},t}(r.akamai.amp.player.view.OverlayMediator),r.akamai.amp.plugins.ima.IMAReadyCommand=function(e){function t(){n=r.akamai.amp.plugins.ima.IMAProxy,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="IMAReadyCommand";var n;return t.prototype.execute=function(){this.facade.retrieveProxy(n.NAME).ready()},t}(puremvc.SimpleCommand),r.akamai.amp.plugins.ima.IMAFullscreenProxy=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t.name="IMAFullscreenProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.container.container,this.facade.app.video,this.facade.container.container)},t}(r.akamai.amp.plugins.ima.IMAProxy),r.akamai.amp.plugins.auditude.AuditudePlugin=function(e){function t(e,o){n=r.akamai.amp.plugins.auditude.AuditudeWrapper,i=r.akamai.amp.plugins.auditude.AuditudeFullscreenProxy,a=r.akamai.amp.plugins.auditude.AuditudeProxy,t.__super__.constructor.call(this,e,o)}__extends(t,e),t.name="AuditudePlugin";var n,i,a;return t.NAME="AuditudePlugin",t.prototype.key="auditude",t.prototype.feature="ads",t.prototype.createFullscreenProxy=function(){return new i(this.config)},t.prototype.createProxy=function(){return new a(this.config)},t.prototype.isFullscreenDevice=function(){return!0},t}(r.akamai.amp.plugins.ads.AdPlugin),r.akamai.amp.plugins.adchoices.AdChoicesWrapper=function(e){function t(){n=r.akamai.amp.player.FlashNotifications,t.__super__.constructor.apply(this,arguments)}__extends(t,e),t.name="AdChoicesWrapper";var n;return t.NAME="AdChoicesWrapper",t.prototype.listNotificationInterests=function(){return[n.CREATE_XML]},t.prototype.handleNotification=function(e){var t,i,a,r,o,s;switch(a=e.getName(),t=e.getBody(),a){case n.CREATE_XML:s=t.xml,o=s.getElementsByTagName("view")[0],r=s.createElement("element"),r.setAttribute("id","adOptions"),o.appendChild(r),i=s.createElement("element"),i.setAttribute("id","adChoices"),i.setAttribute("target",this.config.target),r.appendChild(i),i=s.createElement("element"),i.setAttribute("id","adCountdown"),r.appendChild(i)}},t}(r.akamai.amp.plugins.PluginWrapper),r.akamai.amp.plugins.adchoices.AdChoicesMediator=function(e){function t(){n=r.akamai.amp.modules.ModuleConfigurationProxy,i=r.akamai.amp.plugins.ads.AdNotifications,t.__super__.constructor.call(this,t.NAME,document.createElement("div"))}__extends(t,e),t.name="AdChoicesMediator",t.NAME="AdChoicesMediator",t.prototype.icon=null,t.prototype.text=null,t.prototype.container=null;var n,i;return t.prototype.onRegister=function(){var e;return this.viewComponent.classList.add("akamai-ad-choices"),e=this.facade.retrieveProxy(n.NAME),this.container=document.createElement("a"),this.container.href=e.getTarget(),this.container.classList.add("akamai-ad-choices-link"),this.container.target="_blank",this.text=document.createElement("div"),this.text.innerHTML="AdChoices",this.text.classList.add("akamai-ad-choices-text"),this.container.appendChild(this.text),this.icon=document.createElement("div"),this.icon.classList.add("akamai-ad-choices-icon"),this.container.appendChild(this.icon),this.viewComponent.appendChild(this.container),t.__super__.onRegister.call(this)},t.prototype.listNotificationInterests=function(){return[i.AD_CONTAINER_CREATED]},t.prototype.handleNotification=function(e){var t;switch(e.getName()){case i.AD_CONTAINER_CREATED:if(t=e.getBody(),null!=t)return t.appendChild(this.viewComponent)}},t}(r.akamai.amp.player.view.LocalizedMediator),r.akamai.amp.plugins.adchoices.AdChoicesProxy=function(e){function t(e){t.__super__.constructor.call(this,e)}return __extends(t,e),t.name="AdChoicesProxy",t.NAME=r.akamai.amp.modules.ModuleConfigurationProxy.NAME,t.prototype.defaults={target:null},t.prototype.getTarget=function(){return this.data.target},t.prototype.setTarget=function(e){return this.data.target=e},t}(r.akamai.amp.modules.ModuleConfigurationProxy),r.akamai.amp.plugins.ima.IMAPlugin=function(e){function t(e,m){n=r.akamai.amp.plugins.ima.IMANotifications,i=r.akamai.amp.plugins.ima.IMAWrapper,a=r.akamai.amp.plugins.ima.IMAProxy,o=r.akamai.amp.plugins.ima.IMAFullscreenProxy,s=r.akamai.amp.plugins.ima.IMAOverlayProxy,l=r.akamai.amp.plugins.ima.IMAAddOverlayCommand,d=r.akamai.amp.plugins.ima.IMARemoveOverlayCommand,u=r.akamai.amp.plugins.ima.IMAOverlayMediator,c=r.akamai.amp.plugins.ima.IMAReadyCommand,p=r.akamai.amp.player.Notifications,h=r.akamai.amp.core.Utils,t.__super__.constructor.call(this,e,m)}__extends(t,e),t.name="IMAPlugin";var n,i,a,o,s,l,d,u,c,p,h;return t.NAME="IMAPlugin",t.prototype.key="ima",t.prototype.feature="ads",t.prototype.createFullscreenProxy=function(){return new o(this.config)},t.prototype.createProxy=function(){return new a(this.config)},t.prototype.isFullscreenDevice=function(){return h.isFullscreenDevice()||/Android 4\.[0-1]/.test(navigator.userAgent)},t.prototype.createModel=function(){t.__super__.createModel.call(this),null!=this.config.overlay&&this.registerProxy(new s(this.config.overlay))},t.prototype.createController=function(){t.__super__.createController.call(this),this.registerCommand(n.ADD_OVERLAY,l),this.registerCommand(n.REMOVE_OVERLAY,d),this.registerCommand(p.READY,c)},t.prototype.registered=function(){this.registerMediator(new u),t.__super__.registered.call(this)},t}(r.akamai.amp.plugins.ads.AdPlugin),r.akamai.amp.plugins.adchoices.AdChoicesPlugin=function(e){function t(e,o){n=r.akamai.amp.plugins.adchoices.AdChoicesWrapper,i=r.akamai.amp.plugins.adchoices.AdChoicesMediator,a=r.akamai.amp.plugins.adchoices.AdChoicesProxy,t.__super__.constructor.call(this,e,o)}__extends(t,e),t.name="AdChoicesPlugin",t.NAME="AdChoicesPlugin";var n,i,a;return t.prototype.createModel=function(){return this.registerProxy(new a(this.config))},t.prototype.onRegister=function(){return this.registerMediator(new i),t.__super__.onRegister.call(this)},t}(r.akamai.amp.plugins.PluginFacade),n.com=r,e.AKAMAI_MEDIA_PLAYER.saveSDK(i,n)}e.AKAMAI_MEDIA_PLAYER.setVersion(i)}(window),Ndn_Require.define("amp_lib",function(){});var _nw2e=_nw2e||[];Ndn_Require.define("models/Akamai/VideoPlayerModel",["underscore","models/Ndn/Widget","models/Ndn/Utils/UserAgent","lib/amp.premier/config/skin/templates","amp_lib"],function(e,t,n,i){_nw2e.videoPlayer=AKAMAI_MEDIA_PLAYER.getSDK(),AKAMAI_MEDIA_PLAYER.revert();var a,r=function(e){return e.akamaiJsLibFolderUrl=e.akamaiJsLibFolderUrl||t.getAppUrl()+"/js/lib/amp.premier",e.akamaiResourcesFolderUrl=e.akamaiResourcesFolderUrl||t.getAppUrl()+"/resources",{head:{links:[]},config:{domain:"newsinc.com",target:"_top",params:{auditude_userDataString:"",distributorName:"",producerCategory:"",producerAuditudeId:"",windowLocation:window.location.href+"",tracking_group:9999,sitesection:"ndn",sec:"oth",sub:"non",plt:"11",wgt:1,fp:0,aud_zone_id:50974,aud_default_asset:"default_ndn",partner_type:"conventional",autoplay:1,continuous_play:1,sound:1,ad_server:"none",trans_time:0,size:"10x10",player_type:11,launcher_type:0,ads_enabled:0,wid:0,share:1,email:0,device_mode:1,external_url:"http://newsinc.com",override_playlist:0,user_token:"ZZZZZZZ",embed_type:0,ndn_session_id:"",rmm:0,wid_type:0,desc_url_type:"http://newsinc.com"},fullscreen:{"native":!0},controls:{autoHide:5},info:{title:"#{media.title}",description:"#{media.description}",provider:{name:"#{media.metadata['ndn-provider'].name}",image:"#{media.metadata['ndn-provider'].image}"}},flash:{swf:e.akamaiJsLibFolderUrl+"/AkamaiPremierPlayer.swf",debug:e.akamaiJsLibFolderUrl+"/AkamaiPremierPlayer-debug.swf",vars:{context_menu_mode:"short",overlay_ad_delay:3,volume:1,auto_replay:!1,fullscreen_enabled:!0,share_enabled:!0,auto_play:!1,hinting_rules:"%7B%22flashTablets%22%3A%7B%22label%22%3A%22Android%202%20%26%203%20or%20Kindle%20Fire%201%22%2C%22regexp%22%3A%22Android%20%5B23%5D%7CSilk/1%22%7D%2C%22html5Phones%22%3A%7B%22label%22%3A%22iPhone%22%2C%22regexp%22%3A%22iPhone%22%7D%2C%22html5Tablets%22%3A%7B%22label%22%3A%22HTML5%20Tablets%22%2C%22regexp%22%3A%22iPad%7CAndroid%204%7CSilk/2%22%7D%2C%22desktop%22%3A%7B%22label%22%3A%22Desktop%22%2C%22regexp%22%3A%22%5E%28%28%3F%21iPad%7CiPhone%7CAndroid%7CBlackBerry%7CPlayBook%7CSilk%29.%29*%24%22%7D%2C%22android_4_gets_m3u8%22%3A%7B%22regexp%22%3A%22Android%204%22%7D%7D",externalTarget:"_top",domain:"newsinc.com",embedDomain:"newsinc.com",show_play_button_overlay:!1,auto_play_list:!1,core_ads_enabled:!0},params:{wmode:n.isIe()||n.isFirefox()||n.isSafari()&&n.isWindows()?"transparent":"direct"},xml:i.getTemplate("ndn_assets",e)},share:{facebook:!0,twitter:!0,enabled:!0},comscore:{url:"http://b.scorecardresearch.com/b",data:{c1:"1",c2:"11112732",c3:"#{distributorName}",c4:"#{media.metadata['ndn-provider'].name}",c5:"",c6:"#{siteSection}",c10:"#{producerCategory}"},events:{ads:[{type:"started",data:{c5:"09"}}],video:[{type:"started",data:{c5:"#{mediaAnalyticsC5Value}"}}]}},ima:{version:3,plugin:"http://s0.2mdn.net/instream/html5/ima3.js",companion:{width:"300",height:"250"},adTagUrl:"http://pubads.g.doubleclick.net/gampad/ads?ad_rule=1&sz=750x425&iu=#{dfpIuValue}&ciu_szs=#{dfpCiuSzsValue}&vid=#{media.guid}&cmsid=1169&vpos=preroll&scor=#{now}&vad_type=linear&description_url=#{dfpDescriptionUrl}&playlistId=#{playlistId}&widgetId=#{widgetId}&trackingGroup=#{trackingGroup}&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url="+encodeURIComponent(window.location.href+"")+"&correlator=#{now}"+"&cust_params=#{dfpParams}",enabled:"dfp"==e.adServer},auditude:{enabled:"Auditude"==e.adServer,plugin:{js:"http://adunit.cdn.auditude.com/player/js/lib/plugin/1.3/aud.html5player.js"},defaultId:"ndn_default",videoId:"#{media.guid}",domain:"auditude.com",zoneId:"#{aud_zone_id}",version:"ndn-1.0",params:"#{auditudeParams}",userData:{videotype:"#{player.mode}"}},mediaanalytics:{plugin:{js:"http://79423.analytics.edgesuite.net/html5/akamaihtml5-min.js",swf:"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf"},config:"http://ma74-r.analytics.edgesuite.net/config/beacon-4139.xml",dimensions:{title:"#{media.title}",playerId:"#{player.mode} Player",video_id:"#{videoId}",provider_id:"#{producerId}",video_length:"#{videoDuration}",player_behavior:"#{playerBehaviorId}",continuous_play:"#{continuousPlay}",sound:"#{rmmSoundOn}",share:"#{shareScenarioId}",playlist_id:"#{playlistId}",playlist_name:"#{playlistName}",playlist_order:"#{videoIndex}",tracking_group:"#{trackingGroup}",p_type:"#{widgetTypeId}",l_type:"#{wgtValue}",sitesection:"#{siteSection}",sec:"#{siteSectionSecValue}",sub:"#{siteSectionSubValue}",wgt:"#{wgtValue}",fp:"#{foldPositionId}",partner_type:"#{distributorType}",c5:"#{mediaAnalyticsC5Value}",referrer_url:"#{encodedEmbedPageUrl}",playerUrl:"#{windowLocation}",width:"#{videoPlayerWidth}",height:"#{videoPlayerHeight}",player_mode:"#{player.mode}",session_guid:"",ad_server:"#{adServer}",adServer:"#{adServer}",trans_time:"",desc_url:"#{doubleEncodedCurrentPageUrl}",external_url:"#{encodedEmbedPageUrl}",embed_type:"#{embedMethod}",size:"#{videoSizeId}",ads_enabled:"#{adsEnabled}",aud_zone_id:"#{producerAuditudeId}",adPartnerId:""}},autoplay:!1,volume:.75,rules:{PDL:{regexp:"Android 4"}},adchoices:{target:"http://assets.newsinc.com/info/adchoices.html"},playoverlay:{enabled:!1}}}},o=!1,s={getAmpPremier:function(){return _nw2e.videoPlayer.AMP},getVideoPlayerNamespace:function(){return _nw2e.videoPlayer},loadConfig:function(e){o||("undefined"!=typeof JSON&&JSON&&JSON.stringify&&(a=JSON.stringify(this.getTestConfig(e))),this.getAmpPremier().loadConfig(this.getConfig(e)),o=!0)},getPlaybackMode:function(){return this.getVideoPlayerNamespace().AMP.getPlaybackMode()},getConfig:function(t){return r(e.extend({},t))},getTestConfig:function(t){return r(e.extend({},t,{akamaiJsLibFolderUrl:"../amp.premier",akamaiResourcesFolderUrl:"../resources"}))},getDebugConfig:function(){return a}};return s}),Ndn_Require.define("text!templates/ndn/video-player/enforce-visibility-overlay.mustache",[],function(){return'<div class="ndn_enforceVisibilityOverlay ndn_playerOverlay">\n	<span class="ndn_errorMessage">This video player must be at least {{minimumDimensions}} pixels in order to operate.</span>\n</div>'}),Ndn_Require.define("views/Ndn/VideoPlayer/EnforceVisibilityOverlayView",["jquery","backbone","mustache","models/Ndn/Widget","text!templates/ndn/video-player/enforce-visibility-overlay.mustache"],function(e,t,n,i,a){return t.View.extend({initialize:function(){t.View.prototype.initialize.call(this,arguments),this.$el=e(n.to_html(a,{minimumDimensions:this.model.get("minimumWidth")+"x"+this.model.get("minimumHeight")}))},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})}),Ndn_Require.define("jquery_resize",["jquery"],function(e){!function(e,t,n){"$:nomunge";function i(){a=t[s](function(){r.each(function(){var t=e(this),n=t.width(),i=t.height(),a=e.data(this,d);(n!==a.w||i!==a.h)&&t.trigger(l,[a.w=n,a.h=i])}),i()},o[u])}var a,r=e([]),o=e.resize=e.extend(e.resize,{}),s="setTimeout",l="resize",d=l+"-special-event",u="delay",c="throttleWindow";o[u]=250,o[c]=!0,e.event.special[l]={setup:function(){if(!o[c]&&this[s])return!1;var t=e(this);r=r.add(t),e.data(this,d,{w:t.width(),h:t.height()}),1===r.length&&i()},teardown:function(){if(!o[c]&&this[s])return!1;var t=e(this);r=r.not(t),t.removeData(d),r.length||clearTimeout(a)},add:function(t){function i(t,i,r){var o=e(this),s=e.data(this,d);s.w=i!==n?i:o.width(),s.h=r!==n?r:o.height(),a.apply(this,arguments)}if(!o[c]&&this[s])return!1;var a;return e.isFunction(t)?(a=t,i):(a=t.handler,t.handler=i,void 0)}}}(e,this)}),Ndn_Require.define("models/Ndn/VideoPlayer/EnforceVisibilityOverlayModel",["jquery","backbone","views/Ndn/VideoPlayer/EnforceVisibilityOverlayView","jquery_resize"],function(e,t,n){var i=function(){var e=this.get("videoPlayer").getContainerElement(),t=e.width()>=this.get("minimumWidth")&&e.height()>=this.get("minimumHeight")&&e.is(":visible"),n=t!==this.get("meetsVisibilityRequirements");this.set("meetsVisibilityRequirements",t),n&&(t?r.call(this):a.call(this))},a=function(){this.get("view").show(),this.set("wasPlayingBeforeViolation",this.get("videoPlayer").isPlaying()),this.get("videoPlayer").pause(),this.trigger("visibilityViolation")},r=function(){this.get("view").hide(),this.get("wasPlayingBeforeViolation")&&this.get("videoPlayer").play(),this.trigger("visibilityAppeasement")};return t.Model.extend({defaults:{videoPlayer:null,minimumWidth:300,minimumHeight:170,meetsVisibilityRequirements:null,wasPlayingBeforeViolation:!1,view:null},initialize:function(t){this.set({videoPlayer:t,view:new n({model:this})}),this.get("view").hide(),t.onceEmbedded(e.proxy(function(){this.get("videoPlayer").getContainerElement().append(this.get("view").$el)},this)).once("loadAttempt",e.proxy(function(t){var n=t.deferred;delete t.deferred,i.call(this),this.get("meetsVisibilityRequirements")?n():this.once("visibilityAppeasement",n),this.get("videoPlayer").getContainerElement().resize(e.proxy(function(){i.call(this)},this))},this))}})}),Ndn_Require.define("text!templates/ndn/video-player/start-overlay.html",[],function(){return'<div class="ndn_startOverlayContainer ndn_playerOverlay">\n	<div class="ndn_startOverlay">\n		<div class="ndn_startPlay"></div>\n	</div>\n</div>'}),Ndn_Require.define("views/Ndn/VideoPlayer/StartOverlayView",["jquery","mustache","backbone","text!templates/ndn/video-player/start-overlay.html"],function(e,t,n,i){return n.View.extend({events:{"click .ndn_startOverlay":"start"},initialize:function(){n.View.prototype.initialize.call(this,arguments),this.$el=e(t.to_html(i,{}))},start:function(){this.model.get("videoPlayer").play()},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})}),Ndn_Require.define("models/Ndn/VideoPlayer/StartOverlayModel",["jquery","underscore","backbone","views/Ndn/VideoPlayer/StartOverlayView"],function(e,t,n,i){return n.Model.extend({defaults:{videoPlayer:null,view:null},initialize:function(t){this.set("videoPlayer",t),this.set("view",new i({model:this})),this.get("videoPlayer").onceEmbedded(e.proxy(function(){this.get("videoPlayer").getContainerElement().append(this.get("view").$el)},this));var n=e.proxy(function(){this.get("view").hide()},this);this.get("videoPlayer").on({videoLoad:e.proxy(function(){this.get("videoPlayer").onceEmbedded(e.proxy(function(){this.get("view").show()},this))},this),play:n,videoStartRequest:n,adStart:n,videoStart:n})}})}),Ndn_Require.define("models/Ndn/VideoPlayer",["jquery","underscore","backbone","require","models/Ndn/Widget","models/Akamai/VideoPlayerModel","models/Ndn/PlayerServices","models/Ndn/PlayerServices/Cache","models/Ndn/Utils/UserAgent","models/Ndn/VideoPlayer/EnforceVisibilityOverlayModel","models/Ndn/VideoPlayer/StartOverlayModel","lib/amp.premier/config/skin/templates"],function(e,t,n,i,a,r,o,s,l,d,u,c){var p=function(){var t=this.get("player");t.addEventListener("initialized",e.proxy(function(e){this.trigger("init",e)},this)),t.addEventListener("loadstart",function(){}),t.addEventListener("canplay",e.proxy(function(){this.trigger("ampVideo:loaded"),this.trigger("videoLoadComplete")},this)),t.addEventListener("started",e.proxy(function(e){this.trigger("play",e),this.trigger("videoStart",e)},this)),t.addEventListener("playrequest",e.proxy(function(){this.get("isPlayingRmm")?this.trigger("rmmStartRequest"):this.trigger("videoStartRequest")},this)),t.addEventListener("play",e.proxy(function(e){this.trigger("play",e)},this)),t.addEventListener("timeupdate",e.proxy(function(e){this.trigger("videoTimeUpdate",e)},this)),t.addEventListener("pause",e.proxy(function(e){this.get("isPlayingRmm")?this.trigger("hook:rmmPause"):this.trigger("hook:videoPause"),this.trigger("pause",e)},this)),t.addEventListener("ended",e.proxy(function(e){this.trigger("videoEnd",e)},this)),null!=t.share&&t.share.addEventListener("share",e.proxy(function(e){this.trigger("share",e)},this)),null!=t.captioning&&t.captioning.addEventListener("visibilitychange",e.proxy(function(){},this)),null!=t.ads&&(t.ads.addEventListener("started",e.proxy(function(e){this.trigger("adStart",e)},this)),t.ads.addEventListener("ended",e.proxy(function(e){this.trigger("adEnd",e)},this)),t.ads.addEventListener("timeupdate",e.proxy(function(){this.trigger("adTimeUpdate")},this)),t.ads.addEventListener("companion",e.proxy(function(e){this.trigger("adCompanion",e)},this))),t.addEventListener("ready",e.proxy(function(e){this.trigger("video:ready",e)},this)),t.addEventListener("error",e.proxy(function(e){console.log("[Akamai Media Player] ERROR:",e),this.trigger("video:error",e)},this))},h=function(){var n=this.get("widget").get("config"),i=this.getCurrentVideoData(),o=this.get("playerData"),s=function(){try{var e=o.settings.share.email.enabled,t=o.settings.share.socialNetworks.enabled,n=i.settings.share.embedCode.enabled;switch(!0){case t&&e&&n:return 1;case t&&e&&!n:return 2;case t&&!e&&!n:return 3;case!t&&e&&n:return 4;case!t&&!e&&n:return 5;case!t&&!e&&!n:return 6;case!t&&e&&!n:return 7}}catch(a){return""}}(),d=this.get("widget").getWidgetTypeId(),u=e.proxy(function(){return this.get("isPlayingRmm")?"2":n.autoPlay?"1":"0"},this)(),c=e.proxy(function(){if(this.get("isPlayingRmm")){if(n.rmmSoundOn){if("VideoPlayer/Inline300"==n.type||"VideoLauncher/Slider300x250"==n.type)return 9;if("VideoPlayer/Inline590"==n.type)return 10}else if(t.contains(["VideoPlayer/Inline300","VideoPlayer/Inline590","VideoLauncher/Slider300x250","VideoLauncher/Playlist300x250"],n.type))return 1;if(t.contains(["VideoLauncher/VerticalTower","VideoLauncher/Horizontal"],n.type))return 8}return 0},this)(),p=(n.siteSection||"").split("_"),h=p[1]||"oth",m=p[2]||"non",f=p[3]||"",g=a.getEmbedOriginUrl(),y=encodeURIComponent(g),v=encodeURIComponent(encodeURIComponent(g)),_=encodeURIComponent(window.location.href.toString()),A=encodeURIComponent(_),C=e("#"+this.get("playerContainerElementId")),b=C.width(),E=C.height(),P=function(e){return e=parseInt(e),300>=e?1:400>e?2:3}(b),x=this.get("widget").getFoldPositionId(this.getContainerElement()),k=e.proxy(function(){var e={wgt:c,external_url:y,dpid:n.trackingGroup,sitesection:n.siteSection,sec:h,sub:m,pt:f,fp:x,cp:parseInt(n.continuousPlay),pb:u,snd:this.get("player").getVolume()>0?"1":"0",videosize:P};null!==d&&(e.plt=d);try{this.get("playerData").settings.auditude.enableGoogleAds&&(e.descriptionUrl=A)}catch(t){}return e},this)(),N=e.proxy(function(){var t="",n=["legolas"];return e.each(n,function(){var n=a.getAdsTargeting().getInstance(this),i=n.get("auditudeSegmentsKey");n.isLoaded()&&e.each(n.getSegments(),function(){t+=i+"="+this+";"})}),e.each(k,function(e,n){t+=e+"="+n+";"}),t},this)(),S=function(){var e={userData:N,external_url:y};return k.descriptionUrl&&(e.descriptionUrl=k.descriptionUrl),e}(),T=function(){try{var e=o.settings.dfp;return e.accountNumber+"/"+e.adOwnershipGroupId+("flash"!=r.getPlaybackMode()?"_mob":"")+"/"+e.adTrackingGroupId+"/"+n.siteSection+"/"+h+"/"+m}catch(t){}}(),w=e.proxy(function(){var t=[["wgt",c],["plt",d],["vt","html"==r.getPlaybackMode()?"html5":r.getPlaybackMode()],["pb",u],["snd",this.get("player").getVolume()>0?"1":"0"],["fp",x],["cp",parseInt(n.continuousPlay)],["vs",P],["pt",f],["dpid",n.trackingGroup],["sitesection",n.siteSection],["width",b],["height",E],["ua",l.getBrowser().toLowerCase()],["ext_url",y],["adserver","dfp"]],i=[];return e.each(t,function(e,t){var n=t[0],a=(t[1]+"").substr(0,256);i.push(n+"="+a)}),encodeURIComponent(i.join("&"))},this)(),M=function(){return"VideoPlayer/16x9"==n.type||"VideoPlayer/Inline300"==n.type?"300x250":""}(),I=function(e,t){var n=e.substr(0,t);return-1!==n.indexOf("%")&&n.length-n.lastIndexOf("%")<3&&(n=n.substr(0,n.lastIndexOf("%"))),n};return{aud_zone_id:function(){try{return o.settings.auditude.trackingGroupAuditudeId}catch(e){}}(),trackingGroup:n.trackingGroup,auditudeUserData:k,auditudeParams:S,adServer:function(){try{return o.settings.ads.server}catch(e){}}(),adsEnabled:n.adsEnabled,siteSection:n.siteSection,siteSectionSecValue:h,siteSectionSubValue:m,distributorName:function(){try{return o.distributor.name}catch(e){}}(),distributorType:"",producerCategory:function(){try{return i.producer.category}catch(e){}}(),videoId:i.videoId,producerId:function(){try{return i.producer.trackingGroup}catch(e){}}(),videoDuration:function(){try{return i.mediaContent[0].duration}catch(e){}}(),playerBehaviorId:u,foldPositionId:x,wgtValue:c,widgetId:n.widgetId||"",widgetTypeId:d,videoPlayerWidth:b,videoPlayerHeight:E,continuousPlay:parseInt(n.continuousPlay),rmmSoundOn:!!n.rmmSoundOn,shareScenarioId:s,playlistId:n.playlistId||"",playlistName:e.proxy(function(){try{return this.getActivePlaylistData().title||""}catch(e){}},this)(),encodedEmbedPageUrl:y,encodedEmbedOriginUrl:y,doubleEncodedEmbedOriginUrl:v,doubleEncodedCurrentPageUrl:A,videoSizeId:P,producerAuditudeId:function(){try{return o.settings.auditude.trackingGroupAuditudeId}catch(e){}}(),mediaAnalyticsC5Value:this.get("isPlayingRmm")?"02":"03",embedMethod:a.isEmbeddedByIframe()?"iframe":"JS",dfpParams:I(w,256),dfpDescriptionUrl:I(_,256),dfpIuValue:I(T,256),dfpCiuSzsValue:I(M,256),dfpPodPositionValue:this.get("widget").getDfpPodPositionValue()}},m=function(t,n,i,a){return e.Deferred(e.proxy(function(t,n,r){"undefined"==typeof n&&(n=this.get("playlistId")),"undefined"==typeof i&&(i=this.get("defaultPlayOnLoadValue"));var o=function(e){var n=e?this.get("playlistId"):507;if("undefined"==typeof t)if("undefined"!=typeof this.get("widget").get("config").videoId)if("undefined"!=typeof this.get("playerData").videoData)this.set({playlistData:{items:[this.get("playerData").videoData]},playlistId:null,nextPlaylistId:n,ampFeedData:null}),t=0;else{if("undefined"==typeof this.get("playerData").videoIndex)return this.set({nextPlaylistId:n}),this.trigger("videoUnavailable"),r.resolve();t=this.get("playerData").videoIndex}else t=0;f.call(this,t,i,a).done(r.resolve)};this.loadPlaylist(n).fail(e.proxy(function(){o.call(this,!1)},this)).then(e.proxy(function(){o.call(this,!0)},this))},this,t,n)).promise()},f=function(t,n,i){return"undefined"==typeof i&&(i=!1),e.Deferred(e.proxy(function(r){this.unloadVideo(),this.set({isPlayingRmm:i,currentVideoIndex:t}),i&&this.trigger("rmmLoad"),this.onceEmbedded(e.proxy(function(){var i;try{i=this.get("isPlayingRmm")?this.getAmpFeedVideoData(this.get("playlistData").items[t],this.get("widgetConfig"),!0):this.getAmpFeedData()[t]}catch(o){}return"undefined"!=typeof i?(a.getAdsTargeting().onceIsDeliverable(e.proxy(function(){this.get("isPlayingRmm")&&!this.get("widget").get("config").rmmSoundOn?this.setMuted(!0):(this.setMuted(!1),this.get("player").setVolume(.75)),this.get("player").setAutoplay(n),this.get("player").ads.setEnabled(this.get("widget").get("config").adsEnabled);var e=h.apply(this,[]);e.videoIndex=t,this.get("player").setParams(e),this.get("player").feed.setData(i),this.set({hasVideoLoaded:!0}),this.trigger("videoLoad",{videoData:this.getActiveVideoData()}),this.get("widget").trigger("hook:videoLoad",{videoData:this.getActiveVideoData(),params:e,ampFeedVideoData:i,widgetConfig:this.get("widget").get("config")}),this.trigger("video:loaded",this.getActiveVideoData())},this)),r.resolve()):(this.trigger("videoUnavailable"),r.reject("Video is unavailable!"))},this))},this)).promise()},g=function(t,n){return e.Deferred(e.proxy(function(i){this.once(t,e.proxy(function(e){e.deferred&&e.deferred()},this)).trigger(t,{deferred:e.proxy(function(){var t=n();t&&e.isFunction(t.done)&&t.done(i.resolve)||i.resolve()},this)})},this)).promise()},y=function(){this.set({playlistData:{items:[],playlistId:null},playlistId:null,ampFeedData:null})};return n.Model.extend({defaults:{currentQuartile:null,currentVideoIndex:null,playerData:null,playlistId:null,nextPlaylistId:null,player:null,playlistData:null,playerContainerElementId:null,ampFeedData:null,widgetConfig:null,widget:null,isEmbedded2:!1,isPlayable:!1,continuousPlays:0,infoPanelEnabled:!0,defaultPlayOnLoadValue:!1,isPlayingRmm:!1,hasVideoLoaded:!1,playlistItemsLimit:null,overlays:{},isStoringDebugData:!0},playRmm:function(){return g.call(this,"loadAttempt",e.proxy(function(){var e;m.call(this,e,e,!0,!0)},this))},initializeOverlays:function(){this.set("overlays",{start:new u(this),enforceVisibility:l.hasNativeVideoPlayer()?null:new d(this)})},initialize:function(n){this.set({widget:n}),this.on("all",function(){}),this.on("change:playlistData",e.proxy(function(){null!==this.get("playlistItemsLimit")&&(this.get("playlistData").items=t.first(this.get("playlistData").items,this.get("playlistItemsLimit")))},this)),this.onceEmbedded(e.proxy(function(){e.proxy(function(){var n=function(e){this.set({currentQuartile:e}),a.trackAnalytics("videoView",{widget:this.get("widget"),percentPlayed:e})};this.on("videoStart",e.proxy(function(){this.get("isPlayingRmm")||n.call(this,0)},this)).on("videoTimeUpdate",e.proxy(function(){var e=this.get("player");if(!this.get("isPlayingRmm")){var i=Math.floor(100*(e.currentTime/e.duration));t.contains([25,50,75],i)&&i>this.get("currentQuartile")&&n.call(this,i)}},this)).on("videoEnd",e.proxy(function(){this.get("isPlayingRmm")||n.call(this,100)},this))},this)(),this.on("rmmUnload",e.proxy(function(){this.enableControls(),this.setMuted(!1),this.get("player").setVolume(.75)},this)),this.on("videoStart",e.proxy(function(){this.get("isPlayingRmm")&&this.disableControls()},this)),this.on("videoEnd",e.proxy(function(){this.get("isPlayingRmm")?this.trigger("rmmEnd"):(this.trigger("hook:videoEnd"),0==parseInt(this.get("widget").get("config").continuousPlay)?(this.loadVideo(this.get("currentVideoIndex"),!1),this.trigger("continuousPlayEnd")):(this.set({continuousPlays:this.get("continuousPlays")+1}),this.getNextVideoData()?this.get("continuousPlays")>=parseInt(this.get("widget").get("config").continuousPlay)+1?(this.set({continuousPlays:0}),this.trigger("continuousPlayEnd")):this.play(this.get("currentVideoIndex")+1):this.getPlaylistId()?this.trigger("playlistEnd"):this.trigger("isolatedVideoEnd")))},this))},this)),this.initializeOverlays()},onceVideoIsLoaded:function(e){this.get("hasVideoLoaded")?e():this.once("videoLoad",e)},toggleInfoPanel:function(e){"undefined"==typeof e&&(e=!this.get("infoPanelEnabled")),this.set({infoPanelEnabled:e})},load:function(t,n,i){return g.call(this,"loadAttempt",e.proxy(function(){return m.call(this,t,n,i,!1)},this))},loadPlaylist:function(t,n){return"undefined"==typeof n&&(n=!1),e.Deferred(e.proxy(function(i){this.get("widget").getSettings().done(e.proxy(function(a){this.get("playerData")||this.set("playerData",a),t||(t=this.get("playerData").defaultWidgetConfig.playlistId);var r=this.get("playlistItemsLimit"),l=s.getPlaylistData(t,r);return l&&n?i.resolve():(l&&this.set({playlistData:l,playlistId:t,ampFeedData:null}),o.getPlaylistData(t,this.get("widget"),r).fail(e.proxy(function(){return y.call(this),i.reject()
},this)).done(e.proxy(function(){return n?i.resolve():(this.set({playlistData:s.getPlaylistData(t,r),playlistId:t,ampFeedData:null}),i.resolve())},this)),void 0)},this))},this)).promise()},loadVideo:function(t,n){if("undefined"==typeof n)var n=!1;return g.call(this,"loadAttempt",e.proxy(function(){f.call(this,t,n)},this))},unloadVideo:function(){this.get("hasVideoLoaded")&&(this.get("isPlayingRmm")&&(this.set({isPlayingRmm:!1}),this.trigger("rmmUnload")),this.set({currentQuartile:null,hasVideoLoaded:!1}))},getActivePlaylistData:function(){return this.get("playlistData")},getActiveVideoData:function(){return this.get("playlistData").items[this.get("currentVideoIndex")]},play:function(e,t){"undefined"==typeof e&&"undefined"==typeof t&&this.getCurrentVideoData()?this.get("player").play():this.load(e,t,!0)},pause:function(){this.get("player").pause()},getContainerElement:function(){return e("#"+this.get("playerContainerElementId"))},embed:function(t){return e.Deferred(e.proxy(function(n){this.get("widget").getSettings().done(e.proxy(function(i){if(this.get("playerContainerElementId")!=t){var a=this.get("widget").get("config");this.set("widgetConfig",a),r.loadConfig({adServer:i.settings.ads.server});var o=new(r.getAmpPremier())(t,this.getPlayerConfig(a));this.set({playerContainerElementId:t,player:o});var s=e("#"+this.get("playerContainerElementId"));s.addClass("ndn_videoPlayer"),s.responsiveContainer({feature:"min-width",value:"429px",className:"ndn_videoPlayer_largeView"}),s.responsiveContainer({feature:"max-width",value:"428px",className:"ndn_videoPlayer_smallView"}),s.responsiveContainer({feature:"max-width",value:"1199px",className:"ndn_videoPlayer_view1199"}),s.responsiveContainer({feature:"max-width",value:"1023px",className:"ndn_videoPlayer_view1023"}),s.responsiveContainer({feature:"max-width",value:"767px",className:"ndn_videoPlayer_view767"}),s.responsiveContainer({feature:"max-width",value:"639px",className:"ndn_videoPlayer_view639"}),s.responsiveContainer({feature:"max-width",value:"479px",className:"ndn_videoPlayer_view479"}),this.once("video:ready",e.proxy(function(){this.set({isEmbedded2:!0}),this.trigger("embed"),n.resolve()},this)),p.apply(this,[])}else n.resolve()},this))},this)).promise()},getCurrentTime:function(){return this.get("player").currentTime},getVideoIndexById:function(e){for(var t=this.getVideosData(),n=0;n<t.length;n++){var i=t[n];if(i.videoId==e)return n}return null},getCurrentVideoId:function(){return this.getVideoData(this.get("currentVideoIndex")).videoId},getCurrentPlaylistId:function(){return this.get("playlistId")},loadVideoById:function(e){var t=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.videoId==e)return n}return null}(this.getVideosData());return null!==t&&this.loadVideo(t),this},onceEmbedded:function(e){return this.get("isEmbedded2")?e():this.once("embed",e),this},isEnded:function(){return this.get("player").ended},resetContinuousPlayCounter:function(){this.set({continuousPlays:0})},getPlayerConfig:function(){this.get("widget").get("config");var e={share:{facebook:!0,twitter:!0},feed:{enabled:!0}};return"VideoPlayer/Inline300"==this.get("widget").get("config").type&&(e.flash={xml:c.getTemplate("ndn_assets_small")}),this.get("infoPanelEnabled")||(e.info={enabled:!1}),e},getVideosData:function(){var e=this.get("playlistData");return"undefined"!=typeof e.items?e.items:[]},getVideoData:function(e){var t=this.getVideosData();return"undefined"!=typeof t[e]?t[e]:null},getCurrentVideoData:function(){return this.getVideoData(this.get("currentVideoIndex"))},getNextVideoData:function(){return this.getVideoData(this.get("currentVideoIndex")+1)},getPreviousVideoData:function(){return this.getVideoData(this.get("currentVideoIndex")-1)},getAmpFeedVideoData:function(e,t,n){"undefined"==typeof n&&(n=!1);var i=5,a=6,r="Wed, 03 Aug 2011 10:00:21 -0400",o={"@attributes":{version:"2.0"},channel:{category:"",pubDate:r,language:"en",ttl:"10",item:{title:"NDN - AMP Premier",link:"http://akamai.com/player.html",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc augue sapien, dapibus vitae imperdiet vitae, ullamcorper eget tortor. In lorem eros, porttitor quis commodo et, egestas a odio. Nunc eu augue sit amet dolor malesuada condimentum in eu velit. Donec commodo bibendum egestas. In viverra condimentum dapibus. Praesent molestie, dolor a laoreet cursus, massa sem varius tellus, at consectetur mauris ligula at dolor. Etiam semper augue et risus mattis iaculis tincidunt odio sodales. Vivamus eget elit quis metus pulvinar condimentum. Donec et vestibulum dui. Proin ultricies ligula sed felis pretium at adipiscing tortor bibendum. Morbi et ligula non massa facilisis lacinia. Duis at ligula mauris. Nullam ipsum tortor, lobortis eget adipiscing eu, sagittis eu sapien. Nunc dictum porttitor lobortis. Suspendisse cursus mollis lorem sed ultrices",category:"",pubDate:r,guid:n?"23408962":e.videoId+"","ndn-provider":{id:e.producer.trackingGroup,name:e.producer.name,image:e.producer.logoUrl},"media-group":{"media-content":function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],o={"@attributes":{url:function(){var e=r.url.replace(" ",""),t=/^(rtmp:.*)\.flv$/gi.exec(e);return t&&(e=t[1]),e}(),medium:r.medium,type:r.type,duration:n?a:r.duration,width:640,height:360}},s={"video/mp4":"PDL","video/flv":"RMTP","video/x-flv":"RMTP","application/x-mpeg":"HLS","application/x-mpegURL":"HLS","video/f4m":"HDS"};"undefined"!=typeof s[r.type]&&(o["media-category"]={"@attributes":{schema:"http://mrss.akamai.com/user_agent_hint",label:s[r.type]}}),0==i&&(o["@attributes"].isDefault="true"),t.push(o)}return t}(e.mediaContent),"media-title":e.videoTitle,"media-description":e.description,"media-thumbnail":{"@attributes":{url:e.stillImageUrl,width:t.width||"604",height:t.height||"341"}}}}}},s=this.get("playerData"),l=s.settings.share.enabled&&s.settings.share.socialNetworks.enabled&&e.settings.share.embedCode.enabled;return l&&(o.channel.item["media-group"]["media-embed"]={"@attributes":{url:"http://player.js",width:t.width||"604",height:t.height||"341"},"media-param":{"@attributes":{name:"type"},"#text":"text/javascript"}}),n&&(o.channel.item["media-group"]["akamai-subclip"]={"akamai-start":i+"","akamai-end":i+a+""}),o},getAmpFeedData:function(e){if("undefined"==typeof e)var e=!0;if(e&&this.get("ampFeedData"))return this.get("ampFeedData");for(var t=[],n=this.get("widgetConfig"),i=this.get("playlistData"),a=i.items,r=0;r<a.length;r++){var o=a[r];t.push(this.getAmpFeedVideoData(o,n))}return this.set({ampFeedData:t}),t},getPlaylistId:function(){return this.get("playlistId")},setDefaultPlayOnLoadValue:function(e){return this.set({defaultPlayOnLoadValue:e}),this},setAutoplay:function(e){this.get("player").setAutoplay(e)},setMuted:function(e){this.get("player").setMuted(e)},enableControls:function(){this.get("player").controls.setMode("auto")},setNextPlaylistId:function(e){this.set({nextPlaylistId:e})},getNextPlaylistId:function(){return this.get("nextPlaylistId")},disableControls:function(){this.get("player").controls.setMode("none")},setPlaylistItemsLimit:function(e){this.set({playlistItemsLimit:e})},hasAdsEnabled:function(){return!!this.get("widget").get("config").adsEnabled},isPlaying:function(){return"paused"!=this.get("player").player.playState&&("playing"==this.get("player").player.playState||this.isPlayingAd())},isPlayingAd:function(){return"undefined"!=typeof this.get("player").ads&&this.get("player").ads.getInProgress()},storeDebugData:function(){this.get("isStoringDebugData")}},{getCachedPlaylistData:function(e){return s.getPlaylistData(e,40)}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/AbstractModel",["jquery","backbone","models/Ndn/Widget","models/Ndn/VideoPlayer"],function(e,t,n,i){return n.extend({defaults:{videoPlayer:null},initialize:function(){n.prototype.initialize.apply(this,arguments),this.set({videoPlayer:new i(this)}),this.get("videoPlayer").on("embed",e.proxy(function(){n.trackAnalytics("videoPlayerEmbed",this),this.get("videoPlayer").on("analytics:videoView",e.proxy(function(e){n.trackAnalytics("videoView",{widget:this,percentPlayed:e})},this)),this.get("videoPlayer").on("hook:videoEnd",e.proxy(function(){this.trigger("hook:videoEnd",{})},this)).on("hook:videoPause",e.proxy(function(){this.trigger("hook:videoPause",{currentTime:this.get("videoPlayer").getCurrentTime()})},this)).on("hook:rmmStartRequest",e.proxy(function(){this.trigger("hook:rmmStartRequest",{})},this)),this.get("videoPlayer").on("adEnd",e.proxy(function(){this.get("loyaltyProgram")&&this.get("loyaltyProgram").execute()},this))},this)),this.once("playerData:received",e.proxy(function(e){this.integratePlayerServicesConfigDefaults(e.defaultWidgetConfig)},this))},embed:function(){return e.Deferred(e.proxy(function(t){this.get("view").render(this.getTemplate("default"),{appUrl:n.getAppUrl(),playerContainerElementId:this.getPlayerContainerElementId(),width:this.get("config").width,height:this.get("config").height}),this.get("videoPlayer").embed(this.getPlayerContainerElementId()).done(e.proxy(function(){t.resolve()},this))},this)).promise()},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"},getLandingUrl:function(){return n.getAppUrl()+"/landing-page.html"}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/YouTubeModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoPlayer/AbstractModel","models/Ndn/Timer"],function(e,t,n,i,a,r){return i.extend({defaults:{templatePaths:{"default":"ndn/widget/video-player/default/default",selectableVideos:"ndn/widget/video-player/default/selectableVideos"},playlistItemsLimit:40,videoPlayer:null},initialize:function(){i.prototype.initialize.apply(this,arguments)},embed:function(){console.log("Ndn_Widget_VideoPlayer_YouTubeModel.embed();!");var t=document.createElement("script");t.src="https://www.youtube.com/player_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),onYouTubePlayerAPIReady=e.proxy(function(){this.set("videoPlayer",new YT.Player(this.getContainerElement().attr("id"),{width:"640",height:"390",videoId:"M7lc1UVf-VE"})),new r(e.proxy(function(){console.log(Math.floor(100*this.get("videoPlayer").getVideoLoadedFraction())+"% of the video has played")},this),2e3,0).start()},this)}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/16x9Model",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoPlayer/AbstractModel","models/Ndn/PlayerServices","models/Ndn/VideoPlayer"],function(e,t,n,i,a){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/16x9/default",playlistTabs:"ndn/widget/16x9/playlistTabs",playlistThumbnailsPage:"ndn/widget/16x9/playlistThumbnailsPage"},playlists:[],playlistItemsLimit:36},initialize:function(){a.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit")),this.getSettings().done(e.proxy(function(e){this.set({playlists:e.associatedPlaylists})},this))}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/DefaultModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoPlayer/AbstractModel"],function(e,t,n,i,a){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/video-player/default/default",selectableVideos:"ndn/widget/video-player/default/selectableVideos"},playlistItemsLimit:40},initialize:function(){a.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit"))}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/Inline300Model",["jquery","underscore","require","models/Ndn/Timer","models/Ndn/Widget","models/Ndn/Widget/VideoPlayer/AbstractModel"],function(e,t,n,i,a,r){return r.extend({defaults:{templatePaths:{"default":"ndn/widget/video-player/inline300/default",selectableVideos:"ndn/widget/video-player/inline300/selectableVideos"},isInteractingWithUser:!1,queueScrollSyncCountdown:!1,autoAdvanceTimer:null,playlistItemsLimit:12},initialize:function(){this.set({autoAdvanceTimer:new i(e.proxy(function(){this.trigger("autoAdvance")},this),7e3,0)}),this.on("autoAdvance",e.proxy(function(){var e=3,t=Math.floor(this.get("videoPlayer").get("currentVideoIndex")/e)*e+e;this.get("videoPlayer").getVideoData(t)||(t=0),this.get("videoPlayer").load(t)},this)),r.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit")),this.get("videoPlayer").toggleInfoPanel(!1),this.get("videoPlayer").once("videoTimeUpdate",e.proxy(function(){this.disableAutoAdvance()},this)),this.get("videoPlayer").on("adStart",e.proxy(function(){this.disableAutoAdvance()},this))},isAutoAdvanceEnabled:function(){return this.get("autoAdvanceTimer").isActive()},enableAutoAdvance:function(){this.get("videoPlayer").setDefaultPlayOnLoadValue(!1),this.get("autoAdvanceTimer").reset()},disableAutoAdvance:function(){this.get("videoPlayer").setDefaultPlayOnLoadValue(this.get("config").autoPlay),this.get("autoAdvanceTimer").stop()}})}),Ndn_Require.define("models/Ndn/Widget/VideoPlayer/Inline590Model",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoPlayer/AbstractModel"],function(e,t,n,i,a){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/video-player/inline590/default",selectableVideos:"ndn/widget/video-player/inline590/selectableVideos"},playlistItemsLimit:40},initialize:function(){a.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit"))}})}),Ndn_Require.define("models/Ndn/Widget/VideoLauncher/AbstractModel",["jquery","backbone","models/Ndn/Widget","models/Ndn/VideoPlayer","models/Ndn/Utils/UserAgent"],function(e,t,n,i,a){return n.extend({defaults:{videoPlayer:null},initialize:function(){n.prototype.initialize.apply(this,arguments),a.isAbleToPlayVideoAutomatically()||this.set("config",_.extend(this.get("config"),{adsEnabled:!1}))},initializeVideoPlayer:function(){this.set({videoPlayer:new i(this)}),this.on("playerData:received",e.proxy(function(e){this.integratePlayerServicesConfigDefaults(e.defaultWidgetConfig)},this)),this.get("videoPlayer").on("embed",e.proxy(function(){this.get("videoPlayer").loadPlaylist(this.get("config").playlistId).done(e.proxy(function(){this.onceConfigIsComplete(e.proxy(function(){a.isAbleToPlayVideoAutomatically()?this.get("videoPlayer").playRmm():this.get("videoPlayer").setDefaultPlayOnLoadValue(!1).load()},this))},this))},this))},embed:function(){return e.Deferred(e.proxy(function(){this.get("view").render(this.getTemplate("default"),{playerContainerElementId:this.getPlayerContainerElementId()}),this.get("videoPlayer").embed(this.getPlayerContainerElementId())},this)).promise()},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"},getLandingPageUrl:function(){return"http://"+n.getAppDomain()+"/"}})}),Ndn_Require.define("models/Ndn/Widget/VideoLauncher/VerticalTowerModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoLauncher/AbstractModel","models/Ndn/PlayerServices","models/Ndn/VideoPlayer","models/Ndn/Utils/UrlParser","models/Ndn/Utils/UserAgent"],function(e,t,n,i,a,r,o,s){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/vertical/default"},playlistItemsLimit:15},initialize:function(n){a.prototype.initialize.apply(this,arguments);var o=this.get("playlistItemsLimit");this.on("change:templates",function(){r.getPlayerData(n.widgetId,n.trackingGroup,n.playlistId,"",o).done(e.proxy(function(e){this.integratePlayerServicesConfigDefaults(e.defaultWidgetConfig),this.set({playlistData:e.playlists[t.first(t.keys(e.playlists))],playerData:e});var a=t.map(this.get("playlistData").items,function(e){var n={widgetId:this.attributes.widgetId,type:"16x9",trackingGroup:this.attributes.trackingGroup,playlistId:this.attributes.playlistId,videoId:e.videoId};return e=t.extend(e,{playerConfig:n})}.bind(this)),r="ndn_horizontalLarge";n.width&&n.width<=425&&(r="ndn_horizontalSmall"),this.get("view").render(this.getTemplate("default"),{playlistItems:a,playerContainerElementId:this.getPlayerContainerElementId(),launcherSize:r,lessc:"dynamic"==s.getUrlVar("lessc")?"&lessc=dynamic":"",landingPageUrl:this.getLandingPageUrl(),appUrl:i.getAppUrl(),embedOriginUrl:encodeURIComponent(i.getEmbedOriginUrl())})},this))})},embed:function(){return e.Deferred(e.proxy(function(){this.get("view").render(this.getTemplate("default"),{playerContainerElementId:this.getPlayerContainerElementId()})},this)).promise()},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"}})}),Ndn_Require.define("models/Ndn/Widget/VideoLauncher/Slider300x250Model",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoLauncher/AbstractModel","models/Ndn/PlayerServices","models/Ndn/VideoPlayer"],function(e,t,n,i,a){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/slider300x250/default",selectableVideos:"ndn/widget/slider300x250/selectableVideos"},playlistItemsLimit:15},initialize:function(){this.initializeVideoPlayer(),a.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit"))},embed:function(){return e.Deferred(e.proxy(function(){this.get("view").render(this.getTemplate("default"),{landingPageUrl:this.getLandingPageUrl(),playerContainerElementId:this.getPlayerContainerElementId(),width:this.get("config").width,height:this.get("config").height}),this.get("videoPlayer").embed(this.getPlayerContainerElementId(),this.get("config"))},this)).promise()},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"},getCurrentPlaylistLength:function(){return this.get("videoPlayer").get("playlistData").items.length}})}),Ndn_Require.define("models/Ndn/Widget/VideoLauncher/HorizontalModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/Widget/VideoLauncher/AbstractModel","models/Ndn/PlayerServices","models/Ndn/VideoPlayer","models/Ndn/Utils/UrlParser","models/Ndn/Utils/UserAgent"],function(e,t,n,i,a,r,o,s){return a.extend({defaults:{templatePaths:{"default":"ndn/widget/horizontal/default"},playlistItemsLimit:12,carousel:null,carouselMaxSlides:null,carouselNumberOfSlides:null},initialize:function(){a.prototype.initialize.apply(this,arguments)},embed:function(){var n=this.get("config"),a=this.get("playlistItemsLimit");return e.Deferred(e.proxy(function(){this.getSettings().done(e.proxy(function(e){this.integratePlayerServicesConfigDefaults(e.defaultWidgetConfig),this.set({playlistData:e.playlists[t.first(t.keys(e.playlists))],playerData:e});var o=t.first(this.get("playlistData").items,12);o=t.map(o,function(e){var n={widgetId:this.attributes.widgetId,type:"VideoPlayer/16x9",trackingGroup:this.attributes.trackingGroup,playlistId:this.attributes.config.playlistId,videoId:e.videoId};return e=t.extend(e,{playerConfig:n})}.bind(this)),o.length<a?r.getPlayerData(this.attributes.widgetId,this.attributes.trackingGroup,i.getFallbackPlaylist(),"",a).done(function(e){additionalPlaylist=t.first(e.playlists[t.first(t.keys(e.playlists))].items,12-o.length),additionalPlaylist=t.map(additionalPlaylist,function(e){var n={widgetId:this.attributes.widgetId,type:"VideoPlayer/16x9",playlistId:i.getFallbackPlaylist(),trackingGroup:this.attributes.trackingGroup,videoId:e.videoId};return e=t.extend(e,{playerConfig:n})}.bind(this)),o=o.concat(additionalPlaylist),this.renderPlaylist(o,n)}.bind(this)):this.renderPlaylist(o,n)},this))},this)).promise()},renderPlaylist:function(e,t){var n=this.getContainerElement(),a=n.width()<=425?"ndn_horizontalSmall":"ndn_horizontalLarge";t.width&&(a=t.width<=425?"ndn_horizontalSmall":"ndn_horizontalLarge"),this.get("view").render(this.getTemplate("default"),{playlistItems:e,playerContainerElementId:this.getPlayerContainerElementId(),launcherSize:a,lessc:"dynamic"==s.getUrlVar("lessc")?"&lessc=dynamic":"",landingPageUrl:this.getLandingPageUrl(),appUrl:i.getAppUrl(),embedOriginUrl:encodeURIComponent(i.getEmbedOriginUrl())})},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"}})}),Ndn_Require.define("models/Ndn/Widget/VideoLauncher/Playlist300x250Model",["jquery","underscore","require","models/Ndn/Widget/VideoLauncher/AbstractModel","models/Ndn/VideoPlayer"],function(e,t,n,i){return i.extend({defaults:{templatePaths:{"default":"ndn/widget/playlist300x250/default",selectableVideos:"ndn/widget/playlist300x250/selectableVideos",playlistSelect:"ndn/widget/playlist300x250/playlistSelect"},playlistItemsLimit:15},initialize:function(){this.initializeVideoPlayer(),i.prototype.initialize.apply(this,arguments),this.get("videoPlayer").setPlaylistItemsLimit(this.get("playlistItemsLimit"))},getPlayerContainerElementId:function(){return this.get("widgetUid")+"-player"},getPlaylistsList:function(){return t.map(this.get("videoPlayer").get("playerData").associatedPlaylists,function(e){return this.get("videoPlayer").get("playlistId")==e.id&&(e.currentPlaylist=!0),t.pick(e,"id","label","currentPlaylist")}.bind(this))},chunkPlaylist:function(e,n,i){e=t.first(e,i);for(var a=new Array(i/n),r=0;r<a.length;r++)a[r]=new Array;return t.each(e,function(e,t){a[Math.floor(t/n)].push(e)}),t.filter(a,function(e){return e.length})}})}),Ndn_Require.define("jquery_autoellipsis",["jquery"],function(e){!function(e){function t(t){void 0===window.ndn_ellipsis_handler&&(window.ndn_ellipsis_handler=new EllipsisResizeHandler,e(window).on("resize",function(){clearTimeout(window.ndnResizeTimeout),window.ndnResizeTimeout=setTimeout(function(){window.ndn_ellipsis_handler.onResize.call(window.ndn_ellipsis_handler)},100)})),t.each(function(){window.ndn_ellipsis_handler.$elements=window.ndn_ellipsis_handler.$elements.add(this)})}function n(t,n){var o=t.data("jqae");o||(o={});var s=o.wrapperElement;s||(s=t.wrapInner("<div/>").find(">div"),s.css({margin:"-1px 0 0 0",padding:0,border:0}));var l=s.data("jqae");l||(l={});var d=l.originalContent;d?s=l.originalContent.clone(!0).data("jqae",{originalContent:d}).replaceAll(s):s.data("jqae",{originalContent:s.clone(!0)}),t.data("jqae",{wrapperElement:s,containerWidth:t.width(),containerHeight:t.height()});var u=t.height(),c=(parseInt(t.css("padding-top"),10)||0)+(parseInt(t.css("border-top-width"),10)||0)-(s.offset().top-t.offset().top),p=!1,h=s;n.selector&&(h=e(s.find(n.selector).get().reverse())),h.each(function(){var t=e(this),o=t.text(),l=!1;if(s.innerHeight()-t.innerHeight()>u+c)t.remove();else if(r(t),t.contents().length){if(p&&(a(t).get(0).nodeValue+=n.ellipsis,p=!1),1==t.contents().length){if(void 0===t.data("jaelh")){var d=s.attr("style"),h=s.html();s.attr("style","height: auto; padding: 0;").html("&nbsp;"),s.data("jaelh",s.innerHeight()),s.html(h),void 0!==d?s.attr("style",d):s.removeAttr("style")}var m=u+c+t.data("jaelh"),f=s.innerHeight(),g=m/f;if(1>g){var y=a(t),v=y.get(0).nodeValue.split(" ");y.get(0).nodeValue=_.first(v,Math.ceil(v.length*g)).join(" ")}}for(;s.innerHeight()>u+c;){if(l=i(t),!l){p=!0,t.remove();break}if(r(t),!t.contents().length){p=!0,t.remove();break}a(t).get(0).nodeValue+=n.ellipsis}"onEllipsis"==n.setTitle&&l||"always"==n.setTitle?t.attr("title",o):"never"!=n.setTitle&&t.removeAttr("title")}})}function i(t){var n=a(t);if(n.length){var i=n.get(0).nodeValue,r=i.lastIndexOf(" ");return r>-1?(i=e.trim(i.substring(0,r)),n.get(0).nodeValue=i):n.get(0).nodeValue="",!0}return!1}function a(e){if(e.contents().length){var t=e.contents(),n=t.eq(t.length-1);return n.filter(o).length?n:a(n)}e.append("");var t=e.contents();return t.eq(t.length-1)}function r(t){if(t.contents().length){var n=t.contents(),i=n.eq(n.length-1);if(i.filter(o).length){var a=i.get(0).nodeValue;return a=e.trim(a),""==a?(i.remove(),!0):!1}for(;r(i););return i.contents().length?!1:(i.remove(),!0)}return!1}function o(){return 3===this.nodeType}function s(e,t){c[e]=t,u||(u=window.setInterval(function(){d()},200))}function l(e){c[e]&&(delete c[e],c.length||u&&(window.clearInterval(u),u=void 0))}function d(){if(!p){p=!0;for(var t in c)e(t).each(function(){var i,a;i=e(this),a=i.data("jqae"),(a.containerWidth!=i.width()||a.containerHeight!=i.height())&&n(i,c[t])});p=!1}}EllipsisResizeHandler=function(){this.$elements=e(),this.onResize=function(){this.$elements.ellipsis()}};var u,c={},p=!1,h={ellipsis:"...",setTitle:"never",live:!1};e.fn.ellipsis=function(i,a){var r,o;return r=e(this),"string"!=typeof i&&(a=i,i=void 0),o=e.extend({},h,a),o.selector=i,r.each(function(){var t=e(this);n(t,o)}),o.live?s(r.selector,o):l(r.selector),o.updateOnWindowResize&&t(r),this}}(e)}),Ndn_Require.define("jquery_responsive_containers",["jquery","jquery_resize"],function(e){!function(e){var t={feature:"min-width",value:"800px",className:"",callback:null};e.fn.responsiveContainer=function(n){if("undefined"==typeof n.feature)throw new Error('Responsive container error: No "feature" supplied, such as min-width.');if("undefined"==typeof n.value)throw new Error('Responsive container error: No "value" supplied, such as 800px.');if("undefined"==typeof n.className&&"undefined"==typeof n.callback)throw new Error('Responsive container error: No "className" or "callback" supplied, one or the other is needed, else theres no use.');var i=e.extend({},t,n);return this.each(function(){var t=e(this),n=function(){var e=!1,n=t.width();switch(""!==i.className&&t.removeClass(i.className),i.feature){case"min-width":i.value.replace("px","")<n&&(e=!0);break;case"max-width":i.value.replace("px","")>n&&(e=!0)}e&&(""!==i.className&&t.addClass(i.className),null!==i.callback&&i.callback({width:n}))};e(this).resize(n),n()})}}(e)}),Ndn_Require.define("views/Ndn/AbstractView",["jquery","backbone","mustache","jquery_autoellipsis","jquery_responsive_containers"],function(e,t){return t.View.extend({slides:1,initialize:function(){},loadImagesForSlide:function(t,n){var i=t*this.slides;_.isUndefined(n)?this.$el.find('li.ndn_selectableVideo:not(".ndn_carousel-clone")').filter(":eq("+i+"), :gt("+i+"):lt("+(this.slides-1)+")").each(function(t,n){var i=e(n).data("videoId");this.$el.find('li[data-video-id="'+i+'"] img:not(".ndn_providerLogo")').attr("src",this.$el.find('li[data-video-id="'+i+'"] img:not(".ndn_providerLogo")').data("src")),this.$el.find('li[data-video-id="'+i+'"] img.ndn_providerLogo').attr("src",this.$el.find('li[data-video-id="'+i+'"] img.ndn_providerLogo').data("src"))}.bind(this)):this.$el.find('li:not(".ndn_carousel-clone") '+n+" li").filter(":eq("+i+"), :gt("+i+"):lt("+(this.slides-1)+")").each(function(t,n){var i=e(n).data("videoId");this.$el.find('li[data-video-id="'+i+'"] img:not(".ndn_providerLogo")').attr("src",this.$el.find('li[data-video-id="'+i+'"] img:not(".ndn_providerLogo")').data("src")),this.$el.find('li[data-video-id="'+i+'"] img.ndn_providerLogo').attr("src",this.$el.find('li[data-video-id="'+i+'"] img.ndn_providerLogo').data("src"))}.bind(this))},render:function(e,t,n){var i,a=e(t);if(n===!0)i=a;else{var r=n?this.$el.find(n):this.$el;r.html(a)}return this.trigger("render",{template:e,params:t,selector:n}),i},displayCompanionAd:function(t,n){if(-1!==n.indexOf("<html")){var i,a;t.html(i=e(document.createElement("iframe")).css({width:"300px",height:"250px"})),a=i.get(0).contentWindow.document,a.open(),a.write(n),a.close()}else t.html(n)}})}),Ndn_Require.define("text!templates/ndn/shared/endslate.mustache",[],function(){return'<div class="ndn_endslateContainer"> {{^mediaIsBlocked}}\n    <div class="ndn_endslateClickSurface"></div>\n    {{#showUnavailableAlert}}\n    <div class="ndn_endslateAlertUnavailable">The requested video is no longer available</div>\n    {{/showUnavailableAlert}}\n    <h1 class="ndn_upNextHeader"><span class="ndn_upNextLabel">Up Next: </span> <span class="ndn_upNextTitle">{{upNextTitle}}</span></h1>\n     <p class="ndn_upNextDescription">{{upNextDescription}}</p> \n    {{#showCountdown}}\n    <div class="ndn_startsInContainer">\n        <h3 class="ndn_startsInLabel"> Starts In: </h3>\n        <span class="ndn_startsInCountdown"> {{countdownValue}} </span> </div>\n    {{/showCountdown}}\n    {{#justWatchedVideoId}}\n    <div class="ndn_previousVideo">\n        <div class="ndn_justWatchedContainer">\n            <div class="ndn_justWatchedThumbnail"> <img src="{{justWatchedThumbnail}}"/> </div>\n            <div class="ndn_justWatchedSummary">\n                <h3> Just Watched </h3>\n                <p class="ndn_justWatchedTitle"> {{justWatchedTitle}} </p>\n            </div>\n        </div>\n        <div class="ndn_endslateControlBar">\n            <div class="ndn_shareButtonContainer addthis_toolbox">\n                <ul>\n                    <li class="ndn_endslateShareButton ndn_endslateShareButtonFacebook" data-provider="facebook"></li>\n                    <li class="ndn_endslateShareButton ndn_endslateShareButtonTwitter" data-provider="twitter"></li>\n                    <li class="ndn_endslateShareButton ndn_endslateShareButtonEmail"><a class="addthis_button_email ndn_a_shareEmail" addthis:url="http://landing.newsinc.com/shared/video.html?vcid={{justWatchedVideoId}}&freewheel=91417&sitesection=dash" addthis:title="Check out this video: \'{{justWatchedTitle}}\'" addthis:description="{{justWatchedDescription}}"></a></li>\n                    <li class="ndn_endslateShareButton ndn_endslateShareButtonShare"></a> </li>\n                </ul>\n            </div>\n            <div class="ndn_replayButton"> Replay </div>\n        </div>\n    </div>\n    {{/justWatchedVideoId}}\n    {{/mediaIsBlocked}}\n    {{#mediaIsBlocked}}\n    <h1 class="ndn_endslateMediaBlocked">We\'re sorry but this video cannot be played from your location.</h1>\n    {{/mediaIsBlocked}} </div>\n<img class="ndn_endslateBackground" src="{{backgroundImage}}"/>'}),Ndn_Require.define("models/Ndn/Shared/EndslateModel",["jquery","underscore","require","backbone","models/Ndn/Widget","models/Ndn/PlayerServices","models/Ndn/VideoPlayer","mustache","text!templates/ndn/shared/endslate.mustache"],function(e,t,n,i,a,r,o,s,l){var d=function(){null!==this.get("countdownInterval")&&(clearInterval(this.get("countdownInterval")),this.set("countdownInterval",null))};return i.Model.extend({defaults:{widget:null,videoPlayer:null,type:null,countdownInterval:null,countdownValue:null,nextVideoData:null,view:null},initialize:function(t,n){this.set({widget:t.videoPlayer.get("widget"),videoPlayer:t.videoPlayer,countdownValue:t.countdownValue||5,type:t.type,view:n}),this.get("widget").on("videoSelect",e.proxy(function(){d.call(this)},this)),this.getNextVideoData().done(e.proxy(function(e){this.set("nextVideoData",e),this.get("view").render(this.getTemplate(),this.getTemplateData())},this)).fail(e.proxy(function(){},this)),this.displaysCountdown()&&this.countdownToNextPlaylist()},getTemplateData:function(){var e=this.get("videoPlayer").getCurrentVideoData(),n=this.get("nextVideoData"),i={upNextTitle:n.videoTitle,upNextDescription:n.description,backgroundImage:n.thumbnailUrl,showUnavailableAlert:"videoNotAvailable"==this.get("type"),showCountdown:this.displaysCountdown(),mediaIsBlocked:"mediaBlocked"==this.get("type"),countdownValue:this.get("countdownValue")};return e&&(i=t.extend(i,{justWatchedVideoId:e.videoId,justWatchedTitle:e.videoTitle,justWatchedDescription:e.description,justWatchedThumbnail:e.thumbnailUrl})),i},transitionsToNewPlaylist:function(){return t.contains(["endOfPlaylist","videoNotAvailable","isolatedVideoEnd"],this.get("type"))},displaysCountdown:function(){return"isolatedVideoEnd"!=this.get("type")||this.get("widget").get("config").continuousPlay?t.contains(["endOfPlaylist","videoNotAvailable","isolatedVideoEnd"],this.get("type")):!1},getNextVideoData:function(){return e.Deferred(e.proxy(function(t){var n=this.get("videoPlayer").getNextVideoData();if(n)return t.resolve(n);var i=this.get("videoPlayer").getNextPlaylistId();r.getPlaylistData(i,this.get("widget")).fail(t.reject).done(e.proxy(function(e){t.resolve(e.items[0])},this))},this)).promise()},countdownToNextPlaylist:function(){this.set("countdownInterval",setInterval(function(){this.get("countdownValue")<=0&&this.trigger("endslateFinished"),this.decrementCountdownValue()
}.bind(this),1e3)),this.on("endslateFinished",function(){d.call(this),this.playNextVideo()}.bind(this))},replayLastVideo:function(){d.call(this),this.get("videoPlayer").play(this.get("videoPlayer").get("currentVideoIndex"))},playNextVideo:function(){this.transitionsToNewPlaylist()?this.get("videoPlayer").play(0,this.get("videoPlayer").getNextPlaylistId()):"playlistPause"==this.get("type")?this.get("videoPlayer").play(this.get("videoPlayer").get("currentVideoIndex")+1):this.get("videoPlayer").play()},getTemplate:function(){return function(e){return s.to_html(l,e)}},decrementCountdownValue:function(){this.set("countdownValue",Math.max(0,this.get("countdownValue")-1))},canShowEmailButton:function(){var e=this.get("videoPlayer").get("playerData").settings.share.email.enabled;return e},canShowSocialButton:function(){var e=this.get("videoPlayer").get("playerData").settings.share.socialNetworks.enabled;return e},cancelCountdown:function(){d.call(this)}})}),Ndn_Require.define("models/Ndn/SocialSharing/AddThisModel",["jquery","require","backbone"],function(e,t,n){var i=!1,a=function(e){i?e():r.once("addThisLoaded",e)},r=new n.Model,o=0,s={toolbox:function(t){a(function(){t.each(function(t,n){var i=e(n),a=i.attr("id");i.attr("id")||(a="ndn_addThis_toolboxElement_"+ ++o,i.attr("id",a)),addthis.toolbox("#"+a)})})}};return Ndn_Require.require(["addThis"],function(){i=!0,r.trigger("addThisLoaded")}),s}),Ndn_Require.define("views/Ndn/Shared/EndslateView",["jquery","views/Ndn/AbstractView","models/Ndn/Shared/EndslateModel","models/Ndn/Widget","models/Ndn/SocialSharing/AddThisModel"],function(e,t,n,i,a){return t.extend({events:{"click .ndn_replayButton, .ndn_justWatchedContainer":"onReplayClick","click .ndn_endslateShareButtonFacebook, .ndn_endslateShareButtonTwitter":"onViralShareClick","click .ndn_endslateShareButtonShare":"onShareClick","click .ndn_endslateClickSurface":"onSurfaceClick"},getWidgetContainerElement:function(){return this.getWidget().get("view").$el},getWidget:function(){return this.config.videoPlayer.get("widget")},initialize:function(e){this.config=e,this.model=new n(e,this),this.model.on("endslateFinished",function(){this.trigger("endslateFinished"),this.$el.after(this.$el.clone(!1,!1).empty()),this.$el.remove()}.bind(this)),this.model.on("change:countdownValue",function(){this.$el.find(".ndn_startsInCountdown").html(this.model.get("countdownValue"))}.bind(this)),this.$el.height()<300&&this.$el.find(".ndn_upNextDescription").ellipsis(),this.$el.height()<250&&this.$el.find(".ndn_justWatchedContainer").hide(),a.toolbox(this.getWidgetContainerElement().find(".addthis_toolbox")),this.model.canShowEmailButton()||this.$el.find(".ndn_endslateShareButtonEmail").hide(),this.model.canShowSocialButton()||this.$el.find(".ndn_endslateShareButtonFacebook, .ndn_endslateShareButtonTwitter, .ndn_endslateShareButtonShare").hide()},onReplayClick:function(){this.trigger("endslateReplay"),this.model.replayLastVideo(),this.$el.after(this.$el.clone(!1,!1).empty()),this.remove()},onShareClick:function(){this.trigger("endslateShare"),this.model.cancelCountdown()},onViralShareClick:function(t){var n=this.model.get("videoPlayer").getCurrentVideoData(),i="ra-518bbde23f7ed2a9",a=encodeURIComponent("http://social.newsinc.com/media/json/"+n.producer.trackingGroup+"/"+n.videoId+"/singleVideoOG.html?type=VideoPlayer/16x9&videoId="+n.videoId),r="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url="+a+"&title="+n.videoTitle+"&description="+n.description+"&pubid="+i+"&ct=1",o="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url="+a+"&title="+n.videoTitle+"&pubid="+i+"&ct=1";"facebook"==e(t.currentTarget).data("provider")&&window.open(o),"twitter"==e(t.currentTarget).data("provider")&&window.open(r)},onSurfaceClick:function(){this.trigger("endslateFinished"),this.model.playNextVideo(),this.$el.after(this.$el.clone(!1,!1).empty()),this.remove()}})}),Ndn_Require.define("text!templates/ndn/shared/share.mustache",[],function(){return'<div class="ndn_shareContainer ndn_shareTabs">\n    <header class="ndn_shareHeader">\n        <ul class="ndn_shareText ndn_nav ndn_nav-tabs">\n            <li class="ndn_active ndn_shareTab1"><a href="#ndn_shareTab1" data-toggle="tab"><span class="ndn_tabCopy">Share Video</span></a></li>\n            <li class="ndn_shareTab2"><a href="#ndn_shareTab2" data-toggle="tab"><span class="ndn_tabCopy">Link &amp; Embed</span></a></li>\n        </ul>\n        <div class="ndn_closeShare"></div>\n    </header>\n    <div class="ndn_shareWrapper ndn_tab-content">\n        <div id="ndn_shareTab1" class="ndn_tab-pane ndn_active">\n            <div class="ndn_shareVideoInfo">\n                <div class="ndn_shareVideoStillWrap"> <img class="ndn_shareVideoStill" src="{{shareThumb}}" alt="{{shareTitle}}" title="{{shareTitle}}" /></div>\n                <p class="ndn_shareVideoDescription">{{shareTitle}}</p>\n            </div>\n            <div class="ndn_shareButtons addthis_toolbox addthis_default_style">\n                <ul class="ndn_shareButtonsList">\n                    <li class="ndn_mainShareButtons ndn_shareFacebook"><a class="ndn_a_shareFacebook" target="_new" href="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url={{singleVideoFeedEncoded}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_mainShareButtons ndn_shareTwitter"><a class="ndn_a_shareTwitter" target="_new" href="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_mainShareButtons ndn_shareEmail"><a class="addthis_button_email ndn_a_shareEmail" addthis:url="{{singleVideoFeed}}" addthis:title="Check out this video: \'{{shareTitle}}\'" addthis:description="{{shareDescription}}"></a></li>\n                </ul>\n                <ul class="ndn_shareButtonsList">\n                    <li class="ndn_sharePinterest"><a class="ndn_a_pinterest" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/pinterest/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareTumblr"><a class="ndn_a_shareTumblr" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/tumblr/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareLinkedin"><a class="ndn_a_shareLinkedin" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/linkedin/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareReddit"><a class="ndn_a_shareReddit" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/reddit/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareGmail"><a class="ndn_a_shareGmail" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/gmail/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareBlogger"><a class="ndn_a_shareBLogger" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/blogger/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareStumbleupon"><a class="ndn_a_shareStumbleupon" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/stumbleupon/offer?url={{singleVideoFeedEncoded}}&title={{shareTitle}}&description={{shareDescription}}&screenshot={{shareThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                    <li class="ndn_shareGooglePlus"><a class="ndn_a_shareGooglePLus" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/google_plusone_share/offer?url={{singleVideoFeedEncoded}}&pubid={{pubId}}&ct=1"></a></li>\n                </ul>\n            </div>\n        </div>\n        <div id="ndn_shareTab2" class="ndn_shareCopyButtons ndn_tab-pane">\n        	<span class="ndn_embedText">Linking and embedding are disabled for this video.</span>\n            <span class="ndn_shareCopyEmbedCode ndn_linkEmbed">\n            	<label for="ndn_shareCopyEmbedCodeText">Copy video embed code:</label>\n				<textarea class="ndn_shareCopyEmbedCodeText" id="ndn_shareCopyEmbedCodeText">{{embedCode}}</textarea>\n            </span> \n            <span class="ndn_shareCopyVideoLink ndn_linkEmbed">\n            	<label for="ndn_shareCopyVideoLinkText">Copy video link:</label>\n				<textarea class="ndn_shareCopyVideoLinkText" id="ndn_shareCopyVideoLinkText">{{videoLink}}</textarea>\n            </span> </div>\n    </div>\n    <div class="ndn_sharePrivacyPolicy"> <a href="http://www.newsinc.com/privacypolicy.html" target="_blank">Privacy Policy</a> &nbsp; | &nbsp; <a href="http://www.newsinc.com/termsofuse.html" target="_blank">Terms of Use</a></div>\n</div>\n'}),Ndn_Require.define("models/Ndn/Shared/ShareModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/PlayerServices","mustache","text!templates/ndn/shared/share.mustache"],function(e,t,n,i,a,r,o){return i.extend({defaults:{videoPlayer:null},initialize:function(e){i.prototype.initialize.apply(this,arguments),this.videoPlayer=e.videoPlayer,this.videoPlayer.get("widgetConfig")},getEmbedCode:function(){var e=this.get("videoPlayer").get("widget"),t=e.get("config"),n=this.get("videoPlayer").getCurrentVideoData(),i=this.get("videoPlayer").getCurrentPlaylistId();return'<iframe width="590" height="332" src="http://launch.newsinc.com/?type=VideoPlayer/Default&widgetId=1&trackingGroup=69016'+(t.siteSection?"&siteSection="+t.siteSection:"")+"&videoId="+n.videoId+(i?"&playlistId="+i:"")+'" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"></iframe>'},getDirectLink:function(){var e=this.get("videoPlayer").get("widget"),t=e.get("config"),n=this.get("videoPlayer").get("playerData").settings.share.directLink,a=this.get("videoPlayer").getCurrentVideoData(),r=(this.get("videoPlayer").get("playlistId"),n.needsLegacySupport?i.getDefaultUrlVarPrefixForConfigSettings():""),o="&freewheel="+t.trackingGroup+"&sitesection="+t.siteSection+"&vid="+a.videoId,s=n.landingPageUrl;return-1===s.indexOf("?")&&(s+="?"),s+r+"trackingGroup="+e.get("config").trackingGroup+(t.siteSection?"&"+r+"siteSection="+t.siteSection:"")+"&"+r+"videoId="+a.videoId+(n.needsLegacySupport?o:"")},setCurrentVideoData:function(){this.get("config").videoPlayer.attributes.widgetConfig;var e=this.get("videoPlayer").getCurrentVideoData(),t=i.getAppUrl(),n="http://social.newsinc.com/media/json/69017/"+e.videoId+"/singleVideoOG.html?type=VideoPlayer/16x9&videoId="+e.videoId;return this.currentVideoData={shareTitle:e.videoTitle,shareDescription:e.description,shareThumb:e.thumbnailUrl,shareVideoId:e.videoId,pubId:"ra-518bbde23f7ed2a9",singleVideoFeed:n,singleVideoFeedEncoded:encodeURIComponent(n),videoBaseUrl:t,embedCode:this.getEmbedCode(),videoLink:this.getDirectLink()},this.currentVideoData},canShowEmailButton:function(){var e=this.get("videoPlayer").get("playerData").settings.share.email.enabled;return e},canShowSocialButton:function(){var e=this.get("videoPlayer").get("playerData").settings.share.socialNetworks.enabled;return e},canShowEmbedButton:function(){var e=this.get("videoPlayer").getCurrentVideoData().settings.share.embedCode.enabled;return e},getTemplate:function(){return function(e){return r.to_html(o,e)}}})}),Ndn_Require.define("bootstrap_tabs",["jquery"],function(e){!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,a=this.element,r=a.closest("ul:not(.dropdown-menu)"),o=a.attr("data-target");o||(o=a.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),a.parent("li").hasClass("ndn_active")||(t=r.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),a.trigger(i),i.isDefaultPrevented()||(n=e(o),this.activate(a.parent("li"),r),this.activate(n,n.parent(),function(){a.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function a(){r.removeClass("ndn_active").find("> .ndn_dropdown-menu > .ndn_active").removeClass("ndn_active"),t.addClass("ndn_active"),o?(t[0].offsetWidth,t.addClass("ndn_in")):t.removeClass("ndn_fade"),t.parent(".ndn_dropdown-menu")&&t.closest("li.ndn_dropdown").addClass("ndn_active"),i&&i()}var r=n.find("> .ndn_active"),o=i&&e.support.transition&&r.hasClass("ndn_fade");o?r.one(e.support.transition.end,a):a(),r.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),a=i.data("tab");a||i.data("tab",a=new t(this)),"string"==typeof n&&a[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.ndn_tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(e)}),Ndn_Require.define("views/Ndn/Shared/ShareView",["jquery","views/Ndn/AbstractView","models/Ndn/Shared/ShareModel","models/Ndn/SocialSharing/AddThisModel","bootstrap_tabs"],function(e,t,n,i){return t.extend({initialize:function(e){this.config=e,this.model=new n(e),this.shareInfo("share",".ndn_shareOverlay")},getWidgetContainerElement:function(){return this.config.videoPlayer.get("widget").get("view").$el},shareInfo:function(){var e=this.model.get("videoPlayer"),t=e.getCurrentVideoData();t.settings.share.embedCode.enabled;var n=e.attributes.playerContainerElementId;e.pause(),this.render(this.model.getTemplate("share"),this.model.setCurrentVideoData()),this.$el.prependTo("#"+n).show(),this.$el.find(".ndn_shareVideoDescription").ellipsis({updateOnWindowResize:!0}),i.toolbox(this.getWidgetContainerElement().find(".addthis_toolbox")),this.model.canShowEmailButton()||(this.$el.find(".ndn_shareEmail").hide(),this.$el.find(".ndn_shareFacebook").addClass("ndn_shareNoEmail")),this.model.canShowSocialButton()||(this.$el.find(".ndn_shareTab1").hide(),this.$el.find("#ndn_shareTab1").removeClass("ndn_active"),this.$el.find(".ndn_shareTab2").show(),this.$el.find(".ndn_shareTab2").addClass("ndn_active"),this.$el.find("#ndn_shareTab2").addClass("ndn_active")),this.model.canShowEmbedButton()?(this.$el.find(".ndn_linkEmbed").show(),this.$el.find(".ndn_embedText").hide()):(this.$el.find(".ndn_linkEmbed").hide(),this.$el.find(".ndn_embedText").show())}})}),Ndn_Require.define("text!templates/ndn/shared/pause.mustache",[],function(){return'<div class="ndn_pauseOverlay">\n    <div class="ndn_pauseVideoInfo">\n        <h1>{{currentTitle}}</h1>\n        <p>{{currentDescription}}</p>\n        <img class="ndn_pauseVideoLogo" src="{{producerLogo}}"></img>\n    </div>\n    <div class="ndn_pausePrevNextButtons">\n        <div class="ndn_pausePrevNextButton ndn_pausePrev">\n            <div class="ndn_pausePrevNextHeader ndn_pausePrevHeader">Previous</div>\n            <div class="ndn_prevNextImageWrap"><img class="ndn_upPrevLink" src="{{prevThumb}}"  data-video-id="{{videoId}}" title="{{prevTitle}}" data-video-index="{{prevVideoIndex}}" />\n                <div class="ndn_pauseStateDuration ndn_durationMinutes ndn_js_prevDuration">{{prevDuration}}</div>\n            </div>\n            <div class="ndn_videoMetaPause">\n                <div class="ndn_pausePrevDescription">{{prevTitle}}</div>\n            </div>\n        </div>\n        <div class="ndn_pausePrevNextButton ndn_pauseNext">\n            <div class="ndn_pausePrevNextHeader ndn_pauseNextHeader">Up Next</div>\n            <div class="ndn_prevNextImageWrap"><img class="ndn_upNextLink" src="{{nextThumb}}"  data-video-id="{{videoId}}" title="{{nextTitle}}" data-video-index="{{nextVideoIndex}}" />\n                <p class="ndn_pauseStateDuration ndn_durationMinutes ndn_js_nextDuration">{{nextDuration}}</p>\n            </div>\n            <div class="ndn_videoMetaPause">\n                <div class="ndn_pauseNextDescription">{{nextTitle}}</div>\n            </div>\n        </div>\n    </div>\n    {{#sharingEnabled}}\n    <div class="addthis_toolbox ndn_pauseShare">\n        <ul>\n            <li class="ndn_pauseShareFacebookPause"><a class="ndn_a_shareFacebook" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url={{singleVideoFeed}}&title={{currentTitle}}&pubid={{pubId}}&ct=1"></a></li>\n            <li class="ndn_pauseShareTwitterPause"><a class="ndn_a_shareTwitter" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url={{singleVideoFeed}}&title={{currentTitle}}&description={{currentDescription}}&screenshot={{currentThumb}}&pubid={{pubId}}&ct=1"></a></li>\n            <li class="ndn_pauseShareEmailPause"><a class="addthis_button_email ndn_a_shareEmail" addthis:url="{{singleVideoFeed}}" addthis:title="Check out this video: \'{{currentTitle}}\'" addthis:description="{{currentDescription}}"></a></li>\n            <li class="ndn_pauseShareOtherPause"><a href="#ndn-widget-embed-1-player"></a></li>\n        </ul>\n    </div>\n    {{/sharingEnabled}}\n     <div class="ndn_pausePlayButton"></div>\n</div>\n'}),Ndn_Require.define("text!templates/ndn/shared/pause_singleEmbed.mustache",[],function(){return'<div class="ndn_pauseOverlay ndn_pauseOverlaySingle">\n    <div class="ndn_pauseVideoInfo">\n        <h1>{{currentTitle}}</h1>\n        <p>{{currentDescription}}</p>\n        <img class="ndn_pauseVideoLogo" src="{{producerLogo}}"></img>\n    </div>\n    <div class="ndn_playAndShareWrapper">\n        <div class="ndn_pausePlayButton"></div>\n        {{#sharingEnabled}}\n        <div class="addthis_toolbox ndn_pauseShare">\n            <ul>\n                <li class="ndn_pauseShareFacebookPause"><a class="ndn_a_shareFacebook" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url={{singleVideoFeed}}&title={{currentTitle}}&pubid={{pubId}}&ct=1"></a></li>\n                <li class="ndn_pauseShareTwitterPause"><a class="ndn_a_shareTwitter" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url={{singleVideoFeed}}&title={{currentTitle}}&description={{currentDescription}}&screenshot={{currentThumb}}&pubid={{pubId}}&ct=1"></a></li>\n                <li class="ndn_pauseShareEmailPause"><a class="addthis_button_email ndn_a_shareEmail" addthis:url="{{singleVideoFeed}}" addthis:title="Check out this video: \'{{currentTitle}}\'" addthis:description="{{currentDescription}}"></a></li>\n                <li class="ndn_pauseShareOtherPause"><a href="#ndn-widget-embed-1-player"></a></li>\n            </ul>\n        </div>\n        {{/sharingEnabled}}\n    </div>\n\n    <div class="ndn_sliderAndNavWrapper">\n        <div class="ndn_sliderPrev ndn_sliderNavButton"></div>\n        <div class="ndn_sliderWrapper">\n            <ul class="ndn_sliderItems ndn_selectableVideos">\n            {{#playlistItems}}\n                <li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo">\n                    <a href="#">\n                        <div class="ndn_sliderThumbnailImageWrapper">\n                            <img src="{{thumbnailUrl}}"/>\n                            <div class="ndn_sliderThumbnailPlay"></div>\n                            <div class="ndn_nowPlayingOverlay"><p>Now Playing</p></div>\n                            <div class="ndn_sliderThumbnailOverlay">\n                                {{displayDuration}}\n                            </div>\n                        </div>\n                        <div class="ndn_sliderThumbnailTitle">\n                            <p>{{videoTitle}}</p>\n                        </div>\n                    </a>\n                </li>\n            {{/playlistItems}}\n            </ul>\n        </div>\n        <div class="ndn_sliderNext ndn_sliderNavButton"></div>\n    </div>\n    <img class="ndn_pauseBackground" src="{{backgroundImage}}"/>\n    <div class="ndn_pauseBackgroundOverlay"></div>\n</div>'}),Ndn_Require.define("models/Ndn/Shared/PauseModel",["jquery","underscore","require","models/Ndn/Widget","models/Ndn/PlayerServices","mustache","text!templates/ndn/shared/pause.mustache","text!templates/ndn/shared/pause_singleEmbed.mustache"],function(e,t,n,i,a,r,o,s){return i.extend({defaults:{videoPlayer:null,view:null},initialize:function(t,n){i.prototype.initialize.apply(this,arguments),this.set({videoPlayer:t.videoPlayer,view:n}),this.videoPlayer=t.videoPlayer,this.widgetConfig=t.widgetConfig;var a=e.proxy(function(){this.get("view").safelyDestroy()},this);this.get("videoPlayer").on({play:a,videoStartRequest:a,adStart:a,videoStart:a})},getNextVideoData:function(){return e.Deferred(e.proxy(function(t){var n=this.get("videoPlayer").getNextVideoData();if(n)return t.resolve(n);var i=this.get("videoPlayer").getNextPlaylistId();a.getPlaylistData(i,this.get("videoPlayer").get("widget")).fail(t.reject).done(e.proxy(function(e){t.resolve(e.items[0])},this))},this)).promise()},getVideoData:function(){return e.Deferred(e.proxy(function(n){this.getNextVideoData().done(e.proxy(function(e){var a=this.get("config").videoPlayer.attributes.widgetConfig,r=this.videoPlayer.getPreviousVideoData(),o=this.videoPlayer.getCurrentVideoData(),s=i.getAppUrl(),l=this.videoPlayer.get("playerData").settings.share;return this.shareDataObj={backgroundImage:o.thumbnailUrl,currentTitle:o.videoTitle,currentThumb:o.thumbnailUrl,currentDescription:o.description,producerLogo:o.producer.logoUrl,pubId:"ra-518bbde23f7ed2a9",sharingEnabled:l.enabled,singleVideoFeed:encodeURIComponent("http://social.newsinc.com/media/json/69017/"+o.videoId+"/singleVideoOG.html?videoId="+o.videoId+"&type=VideoPlayer/16x9"),videoBaseUrl:s,videoLink:s+"/landing-page.html?type=VideoPlayer/16x9&autoPlay="+a.autoPlay+"&continuousPlay="+a.continuousPlay+"&widgetId="+a.widgetId+"&trackingGroup=69016&playlistId="+a.playlistId+"&width=600&height=500&vcid="+o.videoId},o&&null==r&&null==e?(this.videoDataObj=this.shareDataObj,n.resolve(this.videoDataObj)):(r?e?(this.videoDataObj={nextTitle:e.videoTitle,nextDescription:e.videoTitle,nextDuration:e.displayDuration,nextThumb:e.thumbnailUrl,prevTitle:r.videoTitle,prevDescription:r.videoTitle,prevDuration:r.displayDuration,prevThumb:r.thumbnailUrl},this.videoDataObj=t.extend(this.videoDataObj,this.shareDataObj)):(this.prevDataObj={prevTitle:r.videoTitle,prevDescription:r.svideoTitle,prevDuration:r.displayDuration,prevThumb:r.thumbnailUrl},this.videoDataObj=t.extend(this.prevDataObj,this.shareDataObj)):(this.nextVideoObj={nextTitle:e.videoTitle,nextDescription:e.videoTitle,nextDuration:e.displayDuration,nextThumb:e.thumbnailUrl},this.videoDataObj=t.extend(this.nextVideoObj,this.shareDataObj)),n.resolve(this.videoDataObj))},this))},this))},hasThumbnailCarousel:function(){return"VideoPlayer/Default"==this.get("videoPlayer").get("widget").get("config").type},isPrevVideoEmpty:function(){var e=this.videoPlayer.getPreviousVideoData();return e?void 0:!0},isNextVideoEmpty:function(){var e=this.videoPlayer.getNextVideoData();return e?void 0:!0},canShowEmailButton:function(){var e=this.videoPlayer.getCurrentVideoData().settings.share.embedCode.enabled;return e},canShowSocialButton:function(){var e=this.videoPlayer.getCurrentVideoData().settings.share.embedCode.enabled;return e},getTemplate:function(e){return"pause_singleEmbed"==e?function(e){return r.to_html(s,e)}:function(e){return r.to_html(o,e)}},getPlaylistData:function(){var e=this.videoPlayer.getActivePlaylistData().items;return t.each(e,function(e,t){e.videoIndex=t}),e},isSingleEmbed:function(){return"VideoPlayer/Default"==this.widgetConfig.type}})}),Ndn_Require.define("jquery_imagesloaded",["jquery"],function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(i){function a(){var t=e(p),n=e(h);l&&(h.length?l.reject(u,t,n):l.resolve(u)),e.isFunction(i)&&i.call(s,u,t,n)}function r(e){o(e.target,"error"===e.type)}function o(t,i){t.src===n||-1!==e.inArray(t,c)||(c.push(t),i?h.push(t):p.push(t),e.data(t,"imagesLoaded",{isBroken:i,src:t.src}),d&&l.notifyWith(e(t),[i,u,e(p),e(h)]),u.length===c.length&&(setTimeout(a),u.unbind(".imagesLoaded",r)))}var s=this,l=e.isFunction(e.Deferred)?e.Deferred():0,d=e.isFunction(l.notify),u=s.find("img").add(s.filter("img")),c=[],p=[],h=[];return e.isPlainObject(i)&&e.each(i,function(e,t){"callback"===e?i=t:l&&l[e](t)}),u.length?u.bind("load.imagesLoaded error.imagesLoaded",r).each(function(i,a){var r=a.src,s=e.data(a,"imagesLoaded");s&&s.src===r?o(a,s.isBroken):a.complete&&a.naturalWidth!==t?o(a,0===a.naturalWidth||0===a.naturalHeight):(a.readyState||a.complete)&&(a.src=n,a.src=r)}):a(),l?l.promise(s):s}}),Ndn_Require.define("jquery_bxslider",["jquery"],function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(a){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(a)}),this;var r={},o=this;t.el=this;var s=e(window).width(),l=e(window).height(),d=function(){r.settings=e.extend({},n,a),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.children=o.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages="all"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp="vertical"==r.settings.mode?"top":"left",r.usingCSS=r.settings.useCSS&&"fade"!=r.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return r.cssPrefix=t[n].replace("Perspective","").toLowerCase(),r.animProp="-"+r.cssPrefix+"-transform",!0;return!1}(),"vertical"==r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),u()},u=function(){if(o.wrap('<div class="ndn_carousel-wrapper"><div class="ndn_carousel-viewport"></div></div>'),r.viewport=o.parent(),r.loader=e('<div class="ndn_carousel-loading" />'),r.viewport.prepend(r.loader),o.css({width:"horizontal"==r.settings.mode?215*r.children.length+"%":"auto",position:"relative"}),r.usingCSS&&r.settings.easing?o.css("-"+r.cssPrefix+"-transition-timing-function",r.settings.easing):r.settings.easing||(r.settings.easing="swing"),f(),r.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),r.viewport.parent().css({maxWidth:h()}),r.children.css({"float":"horizontal"==r.settings.mode?"left":"none",listStyle:"none",position:"relative"}),r.children.width(m()),"horizontal"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginRight",r.settings.slideMargin),"vertical"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginBottom",r.settings.slideMargin),"fade"==r.settings.mode&&(r.children.css({position:"absolute",zIndex:0,display:"none"}),r.children.eq(r.settings.startSlide).css({zIndex:50,display:"block"})),r.controls.el=e('<div class="ndn_carousel-controls" />'),r.settings.captions&&P(),r.settings.infiniteLoop&&"fade"!=r.settings.mode&&!r.settings.ticker){var t="vertical"==r.settings.mode?r.settings.minSlides:r.settings.maxSlides,n=r.children.slice(0,t).clone().addClass("ndn_carousel-clone"),i=r.children.slice(-t).clone().addClass("ndn_carousel-clone");o.append(n).prepend(i)}r.active.last=r.settings.startSlide==g()-1,r.settings.video&&o.fitVids();var a=r.children.eq(r.settings.startSlide);"all"==r.settings.preloadImages&&(a=o.children()),r.settings.ticker?r.settings.pager=!1:(r.settings.pager&&C(),r.settings.controls&&b(),r.settings.auto&&r.settings.autoControls&&E(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),a.imagesLoaded(c)},c=function(){r.loader.remove(),v(),"vertical"==r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(p()),o.redrawSlider(),r.settings.onSliderLoad(r.active.index),r.initialized=!0,e(window).bind("resize",H),r.settings.auto&&r.settings.autoStart&&L(),r.settings.ticker&&R(),r.settings.pager&&w(r.settings.startSlide),r.settings.controls&&D(),r.settings.touchEnabled&&!r.settings.ticker&&V()},p=function(){var t=0,n=e();if("vertical"==r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var a=1==r.settings.moveSlides?r.active.index:r.active.index*y();for(n=r.children.eq(a),i=1;i<=r.settings.maxSlides-1;i++)n=a+i>=r.children.length?n.add(r.children.eq(i-1)):n.add(r.children.eq(a+i))}else n=r.children.eq(r.active.index);else n=r.children;return"vertical"==r.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),r.settings.slideMargin>0&&(t+=r.settings.slideMargin*(r.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},h=function(){var e="100%";return r.settings.slideWidth>0&&(e="horizontal"==r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),e},m=function(){var e=r.settings.slideWidth,t=r.viewport.width();return 0==r.settings.slideWidth||r.settings.slideWidth>t&&!r.carousel||"vertical"==r.settings.mode?e=t:r.settings.maxSlides>1&&"horizontal"==r.settings.mode&&(t>r.maxThreshold||t<r.minThreshold&&(e=(t-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides)),e},f=function(){var e=1;if("horizontal"==r.settings.mode&&r.settings.slideWidth>0)if(r.viewport.width()<r.minThreshold)e=r.settings.minSlides;else if(r.viewport.width()>r.maxThreshold)e=r.settings.maxSlides;else{var t=r.children.first().width();e=Math.floor(r.viewport.width()/t)}else"vertical"==r.settings.mode&&(e=r.settings.minSlides);return e},g=function(){var e=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)e=r.children.length/y();else for(var t=0,n=0;t<r.children.length;)++e,t=n+f(),n+=r.settings.moveSlides<=f()?r.settings.moveSlides:f();else e=Math.ceil(r.children.length/f());return e},y=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=f()?r.settings.moveSlides:f()},v=function(){if(r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop){if("horizontal"==r.settings.mode){var e=r.children.last(),t=e.position();_(-(t.left-(r.viewport.width()-e.width())),"reset",0)}else if("vertical"==r.settings.mode){var n=r.children.length-r.settings.minSlides,t=r.children.eq(n).position();_(-t.top,"reset",0)}}else{var t=r.children.eq(r.active.index*y()).position();
r.active.index==g()-1&&(r.active.last=!0),void 0!=t&&("horizontal"==r.settings.mode?_(-t.left,"reset",0):"vertical"==r.settings.mode&&_(-t.top,"reset",0))}},_=function(e,t,n,i){if(r.usingCSS){var a="vertical"==r.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";o.css("-"+r.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"==t?(o.css(r.animProp,a),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),M()})):"reset"==t?o.css(r.animProp,a):"ticker"==t&&(o.css("-"+r.cssPrefix+"-transition-timing-function","linear"),o.css(r.animProp,a),o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),_(i.resetValue,"reset",0),O()}))}else{var s={};s[r.animProp]=e,"slide"==t?o.animate(s,n,r.settings.easing,function(){M()}):"reset"==t?o.css(r.animProp,e):"ticker"==t&&o.animate(s,speed,"linear",function(){_(i.resetValue,"reset",0),O()})}},A=function(){for(var t="",n=g(),i=0;n>i;i++){var a="";r.settings.buildPager&&e.isFunction(r.settings.buildPager)?(a=r.settings.buildPager(i),r.pagerEl.addClass("ndn_carousel-custom-pager")):(a=i+1,r.pagerEl.addClass("ndn_carousel-default-pager")),t+='<div class="ndn_carousel-pager-item"><a href="" data-slide-index="'+i+'" class="ndn_carousel-pager-link">'+a+"</a></div>"}r.pagerEl.html(t)},C=function(){r.settings.pagerCustom?r.pagerEl=e(r.settings.pagerCustom):(r.pagerEl=e('<div class="ndn_carousel-pager" />'),r.settings.pagerSelector?e(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass("ndn_carousel-has-pager").append(r.pagerEl),A()),r.pagerEl.delegate("a","click",T)},b=function(){r.controls.next=e('<a class="ndn_carousel-next" href="">'+r.settings.nextText+"</a>"),r.controls.prev=e('<a class="ndn_carousel-prev" href="">'+r.settings.prevText+"</a>"),r.controls.next.bind("click",x),r.controls.prev.bind("click",k),r.settings.nextSelector&&e(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&e(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=e('<div class="ndn_carousel-controls-direction" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass("ndn_carousel-has-controls-direction").append(r.controls.directionEl))},E=function(){r.controls.start=e('<div class="ndn_carousel-controls-auto-item"><a class="ndn_carousel-start" href="">'+r.settings.startText+"</a></div>"),r.controls.stop=e('<div class="ndn_carousel-controls-auto-item"><a class="ndn_carousel-stop" href="">'+r.settings.stopText+"</a></div>"),r.controls.autoEl=e('<div class="ndn_carousel-controls-auto" />'),r.controls.autoEl.delegate(".ndn_carousel-start","click",N),r.controls.autoEl.delegate(".ndn_carousel-stop","click",S),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?e(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass("ndn_carousel-has-controls-auto").append(r.controls.autoEl),I(r.settings.autoStart?"stop":"start")},P=function(){r.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&e(this).append('<div class="ndn_carousel-caption"><span>'+t+"</span></div>")})},x=function(e){r.settings.auto&&o.stopAuto(),o.goToNextSlide(),e.preventDefault()},k=function(e){r.settings.auto&&o.stopAuto(),o.goToPrevSlide(),e.preventDefault()},N=function(e){o.startAuto(),e.preventDefault()},S=function(e){o.stopAuto(),e.preventDefault()},T=function(t){r.settings.auto&&o.stopAuto();var n=e(t.currentTarget),i=parseInt(n.attr("data-slide-index"));i!=r.active.index&&o.goToSlide(i),t.preventDefault()},w=function(t){return"short"==r.settings.pagerType?(r.pagerEl.html(t+1+r.settings.pagerShortSeparator+r.children.length),void 0):(r.pagerEl.find("a").removeClass("active"),r.pagerEl.each(function(n,i){e(i).find("a").eq(t).addClass("active")}),void 0)},M=function(){if(r.settings.infiniteLoop){var e="";0==r.active.index?e=r.children.eq(0).position():r.active.index==g()-1&&r.carousel?e=r.children.eq((g()-1)*y()).position():r.active.index==r.children.length-1&&(e=r.children.eq(r.children.length-1).position()),"horizontal"==r.settings.mode?_(-e.left,"reset",0):"vertical"==r.settings.mode&&_(-e.top,"reset",0)}r.working=!1,r.settings.onSlideAfter(r.children.eq(r.active.index),r.oldIndex,r.active.index)},I=function(e){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[e]):(r.controls.autoEl.find("a").removeClass("active"),r.controls.autoEl.find("a:not(.ndn_carousel-"+e+")").addClass("active"))},D=function(){1==g()?(r.controls.prev.addClass("disabled"),r.controls.next.addClass("disabled")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0==r.active.index?(r.controls.prev.addClass("disabled"),r.controls.next.removeClass("disabled")):r.active.index==g()-1?(r.controls.next.addClass("disabled"),r.controls.prev.removeClass("disabled")):(r.controls.prev.removeClass("disabled"),r.controls.next.removeClass("disabled")))},L=function(){r.settings.autoDelay>0?setTimeout(o.startAuto,r.settings.autoDelay):o.startAuto(),r.settings.autoHover&&o.hover(function(){r.interval&&(o.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(o.startAuto(!0),r.autoPaused=null)})},R=function(){var t=0;if("next"==r.settings.autoDirection)o.append(r.children.clone().addClass("ndn_carousel-clone"));else{o.prepend(r.children.clone().addClass("ndn_carousel-clone"));var n=r.children.first().position();t="horizontal"==r.settings.mode?-n.left:-n.top}_(t,"reset",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&!r.usingCSS&&r.viewport.hover(function(){o.stop()},function(){var t=0;r.children.each(function(){t+="horizontal"==r.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var n=r.settings.speed/t,i="horizontal"==r.settings.mode?"left":"top",a=n*(t-Math.abs(parseInt(o.css(i))));O(a)}),O()},O=function(e){speed=e?e:r.settings.speed;var t={left:0,top:0},n={left:0,top:0};"next"==r.settings.autoDirection?t=o.find(".ndn_carousel-clone").first().position():n=r.children.first().position();var i="horizontal"==r.settings.mode?-t.left:-t.top,a="horizontal"==r.settings.mode?-n.left:-n.top,s={resetValue:a};_(i,"ticker",speed,s)},V=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind("touchstart",U)},U=function(e){if(r.working)e.preventDefault();else{r.touch.originalPos=o.position();var t=e.originalEvent;r.touch.start.x=t.changedTouches[0].pageX,r.touch.start.y=t.changedTouches[0].pageY,r.viewport.bind("touchmove",F),r.viewport.bind("touchend",B)}},F=function(e){var t=e.originalEvent,n=Math.abs(t.changedTouches[0].pageX-r.touch.start.x),i=Math.abs(t.changedTouches[0].pageY-r.touch.start.y);if(3*n>i&&r.settings.preventDefaultSwipeX?e.preventDefault():3*i>n&&r.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=r.settings.mode&&r.settings.oneToOneTouch){var a=0;if("horizontal"==r.settings.mode){var o=t.changedTouches[0].pageX-r.touch.start.x;a=r.touch.originalPos.left+o}else{var o=t.changedTouches[0].pageY-r.touch.start.y;a=r.touch.originalPos.top+o}_(a,"reset",0)}},B=function(e){r.viewport.unbind("touchmove",F);var t=e.originalEvent,n=0;if(r.touch.end.x=t.changedTouches[0].pageX,r.touch.end.y=t.changedTouches[0].pageY,"fade"==r.settings.mode){var i=Math.abs(r.touch.start.x-r.touch.end.x);i>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())}else{var i=0;"horizontal"==r.settings.mode?(i=r.touch.end.x-r.touch.start.x,n=r.touch.originalPos.left):(i=r.touch.end.y-r.touch.start.y,n=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0==r.active.index&&i>0||r.active.last&&0>i)?_(n,"reset",200):Math.abs(i)>=r.settings.swipeThreshold?(0>i?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):_(n,"reset",200)}r.viewport.unbind("touchend",B)},H=function(){var t=e(window).width(),n=e(window).height();(s!=t||l!=n)&&(s=t,l=n,o.redrawSlider())};return o.goToSlide=function(t,n){if(!r.working&&r.active.index!=t)if(r.working=!0,r.oldIndex=r.active.index,r.active.index=0>t?g()-1:t>=g()?0:t,r.settings.onSlideBefore(r.children.eq(r.active.index),r.oldIndex,r.active.index),"next"==n?r.settings.onSlideNext(r.children.eq(r.active.index),r.oldIndex,r.active.index):"prev"==n&&r.settings.onSlidePrev(r.children.eq(r.active.index),r.oldIndex,r.active.index),r.active.last=r.active.index>=g()-1,r.settings.pager&&w(r.active.index),r.settings.controls&&D(),"fade"==r.settings.mode)r.settings.adaptiveHeight&&r.viewport.height()!=p()&&r.viewport.animate({height:p()},r.settings.adaptiveHeightSpeed),r.children.filter(":visible").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css("zIndex",51).fadeIn(r.settings.speed,function(){e(this).css("zIndex",50),M()});else{r.settings.adaptiveHeight&&r.viewport.height()!=p()&&r.viewport.animate({height:p()},r.settings.adaptiveHeightSpeed);var i=0,a={left:0,top:0};if(!r.settings.infiniteLoop&&r.carousel&&r.active.last)if("horizontal"==r.settings.mode){var s=r.children.eq(r.children.length-1);a=s.position(),i=r.viewport.width()-s.width()}else{var l=r.children.length-r.settings.minSlides;a=r.children.eq(l).position()}else if(r.carousel&&r.active.last&&"prev"==n){var d=1==r.settings.moveSlides?r.settings.maxSlides-y():(g()-1)*y()-(r.children.length-r.settings.maxSlides),s=o.children(".ndn_carousel-clone").eq(d);a=s.position()}else if("next"==n&&0==r.active.index)a=o.find("> .ndn_carousel-clone").eq(r.settings.maxSlides).position(),r.active.last=!1;else if(t>=0){var u=t*y();a=r.children.eq(u).position()}if("undefined"!=typeof a){var c="horizontal"==r.settings.mode?-(a.left-i):-a.top;_(c,"slide",r.settings.speed)}}},o.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var e=parseInt(r.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!=r.active.index){var e=parseInt(r.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){r.interval||(r.interval=setInterval(function(){"next"==r.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&1!=e&&I("stop"))},o.stopAuto=function(e){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&1!=e&&I("start"))},o.getCurrentSlide=function(){return r.active.index},o.getSlideCount=function(){return r.children.length},o.redrawSlider=function(){r.children.add(o.find(".ndn_carousel-clone")).width(m()),r.viewport.css("height",p()),r.settings.ticker||v(),r.active.last&&(r.active.index=g()-1),r.active.index>=g()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(A(),w(r.active.index))},o.destroySlider=function(){r.initialized&&(r.initialized=!1,e(".ndn_carousel-clone",this).remove(),r.children.removeAttr("style"),this.removeAttr("style").unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.pagerEl.remove(),e(".ndn_carousel-caption",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),e(window).unbind("resize",H))},o.reloadSlider=function(e){void 0!=e&&(a=e),o.destroySlider(),d()},d(),this}}),Ndn_Require.define("views/Ndn/Shared/PauseView",["jquery","views/Ndn/AbstractView","views/Ndn/Shared/ShareView","models/Ndn/Shared/PauseModel","models/Ndn/SocialSharing/AddThisModel","jquery_imagesloaded","jquery_autoellipsis","jquery_bxslider"],function(e,t,n,i,a){return t.extend({events:{"click .ndn_pauseNext":"onUpNextClick","click .ndn_pausePrev":"onPrevClick","click .ndn_pauseOverlay":"overlayPlay","click .ndn_pauseShare":"overlayStop","click .ndn_pauseShareOtherPause":"showShare","click .ndn_shareCopyEmbedCodeText":"selectAllEmbed","click .ndn_shareCopyVideoLinkText":"selectAllVideo","click .ndn_selectableVideo":"onVideoSelect","click .ndn_sliderNext":"onSliderNextClick","click .ndn_sliderPrev":"onSliderPrevClick"},index:0,carousel:null,slides:4,sliderResetInterval:null,defaultSliderConfig:{},getWidgetContainerElement:function(){return this.config.videoPlayer.get("widget").get("view").$el},initialize:function(t){this.config=t,this.model=new i(t,this),navigator.userAgent.match(/iPhone|iPod/i)&&(this.deactivateVideoElement(),this.model.get("videoPlayer").getContainerElement().find("video").addClass("ndn_hasActivePauseOverlay")),this.model.isSingleEmbed()?this.pauseInfo("pause_singleEmbed",".ndn_pauseOverlayContainer").done(e.proxy(function(){this.defaultSliderConfig={pager:!1,controls:!1,slideWidth:120,slideMargin:10,minSlides:1,maxSlides:100,responsive:!0,onSliderLoad:function(){this.loadImagesForSlide(0),this.$el.find(".ndn_sliderNext, .ndn_sliderPrev").on("touchstart",function(e){e.target.css("background-color","#0099CC")}),this.$el.find(".ndn_sliderNext, .ndn_sliderPrev").on("touchend",function(e){e.target.css("background-color","#000000")}),this.$el.find(".ndn_sliderThumbnailOverlay p").ellipsis()}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n)}.bind(this)},this.updateSelectableVideos(),this.carousel.goToSlide(Math.floor(this.model.get("videoPlayer").get("currentVideoIndex")/4))},this)):this.pauseInfo("pause",".ndn_pauseOverlayContainer")},getWidgetContainerElement:function(){return this.config.videoPlayer.get("widget").get("view").$el},pauseInfo:function(t){return e.Deferred(e.proxy(function(n){this.model.getVideoData().done(e.proxy(function(e){var i=this.model.isPrevVideoEmpty(),r=!e.nextDuration,o=this.model.get("videoPlayer"),s=o.attributes.playerContainerElementId;this.model.isSingleEmbed()&&(e=_.extend({playlistItems:this.model.getPlaylistData()},e)),this.render(this.model.getTemplate(t),e),this.$el.prependTo("#"+s).show(),i===!0&&this.$el.find(".ndn_pausePrev").hide(),r===!0&&this.$el.find(".ndn_pauseNext").hide(),i===!0&&r===!0&&this.$el.find(".ndn_pauseShare").addClass("ndn_pauseShareSingleVideo"),this.getPlayerHeight(),a.toolbox(this.getWidgetContainerElement().find(".addthis_toolbox")),this.model.canShowEmailButton()||(this.$el.find(".ndn_pauseShareEmailPause").hide(),this.$el.find(".ndn_pauseShare ul").addClass("ndn_pauseShareNoEmail")),this.model.canShowSocialButton()||(this.$el.find(".ndn_pauseShareFacebookPause, .ndn_pauseShareTwitterPause, .ndn_pauseShareOtherPause").hide(),this.$el.find(".ndn_pauseShare ul").addClass("ndn_pauseShareNoSocial")),this.$el.find(".ndn_pausePrevDescription, .ndn_pauseNextDescription, .ndn_pauseVideoInfo h1, .ndn_pauseVideoInfo p").ellipsis({updateOnWindowResize:!0}),n.resolve()},this))},this))},getPlayerHeight:function(){this.getWidgetContainerElement().find(".akamai-html5").outerHeight(),this.getWidgetContainerElement().find(".ndn_videoPlayer object").height(),this.getWidgetContainerElement().find(".ndn_videoPlayer object").is(":visible")},getItemsPerSlide:function(){var e=60,t=10,n=120,i=this.getWidgetContainerElement().find(".ndn_videoPlayer").width();return Math.round((i-e)/(n+t))},showShare:function(e){new n({el:this.getWidgetContainerElement().find(".ndn_shareOverlay").get(0),videoPlayer:this.model.get("videoPlayer")}),e.stopPropagation()},overlayPlay:function(){this.$el.find(".ndn_shareOverlay").hide(),this.$el.find(".ndn_pauseOverlayContainer").hide(),this.activateVideoElement(),this.model.get("videoPlayer").play(),this.safelyDestroy()},overlayStop:function(e){this.model.get("videoPlayer").pause(),e.stopPropagation()},safelyDestroy:function(){this.$el.hide(),this.$el.after(this.$el.clone(!1,!1).empty()),this.remove()},onUpNextClick:function(){var e=this.model.get("videoPlayer").get("currentVideoIndex")+1;this.activateVideoElement(),this.model.get("videoPlayer").loadVideo(e,!0),this.safelyDestroy()},onPrevClick:function(){var e=this.model.get("videoPlayer").get("currentVideoIndex")-1;this.activateVideoElement(),this.model.get("videoPlayer").loadVideo(e,!0),this.safelyDestroy()},onSliderPrevClick:function(e){this.resetSliderInterval(),this.carousel.goToPrevSlide(),e.stopPropagation(),this.startSliderInterval()},onSliderNextClick:function(e){this.resetSliderInterval(),this.carousel.goToNextSlide(),e.stopPropagation(),this.startSliderInterval()},resetSliderInterval:function(){_.isNull(this.sliderResetInterval)||clearInterval(this.sliderResetInterval)},deactivateVideoElement:function(){this.model.get("videoPlayer").getContainerElement().find("video").addClass("ndn_hasActivePauseOverlay")},activateVideoElement:function(){this.model.get("videoPlayer").getContainerElement().find("video").removeClass("ndn_hasActivePauseOverlay")},startSliderInterval:function(){this.sliderResetInterval=setInterval(function(){this.scrollToCurrentSlide()}.bind(this),1e4)},scrollToCurrentSlide:function(){var e=this.model.get("videoPlayer").getVideoIndexById(this.model.get("videoPlayer").getCurrentVideoId())/this.getItemsPerSlide();this.carousel.goToSlide(e)},onVideoSelect:_.debounce(function(t){var n=e(t.currentTarget).data("video-index");return this.$el.find(".ndn_selectableVideos .ndn_selectableVideo"),this.activateVideoElement(),this.model.get("videoPlayer").play(n),this.safelyDestroy(),!1},500,!0),updateSelectableVideos:function(){_.isNull(this.carousel)?this.carousel=this.$el.find(".ndn_selectableVideos").bxSlider(this.defaultSliderConfig):this.carousel.reloadSlider(this.defaultSliderConfig),this.$el.find(".ndn_sliderThumbnailTitle p").ellipsis(),this.$el.find("[data-video-id="+this.model.get("videoPlayer").getCurrentVideoId()+"]").addClass("ndn_activeVideo"),this.scrollToCurrentSlide()}})}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/AbstractView",["jquery","views/Ndn/AbstractView","views/Ndn/Shared/EndslateView","views/Ndn/Shared/ShareView","views/Ndn/Shared/PauseView","models/Ndn/Utils/UserAgent"],function(e,t,n,i,a,r){var o="14126";return t.extend({events:{"click .ndn_selectableVideo":"onVideoSelect","click .ndn_playlistSelectorMenu a":"onPlaylistSelect","click .ndn_overlayButton span":"hideShare","click .ndn_closeShare":"hideShare","click .ndn_shareCopyEmbedCodeText":"selectAllEmbed","click .ndn_shareCopyVideoLinkText":"selectAllVideo",keypress:"spaceBarPlay"},elements:{selectableVideosContainer:".ndn_selectableVideos",selectableVideos:".ndn_selectableVideos .ndn_selectableVideo"},pauseOverlay:null,showingPlaylistPause:!1,initializeVideoPlayer:function(){this.model.onceConfigIsComplete(e.proxy(function(){this.model.get("videoPlayer").setDefaultPlayOnLoadValue(this.model.get("config").autoPlay).load()},this))},initializeVideoPlayerForRmm:function(){this.model.onceConfigIsComplete(e.proxy(function(){this.model.get("config").autoPlay?this.model.get("videoPlayer").setDefaultPlayOnLoadValue(!0).load():r.isAbleToPlayVideoAutomatically()?this.model.get("videoPlayer").once("rmmEnd",e.proxy(function(){this.model.get("videoPlayer").setDefaultPlayOnLoadValue(!1).load()},this)).playRmm():this.model.get("videoPlayer").setDefaultPlayOnLoadValue(!1).load()},this))},initialize:function(){t.prototype.initialize.apply(this,arguments),this.model.onceConfigIsComplete(e.proxy(function(){this.model.get("config").videoId?this.model.get("videoPlayer").on("isolatedVideoEnd",e.proxy(function(){this.model.get("videoPlayer").once("videoStartRequest",function(){this.setNextPlaylistId(o)})},this)):this.model.get("videoPlayer").setNextPlaylistId(o)},this)),this.model.get("videoPlayer").on("embed",e.proxy(function(){this.$el.append(e(document.createElement("div")).addClass("ndn_shareOverlay ndn_playerOverlay")).append(e(document.createElement("div")).addClass("ndn_pauseOverlayContainer ndn_playerOverlay")).append(e(document.createElement("div")).addClass("ndn_endslateOverlay ndn_playerOverlay")),this.initializeVideoPlayer()},this)).on("videoUnavailable",e.proxy(function(){this.onVideoUnavailable()},this)).on("change:playlistId",e.proxy(function(){this.updateSelectableVideos()},this)).on("video:loaded",e.proxy(function(){this.updateSelectedVideo()},this)).on("continuousPlayEnd",e.proxy(function(){0!=this.model.get("config").continuousPlay&&(this.openPlaylistPauseSlate(),this.showingPlaylistPause=!0,this.updateSelectedVideo())},this)).on("playlistEnd",e.proxy(function(){this.onEndOfPlaylist()},this)).on("isolatedVideoEnd",e.proxy(function(){this.onIsolatedVideoEnd()},this)).on("adStart",e.proxy(function(){},this)).on("share",e.proxy(function(e){"facebook"==e.data.provider||"twitter"==e.data.provider?this.controlsShare(e):this.openShareOverlay(e)},this)).on("pause",e.proxy(function(){this.model.get("videoPlayer").isEnded()||this.model.get("videoPlayer").isPlayingAd()||this.openPauseOverlay()},this)).on("play",e.proxy(function(){_.isNull(this.pauseOverlay)||(this.pauseOverlay.safelyDestroy(),this.pauseOverlay=null)},this)),e("body").on("keypress",e.proxy(this.spaceBarPlay,this))},hidePlayerOverlays:function(){this.$el.find(".ndn_playerOverlay").hide()},onVideoSelect:_.debounce(function(t){this.model.trigger("videoSelect"),this.hidePlayerOverlays();var n=e(t.currentTarget).data("video-index"),i=this.$el.find(".ndn_selectableVideos .ndn_selectableVideo");return i.removeClass("ndn_activeVideo"),i.filter(":eq("+n+")").addClass("ndn_activeVideo"),this.model.get("videoPlayer").play(n),this.model.get("videoPlayer").resetContinuousPlayCounter(),!1},1e3,!0),onPlaylistSelect:function(t){return this.hidePlayerOverlays(),this.model.get("videoPlayer").load(0,e(t.target).data("playlist-id"),this.model.get("config").autoPlay),this.model.get("videoPlayer").resetContinuousPlayCounter(),!1},updateSelectableVideos:function(){this.render(this.model.getTemplate("selectableVideos"),{playlistItems:this.model.get("videoPlayer").getActivePlaylistData()?this.model.get("videoPlayer").getActivePlaylistData().items:[],videoIndex:function(){var e=0;return function(){return e++}}()},".ndn_selectableVideos")},openPlaylistPauseSlate:function(){this.hidePlayerOverlays(),new n({el:this.$el.find(".ndn_endslateOverlay").get(0),videoPlayer:this.model.get("videoPlayer"),type:"playlistPause"}).on("endslateShare",e.proxy(function(){this.openShareOverlay()},this)).on("endslateFinished endslateReplay",e.proxy(function(){this.showingPlaylistPause=!1,this.updateSelectedVideo()},this)),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".ndn_videoPlayer")).show()},onVideoUnavailable:function(){this.hidePlayerOverlays(),new n({el:this.$el.find(".ndn_endslateOverlay").get(0),videoPlayer:this.model.get("videoPlayer"),type:"videoNotAvailable"}),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".ndn_videoPlayer")).show()},onMediaBlocked:function(){this.hidePlayerOverlays(),new n({el:this.$el.find(".ndn_endslateOverlay").get(0),videoPlayer:this.model.get("videoPlayer"),type:"mediaBlocked"}),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".ndn_videoPlayer")).show()},onEndOfPlaylist:function(){var t=new n({el:this.$el.find(".ndn_endslateOverlay").get(0),videoPlayer:this.model.get("videoPlayer"),type:"endOfPlaylist"});t.on("endslateShare",e.proxy(function(){this.openShareOverlay()},this)),this.hidePlayerOverlays(),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".ndn_videoPlayer")).show()},onIsolatedVideoEnd:function(){var t=new n({el:this.$el.find(".ndn_endslateOverlay").get(0),videoPlayer:this.model.get("videoPlayer"),type:"isolatedVideoEnd"});t.on("endslateShare",e.proxy(function(){this.openShareOverlay()},this)),this.hidePlayerOverlays(),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".ndn_videoPlayer")).show()},openShareOverlay:function(){new i({el:this.$el.find(".ndn_shareOverlay").get(0),videoPlayer:this.model.get("videoPlayer")})},openPauseOverlay:function(){_.isNull(this.pauseOverlay)&&(this.pauseOverlay=new a({el:this.$el.find(".ndn_pauseOverlayContainer").get(0),videoPlayer:this.model.get("videoPlayer"),widgetConfig:this.model.get("config")}))},controlsShare:function(e){var t=this.model.get("videoPlayer").getCurrentVideoData();this.model.getLandingUrl()+"/landing-page.html";var n=encodeURIComponent("http://social.newsinc.com/media/json/69017/"+t.videoId+"/singleVideoOG.html?type=VideoPlayer/16x9&videoId="+t.videoId),i="ra-518bbde23f7ed2a9",a="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url="+n+"&pubid="+i+"&ct=1",r="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url="+n+"&title="+t.description+"&pubid="+i+"&ct=1";"facebook"==e.data.provider&&window.open(r,"",""),"twitter"==e.data.provider&&window.open(a,"",""),this.openPauseOverlay(),this.model.get("videoPlayer").pause()},hideShare:function(){this.$el.find(".ndn_shareOverlay").hide()},selectAllVideo:function(){this.$el.find(".ndn_shareCopyVideoLinkText").select()},selectAllEmbed:function(){this.$el.find(".ndn_shareCopyEmbedCodeText").select()},updateSelectedVideo:function(){var t=this.model.get("videoPlayer").getCurrentVideoData(),n=this.$el.find(".ndn_selectableVideos"),i=this.model.get("videoPlayer").attributes.isPlayingRmm;if(n.find(".ndn_activeVideo").removeClass("ndn_activeVideo"),n.find(".ndn_activeVideoNotPlaying").removeClass("ndn_activeVideoNotPlaying"),null!==t&&0==this.showingPlaylistPause&&this.model.get("config").adsEnabled)pickCurrentVideoId=_.pick(t,"videoId"),i?(this.model.get("videoPlayer").on("adStart",e.proxy(function(){pickCurrentVideoId.videoId===t.videoId&&(n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideoNotPlaying"),n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideo"))})),this.model.get("videoPlayer").on("adEnd",e.proxy(function(){pickCurrentVideoId.videoId===t.videoId&&(n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideoNotPlaying"),n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideo"))}))):(n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideo"),n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideoNotPlaying"),this.model.get("videoPlayer").on("adEnd",e.proxy(function(){pickCurrentVideoId.videoId===t.videoId&&(n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideoNotPlaying"),n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideo"))})));else if(1==this.showingPlaylistPause){var a=this.model.get("videoPlayer").getNextVideoData();n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideo"),n.find('li[data-video-id="'+a.videoId+'"]').addClass("ndn_activeVideoNotPlaying"),this.model.get("videoPlayer").on("adEnd",e.proxy(function(){pickCurrentVideoId.videoId===t.videoId&&(n.find('li[data-video-id="'+t.videoId+'"]').removeClass("ndn_activeVideoNotPlaying"),n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideo"))}))}else _.isNull(t)||0!=this.model.get("config").adsEnabled||n.find('li[data-video-id="'+t.videoId+'"]').addClass("ndn_activeVideo")},spaceBarPlay:function(){}})}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/Inline300View",["jquery","views/Ndn/Widget/VideoPlayer/AbstractView","models/Ndn/Utils/UserAgent","jquery_autoellipsis"],function(e,t,n){return t.extend({initializeVideoPlayer:function(){this.initializeVideoPlayerForRmm(),n.isAbleToPlayVideoAutomatically()?this.model.get("videoPlayer").once("rmmEnd",e.proxy(function(){this.model.enableAutoAdvance()},this)):this.model.enableAutoAdvance()},initialize:function(){t.prototype.initialize.apply(this,arguments),this.on("render",e.proxy(function(t){".ndn_selectableVideos"==t.selector&&(this.$el.find(".ndn_selectableVideos").on("mouseenter",e.proxy(function(){this.model.set({isInteractingWithUser:!0}),this.dequeueScrollSync()},this)).on("mouseleave",e.proxy(function(){this.model.set({isInteractingWithUser:!1}),this.queueScrollSync()},this)).on("touchstart",function(){e(this).trigger("mouseenter")}).on("touchend",function(){e(this).trigger("mouseleave")}),this.$el.find(".ndn_selectableVideos .ndn_videoDescription").ellipsis())},this)),this.model.get("videoPlayer").on("video:loaded",e.proxy(function(t){this.$el.find(".ndn_videoPlayerHeader .ndn_videoTitle").html(t.videoTitle),this.$el.find(".ndn_videoPlayerHeader .ndn_videoProvider").html(t.producer.name),this.$el.find(".ndn_videoPlayerHeader .ndn_videoProviderLogo").html(e(document.createElement("img")).attr({src:t.producer.logoUrl,alt:t.producer.name})),this.isInteractingWithUser()||this.syncScrollPosition()},this)),this.model.get("videoPlayer").on("adCompanion",e.proxy(function(e){this.showCompanionAd(e.data[0].data||e.data[0].content)},this)).on("adEnd",e.proxy(this.hideCompanionAd,this)),this.model.get("videoPlayer").on("embed",e.proxy(function(){this.model.get("videoPlayer").on("videoStartRequest",e.proxy(function(){this.model.disableAutoAdvance()},this))},this))},showCompanionAd:function(e){this.$el.find(".ndn_selectableVideos").hide();var t=this.$el.find(".ndn_adCompanion");this.displayCompanionAd(t,e),t.addClass("ndn_active")},hideCompanionAd:function(){this.$el.find(".ndn_adCompanion").removeClass("ndn_active").html(""),this.$el.find(".ndn_selectableVideos").show()},dequeueScrollSync:function(){this.model.get("queueScrollSyncCountdown")!==!1&&(clearInterval(this.model.get("queueScrollSyncCountdown")),this.model.set({queueScrollSyncCountdown:!1}))},queueScrollSync:function(){var t=3;this.dequeueScrollSync(),this.model.set({queueScrollSyncCountdown:setInterval(e.proxy(function(){clearInterval(this.model.get("queueScrollSyncCountdown")),this.model.set({queueScrollSyncCountdown:!1}),this.syncScrollPosition()},this),1e3*t)})},isInteractingWithUser:function(){return this.model.get("isInteractingWithUser")},syncScrollPosition:function(){var t=90,n=this.model.isAutoAdvanceEnabled()?Math.floor(this.model.get("videoPlayer").get("currentVideoIndex")/3)*3*t:Math.max(this.model.get("videoPlayer").get("currentVideoIndex")-1,0)*t,i=this.$el.find(".ndn_selectableVideos");n+i.height()==i.get(0).scrollHeight+t&&(n-=t),i.get(0).scrollTop!=n&&i.animate({scrollTop:n},{duration:1e3,done:e.proxy(function(){this.syncScrollPosition()},this)})},onVideoSelect:_.debounce(function(){return t.prototype.onVideoSelect.apply(this,arguments),this.syncScrollPosition(),!1},500,!0)})}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/DefaultView",["jquery","views/Ndn/Widget/VideoPlayer/AbstractView"],function(e,t){return t.extend({})}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/YouTubeView",["jquery","views/Ndn/AbstractView"],function(e,t){return t.extend({initialize:function(){}})}),Ndn_Require.define("jquery_simplePagination",["jquery"],function(e){var t={init:function(n){var i=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:!0,onPageClick:function(){},onInit:function(){}},n||{}),a=this;return a.data("paginationOptions",n),i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){a.addClass(i.cssStyle+" simple-pagination").data("pagination",i),t._draw.call(a)}),i.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},_draw:function(){var n,i=this.data("pagination"),a=t._getInterval(i);
t.destroy.call(this);var r="UL"===this.prop("tagName")?this:e("<ul></ul>").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:"prev"}),a.start>0&&i.edges>0){var o=Math.min(i.edges,a.start);for(n=0;o>n;n++)t._appendItem.call(this,n);i.edges<a.start&&1!=a.start-i.edges?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):1==a.start-i.edges&&t._appendItem.call(this,i.edges)}for(n=a.start;n<a.end;n++)t._appendItem.call(this,n);if(a.end<i.pages&&i.edges>0){i.pages-i.edges>a.end&&1!=i.pages-i.edges-a.end?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):1==i.pages-i.edges-a.end&&t._appendItem.call(this,a.end++);var s=Math.max(i.pages-i.edges,a.end);for(n=s;n<i.pages;n++)t._appendItem.call(this,n)}i.nextText&&t._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:"next"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(n,i){var a,r,o=this,s=o.data("pagination"),l=e("<li></li>"),d=o.find("ul");n=0>n?0:n<s.pages?n:s.pages-1,a=e.extend({text:n+1,classes:""},i||{}),n==s.currentPage||s.disabled?(s.disabled?l.addClass("disabled"):l.addClass("active"),r=e('<span class="current">'+a.text+"</span>")):(r=e('<a href="'+s.hrefTextPrefix+(n+1)+s.hrefTextSuffix+'" class="page-link">'+a.text+"</a>"),r.click(function(e){return t._selectPage.call(o,n,e)})),a.classes&&r.addClass(a.classes),l.append(r),d.length?d.append(l):o.append(l)},_selectPage:function(e,n){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&t._draw.call(this),i.onPageClick(e+1,n)}};e.fn.pagination=function(n){return t[n]&&"_"!=n.charAt(0)?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?(e.error("Method "+n+" does not exist on jQuery.pagination"),void 0):t.init.apply(this,arguments)}}),Ndn_Require.define("jquery_bootpag",["jquery"],function(e){!function(e){e.fn.bootpag=function(t){function n(t,n){var o,s=0==r.maxVisible?1:r.maxVisible,l=1==r.maxVisible?0:1,d=Math.floor((n-1)/s)*s,u=t.find("li");if(r.page=n=0>n?0:n>r.total?r.total:n,u.removeClass("disabled"),o=1>n-1?1:r.leaps&&n-1>=r.maxVisible?Math.floor((n-1)/s)*s:n-1,u.first().toggleClass("disabled",1===n).attr("data-lp",o).find("a").attr("href",i(o)),l=1==r.maxVisible?0:1,o=n+1>r.total?r.total:r.leaps&&n+1<r.total-r.maxVisible?d+r.maxVisible+l:n+1,u.last().toggleClass("disabled",n===r.total).attr("data-lp",o).find("a").attr("href",i(o)),s=u.filter("[data-lp="+n+"]"),!s.not(".next,.prev").length){var c=d>=n?-r.maxVisible:0;u.not(".next,.prev").each(function(t){o=t+1+d+c,e(this).attr("data-lp",o).toggle(o<=r.total).find("a").html(o).attr("href",i(o))}),s=u.filter("[data-lp="+n+"]")}s.addClass("disabled"),a.trigger("page",n),a.data("settings",r)}function i(e){return r.href.replace(r.hrefVariable,e)}var a=this,r=e.extend({total:0,page:1,maxVisible:null,leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;"},a.data("settings")||{},t||{});return 0>=r.total?this:(!e.isNumeric(r.maxVisible)&&!r.maxVisible&&(r.maxVisible=r.total),a.data("settings",r),this.each(function(){var t,a,o=e(this),s=['<ul class="bootpag">'];for(r.prev&&s.push('<li data-lp="1" class="prev"><a href="'+i(1)+'">'+r.prev+"</a></li>"),a=1;a<=Math.min(r.total,r.maxVisible);a++)s.push('<li data-lp="'+a+'"><a href="'+i(a)+'">'+a+"</a></li>");r.next&&(a=r.leaps&&r.total>r.maxVisible?Math.min(r.maxVisible+1,r.total):2,s.push('<li data-lp="'+a+'" class="next"><a href="'+i(a)+'">'+r.next+"</a></li>")),s.push("</ul>"),o.find("ul.bootpag").remove(),o.append(s.join("")).addClass("pagination"),t=o.find("ul.bootpag"),o.find("li").click(function(){var i=e(this);i.hasClass("disabled")||n(t,parseInt(i.attr("data-lp"),10))}),n(t,r.page)}))}}(e,window)}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/16x9View",["jquery","views/Ndn/Widget/VideoPlayer/AbstractView","views/Ndn/Shared/EndslateView","models/Ndn/VideoPlayer","models/Ndn/PlayerServices","models/Ndn/Widget","jquery_simplePagination","jquery_bootpag"],function(e,t,n,i,a){var r=12,o=8;return t.extend({events:{"click .ndn_selectableVideo":"onVideoSelect","click .ndn_playlistTabs li a":"onPlaylistSelect","click .ndn_overlayButton span":"hideShare","click .ndn_closeShare":"hideShare","click .ndn_pauseNext":"onUpNextClick","click .ndn_pausePrev":"onPrevClick","click .ndn_pauseShare":"overlayStop","click .ndn_pauseShareOtherPause":"showShare","click .ndn_shareCopyEmbedCodeText":"selectAllEmbed","click .ndn_shareCopyVideoLinkText":"selectAllVideo","click a.ndn_accordion-toggle":"onMobileAccordionClick"},elements:{pagesContainer:".ndn_playlistThumbnailsPages"},currentPage:1,usingDefaultPlaylist:!1,initialize:function(){t.prototype.initialize.apply(this,arguments),this.elements.pageContainer=this.$el.find(".ndn_playlistThumbnailsPages"),this.model.on("change:playlists",e.proxy(function(){this.updatePlaylistTabs()},this)),this.model.get("videoPlayer").on("embed",e.proxy(function(){this.model.get("playlists").length&&this.updatePlaylistTabs()},this)).on("videoUnavailable",e.proxy(function(){this.usingDefaultPlaylist=!0,this.model.set("playlists",[])},this)).on("adCompanion",e.proxy(function(e){this.showCompanion(e.data[0].data||e.data[0].content)},this)).on("adEnd",e.proxy(this.hideCompanion,this))},updatePlaylistTabs:function(){this.render(this.model.getTemplate("playlistTabs"),{playlists:this.model.get("playlists")},".ndn_playlistTabs"),this.updatePlaylistSelectedTab(this.model.get("videoPlayer").get("playlistId"))},onMobileAccordionClick:function(){return this.$el.find(".ndn_accordion .ndn_collapse").slideToggle(),!1},onPlaylistSelect:function(t){var n=e(t.currentTarget).data("playlistId");return a.getPlaylistData(n,this.model).done(e.proxy(function(e){var t=this.$el.find(".ndn_playlistThumbnailsPages"),n=t.hasClass("ndn_withCompanion")?o:r;this.updateSelectableVideos(n,e)},this)),!1},onVideoSelect:_.debounce(function(){this.model.trigger("videoSelect");var n=this.$el.find(".ndn_playlistTabs li.ndn_active a").data("playlistId")||this.model.get("videoPlayer").get("playlistId"),i=arguments;this.model.get("videoPlayer").loadPlaylist(n).done(e.proxy(function(){t.prototype.onVideoSelect.apply(this,i)},this))},500,!0),onUpNextClick:function(){this.model.get("videoPlayer").play(this.model.get("videoPlayer").get("currentVideoIndex")+1)},onPrevClick:function(){this.model.get("videoPlayer").play(this.model.get("videoPlayer").get("currentVideoIndex")-1)},showCompanion:function(e){var t=this.$el.find(".ndn_playlistThumbnailsPages");t.addClass("ndn_withCompanion");var n=t.prev("div.ndn_companion");this.displayCompanionAd(n,e),n.show(),this.updateSelectableVideos(o)},hideCompanion:function(){var e=this.$el.find(".ndn_playlistThumbnailsPages");e.removeClass("ndn_withCompanion"),e.prev("div.ndn_companion").html("").hide(),this.updateSelectableVideos()},updateSelectableVideos:function(t,n){if(_.isUndefined(t)&&(t=r),_.isUndefined(n)&&(n=this.model.get("videoPlayer").getPlaylistId()?this.model.get("videoPlayer").getActivePlaylistData():i.getCachedPlaylistData(this.model.get("playlists")[0].id)),n){var a=this.$el.find(".ndn_playlistThumbnailsPages"),o=this.$el.find(".ndn_playlistThumbnailsPagination"),s=1,l=0,d=n.items,u=a.find("ul.ndn_playlistThumbnailsPage:visible"),c=u.data("page-number");if(null===c)var p=1;else var h=o.data("paginationOptions").itemsOnPage,m=(c-1)*h+1,p=Math.ceil(m/t);var f=["pages",n.playlistId,t].join("_"),g=a.data(f);if(_.isUndefined(g)===!1)a.html(g);else{for(a.html("");d.length>0;){var y=d.slice(0,Math.min(d.length,t));e.proxy(function(t){var n=e(document.createElement("ul")).addClass("ndn_playlistThumbnailsPage").attr("data-page-number",s++).html(this.render(this.model.getTemplate("playlistThumbnailsPage"),{playlistItems:t,videoIndex:function(){return l++}},!0));a.append(n),n.hide()},this)(y),d=d.slice(y.length)}a.data(f,a.html())}o.pagination({items:n.items.length,itemsOnPage:t,cssStyle:"pagination-centered",onPageClick:e.proxy(function(e){this.displayPlaylistThumbnailPage(e)},this),prevText:"&laquo;",nextText:"&raquo;"}),this.displayPlaylistThumbnailPage(p),this.updatePlaylistSelectedTab(n.playlistId),this.updateSelectedVideo(),1===a.children().size()?o.hide():o.show()}},updatePlaylistSelectedTab:function(e){var t=this.$el.find(".ndn_playlistTabs"),n=t.find("li.ndn_active");n.children("a").data("playlistId")!==e&&(n.removeClass("ndn_active"),t.find("a[data-playlist-id="+e+"]").parents("li").addClass("ndn_active"))},displayPlaylistThumbnailPage:function(t){this.$el.find(".ndn_playlistThumbnailsPagination");var n=this.$el.find(".ndn_playlistThumbnailsPages");this.pageNumber=t,n.children("ul:visible").length?n.children("ul:visible").fadeOut("fast",function(){n.children("ul").each(function(i){t==i+1&&(e(this).fadeIn("fast"),n.find(".ndn_videoTitle:visible").ellipsis())})}):(n.children("ul:eq("+(t-1)+")").show(),n.find(".ndn_videoTitle:visible, .ndn_videoMeta").ellipsis({updateOnWindowResize:!0}))}})}),Ndn_Require.define("views/Ndn/Widget/VideoPlayer/Inline590View",["jquery","views/Ndn/Widget/VideoPlayer/AbstractView","models/Ndn/Utils/UserAgent","jquery_imagesloaded","jquery_bxslider"],function(e,t,n){return t.extend({events:{"click .ndn_selectableVideo":"onVideoSelect","click .ndn_sliderNext":"onNextClick","click .ndn_sliderPrev":"onPrevClick","click .ndn_closeShare":"hideShare","click .ndn_shareCopyEmbedCodeText":"selectAllEmbed","click .ndn_shareCopyVideoLinkText":"selectAllVideo"},carousel:null,slides:4,defaultSliderConfig:{},initialize:function(){t.prototype.initialize.apply(this,arguments),this.defaultSliderConfig={pager:!1,controls:!1,slideWidth:125,slideMargin:10,minSlides:4,maxSlides:4,onSliderLoad:function(){this.loadImagesForSlide(0),this.$el.find(".ndn_sliderNavButton").on("mouseenter",function(){e(this).addClass("ndn_hover"),(n.isMobile()||n.isOnIos())&&setTimeout(function(){e(this).removeClass("ndn_hover")}.bind(this),700)}),this.$el.find(".ndn_sliderNavButton").on("mouseleave",function(){e(this).removeClass("ndn_hover")})}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n)}.bind(this)},this.model.get("videoPlayer").on("video:loaded",function(){this.carousel.goToSlide(Math.floor(this.model.get("videoPlayer").get("currentVideoIndex")/4))}.bind(this))},initializeVideoPlayer:function(){this.initializeVideoPlayerForRmm()},onPrevClick:function(){this.carousel.goToPrevSlide()},onNextClick:function(){this.carousel.goToNextSlide()},onVideoSelect:_.debounce(function(n){this.hidePlayerOverlays();var i=e(n.currentTarget).data("video-id");return i==this.model.get("videoPlayer").getCurrentVideoId()?this.model.get("videoPlayer").play():t.prototype.onVideoSelect.apply(this,arguments),!1},1e3,!0),updateSelectableVideos:function(){var e=this.model.get("videoPlayer").getActivePlaylistData()?this.model.get("videoPlayer").getActivePlaylistData().items:[],t=0;if(_.isNull(this.model.get("videoPlayer").get("playlistId"))){var n=this.model.get("videoPlayer").get("playerData").playlists,i=n[_.first(_.keys(n))].items;e=e.concat(i),t=-1}this.render(this.model.getTemplate("selectableVideos"),{playlistItems:e,videoIndex:function(){return function(){return Math.max(t++,0)}}()},".ndn_selectableVideos"),_.isNull(this.carousel)?this.carousel=this.$el.find(".ndn_selectableVideos").bxSlider(this.defaultSliderConfig):this.carousel.reloadSlider(this.defaultSliderConfig),this.$el.find(".ndn_sliderThumbnailTitle p").ellipsis()}})}),Ndn_Require.define("views/Ndn/Widget/VideoLauncher/AbstractView",["jquery","views/Ndn/AbstractView","models/Ndn/Utils/UserAgent"],function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),this.model.get("videoPlayer")&&this.model.get("videoPlayer").on("embed",e.proxy(function(){this.initializeOverlays()},this))},initializeOverlays:function(){this.$el.append(e(document.createElement("div")).addClass("ndn_shareOverlay")).append(e(document.createElement("div")).addClass("ndn_pauseOverlayContainer")).append(e(document.createElement("div")).addClass("ndn_endslateOverlay"))},hidePlayerOverlays:function(){this.$el.find(".ndn_playerOverlay").hide()},onVideoSelect:function(t){this.hidePlayerOverlays();var n=e(t.currentTarget).data("video-index"),i=this.$el.find(".ndn_selectableVideos .ndn_selectableVideo");return i.removeClass("ndn_activeVideo"),i.filter(":eq("+n+")").addClass("ndn_activeVideo"),this.model.get("videoPlayer").play(n),this.model.get("videoPlayer").resetContinuousPlayCounter(),!1},onPlaylistSelect:function(t){return this.hidePlayerOverlays(),this.model.get("videoPlayer").load(0,e(t.target).data("playlist-id")),this.model.get("videoPlayer").resetContinuousPlayCounter(),!1},updateSelectableVideos:function(){this.render(this.model.getTemplate("selectableVideos"),{appUrl:Ndn_Widget.getAppUrl(),urlSuffix:Ndn_Widget.getAppUrlSuffix(),playlistItems:this.model.get("videoPlayer").getActivePlaylistData().items,videoIndex:function(){var e=0;return function(){return e++}}()},".ndn_selectableVideos")},openPlaylistPauseSlate:function(){this.hidePlayerOverlays(),new Ndn_Shared_EndslateView({el:".ndn_endslateOverlay",videoPlayer:this.model.get("videoPlayer"),type:"playlistPause"}).on("endslateShare",e.proxy(function(){this.showShare()},this)),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.find(".akamai-player")).show()},onVideoUnavailable:function(){this.hidePlayerOverlays(),new Ndn_Shared_EndslateView({el:".ndn_endslateOverlay",videoPlayer:this.model.get("videoPlayer"),type:"videoNotAvailable"}).on("endslateShare",e.proxy(function(){this.showShare()},this)),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.selector+" .akamai-player").show()},onMediaBlocked:function(){this.hidePlayerOverlays(),new Ndn_Shared_EndslateView({el:".ndn_endslateOverlay",videoPlayer:this.model.get("videoPlayer"),type:"mediaBlocked"}),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.selector+" .akamai-player").show()},onEndOfPlaylist:function(){var e=new Ndn_Shared_EndslateView({el:".ndn_endslateOverlay",videoPlayer:this.model.get("videoPlayer"),type:"endOfPlaylist"});e.on("endslateShare",function(){this.showShare()}.bind(this)),this.hidePlayerOverlays(),this.$el.find(".ndn_endslateOverlay").prependTo(this.$el.selector+" .akamai-player").show()},showShare:function(){e(".ndn_shareOverlay").toggle(),this.model.get("videoPlayer").play()},updateSelectedVideo:function(){var e=this.$el.find(".ndn_selectableVideos .ndn_selectableVideo");e.removeClass("ndn_activeVideo"),e.filter(":eq("+this.model.get("videoPlayer").get("currentVideoIndex")+")").addClass("ndn_activeVideo")},openNdnWindow:function(t){window.open(t,"ndnPlayer","scrollbars,resizable,width=768,height="+Math.min(e(window).innerHeight(),825),!1)}})}),Ndn_Require.define("views/Ndn/Widget/VideoLauncher/HorizontalView",["jquery","views/Ndn/Widget/VideoLauncher/AbstractView","models/Ndn/Utils/UserAgent","jquery_imagesloaded","jquery_bxslider","jquery_autoellipsis"],function(e,t){return t.extend({slides:4,events:{"click .ndn_sliderItems li a":"onThumbnailClick","click .ndn_sliderNext":"onNextClick","click .ndn_sliderPrev":"onPrevClick"},initialize:function(){t.prototype.initialize.apply(this,arguments),this.on("render",e.proxy(function(e){this.$el.addClass(e.params.launcherSize),this.model.set("carouselMaxSlides","ndn_horizontalSmall"==e.params.launcherSize?3:4),this.slides=this.model.get("carouselMaxSlides"),this.model.set("carousel",this.$el.find(".ndn_sliderItems").bxSlider({auto:!0,autoHover:!0,pause:7e3,pager:!1,controls:!1,slideWidth:120,slideMargin:6,minSlides:3,maxSlides:this.model.get("carouselMaxSlides"),onSliderLoad:function(){this.loadImagesForSlide(0)}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n)}.bind(this)})),this.$el.find("p").ellipsis()},this))},onPrevClick:function(){var e=this.model.get("carousel");e.stopAuto(),e.goToPrevSlide(),e.startAuto()},onNextClick:function(){var e=this.model.get("carousel");e.stopAuto(),e.goToNextSlide(),e.startAuto()},onThumbnailClick:function(t){var n=t.currentTarget;void 0!==e(n).attr("href")&&this.openNdnWindow(e(n).attr("href")),t.preventDefault()}})}),Ndn_Require.define("views/Ndn/Widget/VideoLauncher/Playlist300x250View",["jquery","views/Ndn/Widget/VideoLauncher/AbstractView","models/Ndn/Utils/UserAgent","models/Ndn/Widget","jquery_imagesloaded","jquery_bxslider"],function(e,t,n,i){return t.extend({events:{"click .ndn_sliderContainer li a":"onThumbnailClick","click .ndn_sliderNext":"onNextClick","click .ndn_sliderPrev":"onPrevClick","change .ndn_playlistSelectContainer select":"onSelectChange"},carousel:null,slides:4,defaultSliderConfig:{},initialize:function(){t.prototype.initialize.apply(this,arguments),this.defaultSliderConfig={pager:!1,controls:!1,slideWidth:300,auto:!0,autoHover:!0,pause:7e3,onSliderLoad:function(){this.loadImagesForSlide(0,".ndn_sliderPlaylistPane")}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n,".ndn_sliderPlaylistPane")}.bind(this)},n.isAbleToPlayVideoAutomatically()?this.model.get("videoPlayer").on("rmmEnd",e.proxy(function(){this.onTeaserFinished()},this)):this.model.get("videoPlayer").on("embed",e.proxy(function(){this.$el.find(".ndn_videoPlayerWrapper").hide()},this)).on("change:hasVideoLoaded",e.proxy(function(){this.onTeaserFinished(!1)},this)),this.model.get("videoPlayer").on("pause",e.proxy(function(){if(!this.model.get("videoPlayer").isPlayingAd()){var e=this.model.get("config"),t=_.first(this.model.get("videoPlayer").getActivePlaylistData().items),n=this.model.getLandingPageUrl()+"?type=VideoPlayer/16x9&widgetId="+e.widgetId+"&trackingGroup="+e.trackingGroup+"&playlistId="+e.playlistId+"&siteSection="+e.siteSection+"&videoId="+t.videoId+"&embedOriginUrl="+encodeURIComponent(i.getEmbedOriginUrl());this.openNdnWindow(n),this.onTeaserFinished()}},this))},onTeaserFinished:function(e){e=_.isUndefined(e)?!0:e,this.updateSelectableVideos(),this.updatePlaylistSelect(),e?this.$el.find(".ndn_videoPlayer").fadeTo(1e3,.01).fadeOut(1e3,function(){this.transitionToSlider()}.bind(this)):this.transitionToSlider()},transitionToSlider:function(){this.$el.find(".ndn_sliderPlaylistPane li:nth-child(odd)").addClass("ndn_odd"),this.$el.find(".ndn_videoPlayerWrapper").remove(),this.$el.find(".ndn_playlistSelectContainer").show(),this.$el.find(".ndn_sliderControls").show(),this.carousel.stopAuto(),this.carousel.goToSlide(0),this.carousel.startAuto()},updatePlaylistSelect:function(){this.render(this.model.getTemplate("playlistSelect"),{playlists:this.model.getPlaylistsList(),single:this.model.getPlaylistsList().length<=1},".ndn_playlistSelectContainer")},updateSelectableVideos:function(){var e=this.model.get("config"),t=_.first(this.model.get("videoPlayer").getActivePlaylistData().items,12);_.each(t,function(t){t.playerConfig={type:"VideoPlayer/16x9",widgetId:e.widgetId,trackingGroup:e.trackingGroup,playlistId:this.model.get("videoPlayer").getActivePlaylistData().playlistId}}.bind(this)),t=this.model.chunkPlaylist(t,4,12),this.render(this.model.getTemplate("selectableVideos"),{landingPageUrl:this.model.getLandingPageUrl(),appUrl:i.getAppUrl(),embedOriginUrl:encodeURIComponent(i.getEmbedOriginUrl()),urlSuffix:i.getAppUrlSuffix(),playlistItems:t,playlists:[this.model.get("videoPlayer").get("playlistId")],videoIndex:function(){var e=0;return function(){return e++}}()},".ndn_selectableVideos"),_.isNull(this.carousel)?this.carousel=this.$el.find(".ndn_selectableVideos").bxSlider(this.defaultSliderConfig):1==t.length?this.carousel.reloadSlider(_.extend(this.defaultSliderConfig,{auto:!1})):this.carousel.reloadSlider(this.defaultSliderConfig),1==t.length?this.$el.find(".ndn_sliderControls").hide():this.$el.find(".ndn_sliderControls").show(),this.$el.find(".ndn_sliderThumbnailOverlay p").ellipsis(),this.$el.find(".ndn_sliderPlaylistPane li:nth-child(odd)").addClass("ndn_odd")},onPrevClick:function(){this.carousel.stopAuto(),this.carousel.goToPrevSlide(),this.carousel.startAuto()},onNextClick:function(){this.carousel.stopAuto(),this.carousel.goToNextSlide(),this.carousel.startAuto()},onThumbnailClick:function(t){var n=t.currentTarget;void 0!==e(n).attr("href")&&this.openNdnWindow(e(n).attr("href")),t.preventDefault()},onSelectChange:function(e){this.model.get("videoPlayer").loadPlaylist(e.target.value).done(function(){this.updateSelectableVideos()}.bind(this))}})}),Ndn_Require.define("views/Ndn/Widget/VideoLauncher/VerticalTowerView",["jquery","views/Ndn/Widget/VideoLauncher/AbstractView","models/Ndn/Utils/UserAgent","jquery_imagesloaded","jquery_bxslider"],function(e,t){return t.extend({events:{"click .ndn_verticalTowerWrapper a":"onThumbnailClick","click .ndn_verticalTowerNavPrev":"onPrevClick","click .ndn_verticalTowerNavNext":"onNextClick"},carousel:null,slides:5,initialize:function(){this.on("render",function(){this.initCarousel()}.bind(this))},onPrevClick:function(){this.carousel.goToPrevSlide()},onNextClick:function(){this.carousel.goToNextSlide()},onThumbnailClick:function(t){var n=t.currentTarget;void 0!==e(n).attr("href")&&this.openNdnWindow(e(n).attr("href")),t.preventDefault()},initCarousel:function(){this.carousel=this.$el.find("ul").bxSlider({controls:!1,maxSlides:5,minSlides:5,mode:"vertical",pager:!1,slideMargin:3,onSliderLoad:function(){this.loadImagesForSlide(0)}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n)}.bind(this)})}})}),Ndn_Require.define("views/Ndn/Widget/VideoLauncher/Slider300x250View",["jquery","views/Ndn/Widget/VideoLauncher/AbstractView","models/Ndn/Utils/UserAgent","models/Ndn/Widget","jquery_imagesloaded","jquery_bxslider"],function(e,t,n,i){return t.extend({events:{"click .ndn_sliderContainer li a":"onThumbnailClick","click .ndn_sliderNext":"onNextClick","click .ndn_sliderPrev":"onPrevClick"},carousel:null,initialize:function(){t.prototype.initialize.apply(this,arguments),n.isAbleToPlayVideoAutomatically()?this.model.get("videoPlayer").on("rmmEnd",e.proxy(function(){this.onTeaserFinished()},this)):this.model.get("videoPlayer").on("embed",e.proxy(function(){this.$el.find(".ndn_videoPlayerWrapper").hide()},this)).on("change:hasVideoLoaded",e.proxy(function(){this.onTeaserFinished(!1)},this)),this.model.get("videoPlayer").on("pause",e.proxy(function(){if(!this.model.get("videoPlayer").isPlayingAd()){var e=this.model.get("config"),t=_.first(this.model.get("videoPlayer").getActivePlaylistData().items),n=this.model.getLandingPageUrl()+"?type=VideoPlayer/16x9&widgetId="+e.widgetId+"&trackingGroup="+e.trackingGroup+"&playlistId="+e.playlistId+"&siteSection="+e.siteSection+"&videoId="+t.videoId+"&embedOriginUrl="+encodeURIComponent(i.getEmbedOriginUrl());this.openNdnWindow(n),this.onTeaserFinished()}},this)),this.on("render",function(){this.$el.find(".ndn_pauseOverlayContainer, .ndn_shareOverlay, .ndn_endslateOverlay").remove()}.bind(this))},onTeaserFinished:function(e){e=_.isUndefined(e)?!0:e,this.updateSelectableVideos();var t={};t.$container=this.$el.find(".ndn_sliderContainer"),t.playlistLength=this.model.getCurrentPlaylistLength(),t.carousel=this.carousel,t.transitionToSlider=this.transitionToSlider,e?t.$container.find(".ndn_videoPlayer").fadeTo(1e3,.01).fadeOut(1e3,function(){this.transitionToSlider(t)}.bind(t)):this.transitionToSlider(t)},transitionToSlider:function(e){e.$container.find(".ndn_videoPlayerWrapper").remove(),e.playlistLength>1&&e.$container.find(".ndn_sliderControls").show(),e.carousel.stopAuto(),e.carousel.goToSlide(0),e.carousel.startAuto()},onPrevClick:function(){this.carousel.stopAuto(),this.carousel.goToPrevSlide(),this.carousel.startAuto()},onNextClick:function(){this.carousel.stopAuto(),this.carousel.goToNextSlide(),this.carousel.startAuto()},onThumbnailClick:function(t){var n=t.currentTarget;void 0!==e(n).attr("href")&&this.openNdnWindow(e(n).attr("href")),t.preventDefault()},updateSelectableVideos:function(){var e=this.model.get("config"),t=_.first(this.model.get("videoPlayer").getActivePlaylistData().items,6);_.each(t,function(t){t.playerConfig={type:"VideoPlayer/16x9",widgetId:e.widgetId,trackingGroup:e.trackingGroup,playlistId:e.playlistId},t.baseUrl=i.getAppUrl()}.bind(e)),this.render(this.model.getTemplate("selectableVideos"),{landingPageUrl:this.model.getLandingPageUrl(),appUrl:i.getAppUrl(),urlSuffix:i.getAppUrlSuffix(),playlistItems:t,embedOriginUrl:encodeURIComponent(i.getEmbedOriginUrl()),videoIndex:function(){var e=0;return function(){return e++}}()},".ndn_selectableVideos"),this.carousel=this.$el.find(".ndn_selectableVideos").bxSlider({pager:!1,controls:!1,slideWidth:300,auto:!0,autoHover:!0,pause:7e3,onSliderLoad:function(){this.loadImagesForSlide(0)}.bind(this),onSlideBefore:function(e,t,n){this.loadImagesForSlide(n)}.bind(this)})}})}),Ndn_Require.define("text!templates/ndn/lib/amp.premier/config/skin/ndn_assets_small.xml",[],function(){return"<application>\n	<player ad_control_enabled='true' ad_server_timeout='20'\n		branding_preload='none' core_player_name='ndn-player' dvr_enabled='0'\n		hds_live_low_latency='true' mbr_start_index='2'\n		netsession_install_prompt_frequency_secs='-1' show_feature_bar='false'\n		use_last_known_bitrate='false' use_netsession_client='false'>\n	</player>\n	<plugins>\n		<plugin host='osmf' type='dynamic' absolute='true' id='AkamaiAdvancedStreamingPlugin'>http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v2.11/osmf2.0/AkamaiAdvancedStreamingPlugin.swf</plugin>\n		<plugin host='osmf' type='static' id='OSMFCSMALoader'>com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo</plugin>\n		<plugin host='osmf' type='dynamic' id='CaptioningPlugin'>{{akamaiResourcesFolderUrl}}/plugins/CaptioningPlugin.swf</plugin>\n	</plugins>\n	<view skin='{{akamaiJsLibFolderUrl}}/ndn_assets_small.swf'>\n		<element id='adOptions'>\n			<element id='adChoices' target='http://assets.newsinc.com/info/adchoices.html' />\n			<element id='adCountdown' />\n		</element>\n		<element id='captionDisplay' style='bottom: 0px; opacity:1;' />\n		<element id='controls' scrubPosition='top' backgroundAlpha='.8' height='40' itemMargin='12' autoHideDelay='1' transitionTime='0.5'>\n			<element id='playPauseBtn' />\n			<element id='scrubBar' collapsedHeight='4' style='background: linear-gradient(90deg, #232323 #232323); height: 4px;' />\n			<element id='progressBar' style='background: linear-gradient(90deg, #0099CC #0099CC);' />\n			<element id='loadedBar' style='background: linear-gradient(90deg, #666666 #666666);' />\n			<element id='streamTimeIndicator' position='left'>\n				<element id='streamTime' />\n				<element id='streamDuration' color='#666666' />\n			</element>\n			<element id='shareBtn' />\n			<element id='facebookBtn' />\n			<element id='twitterBtn' />\n			<element id='volumeBar' backgroundColor='#111111' trackColor='#C1C1C3' color='#0099CC' position='relative' width='25' />\n			<element id='volumeBtn' />\n			<element id='fullscreenBtn' />\n		</element>\n	</view>\n</application>"}),Ndn_Require.define("text!templates/ndn/lib/amp.premier/config/skin/ndn_assets.xml",[],function(){return"<application>\n	<player ad_control_enabled='true' ad_server_timeout='20'\n		auto_replay='false' branding_preload='none' core_player_name='ndn-player'\n		dvr_enabled='0' fullscreen_enabled='true' hds_live_low_latency='true'\n		mbr_start_index='2' netsession_install_prompt_frequency_secs='-1'\n		show_feature_bar='false' use_last_known_bitrate='false'\n		use_netsession_client='false' volume='75'>\n	</player>\n	<plugins>\n		<plugin host='osmf' type='dynamic' absolute='true' id='AkamaiAdvancedStreamingPlugin'>http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v2.11/osmf2.0/AkamaiAdvancedStreamingPlugin.swf</plugin>\n		<plugin host='osmf' type='static' id='OSMFCSMALoader'>com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo</plugin>\n		<plugin host='osmf' type='dynamic' id='CaptioningPlugin'>{{akamaiResourcesFolderUrl}}/plugins/CaptioningPlugin.swf</plugin>\n	</plugins>\n	<view skin='{{akamaiJsLibFolderUrl}}/ndn_assets.swf'>\n		<element id='captionDisplay' style='bottom: 0px; opacity:1;' />\n		<element id='controls' scrubPosition='top' backgroundAlpha='.8' height='51' autoHideDelay='1' transitionTime='0.50'>\n			<element id='playPauseBtn' />\n			<element id='scrubBar' collapsedHeight='5' style='background: linear-gradient(90deg, #232323 #232323); height: 9px;' />\n			<element id='progressBar' style='background: linear-gradient(90deg, #0099CC #0099CC);' />\n			<element id='loadedBar' style='background: linear-gradient(90deg, #666666 #666666);' />\n			<element id='streamTimeIndicator' position='left'>\n				<element id='streamTime' />\n				<element id='streamDuration' color='#666666' />\n			</element>\n			<element id='shareBtn' />\n			<element id='facebookBtn' />\n			<element id='twitterBtn' />\n			<element id='volumeBar' backgroundColor='#111111' trackColor='#C1C1C3' color='#0099CC' position='relative' width='25' />\n			<element id='volumeBtn' />\n			<element id='fullscreenBtn' />\n		</element>\n	</view>\n</application>"}),Ndn_Require.define("text!templates/ndn/widget/vertical/default.mustache",[],function(){return'<div class="ndn_verticalTowerWrapper">\n    <ul>\n    {{#playlistItems}}\n        <li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo" >\n        	<a href="{{landingPageUrl}}?type=VideoPlayer/16x9&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{playerConfig.videoId}}&embedOriginUrl={{embedOriginUrl}}{{lessc}}">\n	        	<img data-src="{{thumbnailUrl}}"/>\n	        	<div class="ndn_verticalThumbnailPlay"></div>\n	    		<p>{{videoTitle}}</p>\n            </a>\n        </li>\n    {{/playlistItems}}\n    </ul>\n</div>\n<div class="ndn_verticalTowerNav">\n    <a class="ndn_verticalTowerNavNext">Next</a>\n    <a class="ndn_verticalTowerNavPrev">Previous</a>\n</div>'}),Ndn_Require.define("text!templates/ndn/widget/16x9/default.mustache",[],function(){return'<div class="ndn_16-9-wrapper">\n    <div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n</div>\n<!--LARGE DISPLAY CATEGORIES TABS START-->\n<ul class="ndn_nav ndn_nav-tabs ndn_lite ndn_playlistTabs ndn_playlistSelectorMenu">\n</ul>\n<!--LARGE DISPLAY CATEGORIES TABS END--> \n<!--SMALL DISPLAY CATEGORIES TABS START-->\n<div class="ndn_accordion" id="accordion2">\n    <div class="ndn_accordion-group">\n        <div class="ndn_accordion-heading"></div>\n        <div class="ndn_openNav">\n        	<a class="ndn_accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne"></a>\n        </div>\n        <div id="collapseOne" class="ndn_accordion-body ndn_in ndn_collapse">\n            <div class="ndn_accordion-inner">\n                <ul class="ndn_nav ndn_nav-tabs ndn_lite ndn_nav-phone ndn_playlistTabs"></ul>\n            </div>\n        </div>\n    </div>\n</div>\n<!--SMALL DISPLAY CATEGORIES TABS END--> \n<!--COMPANION CONTAINER START-->\n<div class="ndn_companion"></div>\n<!--COMPANION CONTAINER END-->\n<!--THUMBNAILS START-->\n<div class="ndn_playlistThumbnailsPages ndn_selectableVideos">\n</div>\n<!--THUMBNAILS END--> \n<!--PAGINATION START-->\n<div class="ndn_playlistThumbnailsPagination ndn_js_pagination ndn_pagination ndn_pagination-centered"></div>\n<!--PAGINATION START-->'}),Ndn_Require.define("text!templates/ndn/widget/16x9/playlistThumbnailsPage.mustache",[],function(){return'{{#playlistItems}}\n	<li class="ndn_selectableVideo ndn_thumb ndn_js_playlistLi" data-video-id="{{videoId}}" data-video-index="{{videoIndex}}">\n    	<div class="ndn_selectableVideoInner">\n    		<div class="ndn_thumbContainer">    			\n    			<img class="ndn_thbImage" src="{{thumbnailUrl}}" title="{{videoTitle}}" />\n    			<div class="ndn_nowPlaying">Now Playing</div>\n    			<div class="ndn_upcomingVideo">Up Next</div>\n    		</div>\n    		<p class="ndn_videoTitle">{{videoTitle}}</p>\n    		<p class="ndn_videoMeta">{{displayDuration}} / {{#producer}}{{name}}{{/producer}}</p>\n    	</div>\n	</li>\n{{/playlistItems}}'
}),Ndn_Require.define("text!templates/ndn/widget/16x9/playlistTabs.mustache",[],function(){return'{{#playlists}}\n	<li><a href="#" data-playlist-id="{{id}}">{{label}}</a></li>\n{{/playlists}}'}),Ndn_Require.define("text!templates/ndn/widget/horizontal/default.mustache",[],function(){return'<div class="ndn_sliderPrev ndn_sliderNavButton"></div>\n<div class="ndn_sliderWrapper">\n	<ul class="ndn_sliderItems">\n	{{#playlistItems}}\n		<li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo">\n			<a href="{{landingPageUrl}}?type={{playerConfig.type}}&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{playerConfig.videoId}}&embedOriginUrl={{embedOriginUrl}}{{lessc}}">\n				<div class="ndn_sliderThumbnailImageWrapper">\n					<img data-src="{{thumbnailUrl}}"/>\n					<div class="ndn_sliderThumbnailPlay"></div>\n				</div>\n				<div class="ndn_sliderThumbnailOverlay">\n					<p>{{videoTitle}}</p>\n				</div>\n			</a>\n		</li>\n	{{/playlistItems}}\n	</ul>\n</div>\n<div class="ndn_sliderNext ndn_sliderNavButton"></div>'}),Ndn_Require.define("text!templates/ndn/widget/video-player/inline590/default.mustache",[],function(){return'<div id="{{playerContainerElementId}}"></div>\n<div class="ndn_sliderPrev ndn_sliderNavButton"></div>\n<div class="ndn_sliderWrapper">\n	<ul class="ndn_sliderItems ndn_selectableVideos"></ul>\n</div>\n<div class="ndn_sliderNext ndn_sliderNavButton"></div>\n'}),Ndn_Require.define("text!templates/ndn/widget/video-player/inline590/selectableVideos.mustache",[],function(){return'{{#playlistItems}}\n    <li class="ndn_selectableVideo {{#first}}ndn_nowPlaying{{/first}}" data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}">\n    	<div class="ndn_thumbContainer ndn_sliderThumbnailImageWrapper">\n        	<img data-src="{{thumbnailUrl}}"/>\n        	<div class="ndn_nowPlaying">Now Playing</div>\n        	<div class="ndn_upcomingVideo">Up Next</div>\n        	<div class="ndn_sliderThumbnailOverlay">\n        		{{displayDuration}}\n        	</div>\n            <div class="ndn_sliderThumbnailPlay"></div>\n    	</div>\n    	<div class="ndn_sliderThumbnailTitle">\n    		<p>{{videoTitle}}</p>\n    	</div>\n    </li>\n{{/playlistItems}}\n'}),Ndn_Require.define("text!templates/ndn/widget/video-player/default/default.mustache",[],function(){return'<div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n<div style="clear: both;"></div>'}),Ndn_Require.define("text!templates/ndn/widget/video-player/default/selectableVideos.mustache",[],function(){return'{{#playlistItems}}\n    <li>\n        <img src="{{thumbnailUrl}}" data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" />\n    </li>\n{{/playlistItems}}'}),Ndn_Require.define("text!templates/ndn/widget/video-player/inline300/default.mustache",[],function(){return'<div class="ndn_videoPlayerHeader">\n	<div class="ndn_videoProviderLogo"></div>\n	<span class="ndn_videoTitle"></span>\n	<span class="ndn_videoProvider"></span>\n</div>\n<div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n<ul class="ndn_selectableVideos"></ul>\n<div class="ndn_adCompanion"></div>\n<div style="clear: both;"></div>'}),Ndn_Require.define("text!templates/ndn/widget/video-player/inline300/selectableVideos.mustache",[],function(){return'{{#playlistItems}}\n    <li class="ndn_selectableVideo" data-video-index="{{videoIndex}}" data-video-id="{{videoId}}">\n    	<div class="ndn_thumbnail">\n        	<img src="{{thumbnailUrl}}" alt="{{videoTitle}}" />\n        	<span class="ndn_videoDuration">{{displayDuration}}</span>\n        	<span class="ndn_nowPlaying">Now Playing</span>\n        	<span class="ndn_upcomingVideo">Up Next</span>\n        	<span class="ndn_playVideoIcon"></span>\n        </div>\n        <span class="ndn_videoTitle">{{videoTitle}}</span>\n        <span class="ndn_videoDescription">{{description}}</span>\n    </li>\n{{/playlistItems}}'}),Ndn_Require.define("text!templates/ndn/widget/video-player/playlist300x250/default.mustache",[],function(){return'<div class="ndn_sliderContainer">\n	<div class="ndn_playlistSelectContainer">\n		{{#single}}\n			<h2>\n				Today\'s Videos - {{#playlists}}{{title}}{{/playlists}}\n			</h2>\n		{{/single}}\n		{{^single}}\n			<select>\n				{{#playlists}}\n				<option value="{{id}}" {{#currentPlaylist}}selected{{/currentPlaylist}}>{{title}}</option>\n				{{/playlists}}\n			</select>\n		{{/single}}\n	</div>\n	<ul class="ndn_sliderItems">\n		<li class="ndn_sliderPlayerItem">\n			<div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n		</li>\n	{{#playlistItems}}\n		<li>\n			<ul class="ndn_sliderPlaylistPane">\n		{{#.}}\n		    <li>\n		    	<a href="../../landing-page.html?type={{playerConfig.type}}&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{playerConfig.videoId}}&autoplay=1">\n			    	<header class="ndn_sliderThumbnailOverlay">\n			    		<p>{{videoTitle}}</p>\n			    	</header>\n			    	<div class="ndn_sliderThumbnailPlay"></div>\n		        	<img src="{{thumbnailUrl}}" data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" />\n		        </a>\n		    </li>\n	    {{/.}}\n	    	</ul>\n		</li>\n	{{/playlistItems}}\n	</ul>\n	<div class="ndn_sliderControls">\n		<div class="ndn_sliderPrev ndn_sliderNavButton"></div>\n		<div class="ndn_sliderNext ndn_sliderNavButton"></div>\n	</div>\n</div>'}),Ndn_Require.define("text!templates/ndn/widget/video-player/playlist300x250/slider.mustache",[],function(){return'{{#playlistItems}}\n	<li>\n		<ul class="ndn_sliderPlaylistPane">\n		{{#.}}\n		    <li>\n		    	<a href="../../landing-page.html?type={{playerConfig.type}}&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{playerConfig.videoId}}&autoplay=1">\n			    	<header class="ndn_sliderThumbnailOverlay">\n			    		<p>{{videoTitle}}</p>\n			    	</header>\n		        	<img src="{{thumbnailUrl}}" data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" />\n		        </a>\n		    </li>\n    	{{/.}}\n    	</ul>\n	</li>\n{{/playlistItems}}'}),Ndn_Require.define("text!templates/ndn/widget/slider300x250/default.mustache",[],function(){return'<div class="ndn_sliderContainer">\n	<div class="ndn_videoPlayerWrapper">\n		<div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n	</div>\n	<ul class="ndn_sliderItems ndn_selectableVideos"></ul>\n	<div class="ndn_sliderControls">\n		<div class="ndn_sliderPrev ndn_sliderNavButton">\n			<div class="ndn_arrow"></div>\n		</div>\n		<div class="ndn_sliderNext ndn_sliderNavButton">\n			<div class="ndn_arrow"></div>\n		</div>\n	</div>\n</div>'}),Ndn_Require.define("text!templates/ndn/widget/slider300x250/selectableVideos.mustache",[],function(){return'{{#playlistItems}}\n    <li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo">\n    	<a href="{{landingPageUrl}}?type={{playerConfig.type}}&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{videoId}}&embedOriginUrl={{embedOriginUrl}}">\n	    	<header class="ndn_sliderThumbnailOverlay">\n	    		<div class="ndn_playButton"></div>\n	    		<p>{{videoTitle}}</p>\n	    		<img data-src="{{producer.logoUrl}}" class="ndn_providerLogo"/>\n	    	</header>\n        	<img data-src="{{stillImageUrl}}"/>\n        </a>\n    </li>\n{{/playlistItems}}'}),Ndn_Require.define("text!templates/ndn/widget/playlist300x250/playlistSelect.mustache",[],function(){return'{{#single}}\n	<h2>\n		Today\'s Videos - {{#playlists}}{{title}}{{/playlists}}\n	</h2>\n{{/single}}\n{{^single}}\n	<select>\n		{{#playlists}}\n		<option value="{{id}}" {{#currentPlaylist}}selected{{/currentPlaylist}}>{{label}}</option>\n		{{/playlists}}\n	</select>\n{{/single}}'}),Ndn_Require.define("text!templates/ndn/widget/playlist300x250/default.mustache",[],function(){return'<div class="ndn_sliderContainer">\n	<div class="ndn_playlistSelectContainer">\n	</div>\n	<div class="ndn_videoPlayerWrapper">\n		<div id="{{playerContainerElementId}}" class="ndn_playerContainer"></div>\n	</div>\n	<ul class="ndn_sliderItems ndn_selectableVideos"></ul>\n	<div class="ndn_sliderControls">\n		<div class="ndn_sliderPrev ndn_sliderNavButton">\n			<div class="ndn_arrow"></div>\n		</div>\n		<div class="ndn_sliderNext ndn_sliderNavButton">\n			<div class="ndn_arrow"></div>\n		</div>\n	</div>\n</div>'}),Ndn_Require.define("text!templates/ndn/widget/playlist300x250/selectableVideos.mustache",[],function(){return'{{#playlistItems}}\n	<li>\n		<ul class="ndn_sliderPlaylistPane">\n	{{#.}}\n	    <li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo">\n	    	<a href="{{landingPageUrl}}?type={{playerConfig.type}}&widgetId={{playerConfig.widgetId}}&trackingGroup={{playerConfig.trackingGroup}}&playlistId={{playerConfig.playlistId}}&videoId={{videoId}}&embedOriginUrl={{embedOriginUrl}}">\n            	<div class="ndn_thumbnailPlayButton">Play This Video</div>\n		    	<header class="ndn_sliderThumbnailOverlay">\n		    		<p>{{videoTitle}}</p>\n		    	</header>\n	        	<img data-src="{{stillImageUrl}}" />\n	        </a>\n	    </li>\n    {{/.}}\n    	</ul>\n	</li>\n{{/playlistItems}}'}),Ndn_Require.define("text!templates/ndn/video-player/pause-overlay/share-icons.html",[],function(){return'<ul>\n	<li class="ndn_pauseShareFacebookPause">\n		<a class="ndn_a_shareFacebook" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/facebook/offer?url={{singleVideoFeed}}&title={{currentTitle}}&pubid={{pubId}}&ct=1"></a>\n	</li>\n	<li class="ndn_pauseShareTwitterPause">\n		<a class="ndn_a_shareTwitter" target="_blank" href="http://api.addthis.com/oexchange/0.8/forward/twitter/offer?url={{singleVideoFeed}}&title={{currentTitle}}&description={{currentDescription}}&screenshot={{currentThumb}}&pubid={{pubId}}&ct=1"></a>\n	</li>\n	<li class="ndn_pauseShareEmailPause">\n		<a class="addthis_button_email ndn_a_shareEmail" addthis:url="{{singleVideoFeed}}" addthis:title="Check out this video: \'{{currentTitle}}\'" addthis:description="{{currentDescription}}"></a>\n	</li>\n	<li class="ndn_pauseShareOtherPause">\n		<a href="#ndn-widget-embed-1-player"></a>\n	</li>\n</ul>'}),Ndn_Require.define("text!templates/ndn/video-player/pause-overlay/thumbnail-carousel.html",[],function(){return'<div class="ndn_sliderPrev ndn_sliderNavButton"></div>\n<div class="ndn_sliderWrapper">\n	<ul class="ndn_sliderItems ndn_selectableVideos">\n		{{#playlistItems}}\n			<li data-video-id="{{videoId}}" title="{{videoTitle}}" data-video-index="{{videoIndex}}" class="ndn_selectableVideo">\n				<a href="#">\n					<div class="ndn_sliderThumbnailImageWrapper">\n						<img src="{{thumbnailUrl}}" />\n						<div class="ndn_sliderThumbnailPlay"></div>\n						<div class="ndn_nowPlayingOverlay">\n							<p>Now Playing</p>\n						</div>\n						<div class="ndn_sliderThumbnailOverlay">{{displayDuration}}</div>\n					</div>\n					<div class="ndn_sliderThumbnailTitle">\n						<p>{{videoTitle}}</p>\n					</div>\n				</a>\n			</li>\n		{{/playlistItems}}\n	</ul>\n</div>\n<div class="ndn_sliderNext ndn_sliderNavButton"></div>\n'}),Ndn_Require.define("text!templates/ndn/video-player/pause-overlay/overlay-with-carousel.html",[],function(){return'<div class="ndn_pauseOverlay ndn_pauseOverlaySingle">\n    <div class="ndn_pauseVideoInfo">\n        <h1>{{currentTitle}}</h1>\n        <p>{{currentDescription}}</p>\n        <img class="ndn_pauseVideoLogo" src="{{producerLogo}}" />\n    </div>\n    \n    <div class="ndn_playAndShareWrapper">\n        <div class="ndn_pausePlayButton"></div>\n        <div class="addthis_toolbox ndn_pauseShare"></div>\n    </div>\n\n    <div class="ndn_sliderAndNavWrapper ndn_thumbnailCarousel"></div>\n    \n    <img class="ndn_pauseBackground" src="{{backgroundImage}}" />\n    <div class="ndn_pauseBackgroundOverlay"></div>\n</div>\n'}),Ndn_Require.define("text!templates/ndn/video-player/pause-overlay/overlay.html",[],function(){return'<div class="ndn_pauseOverlay">\n    <div class="ndn_pauseVideoInfo">\n        <h1>{{currentTitle}}</h1>\n        <p>{{currentDescription}}</p>\n        <img class="ndn_pauseVideoLogo" src="{{producerLogo}}" />\n    </div>\n    \n    <div class="ndn_pausePrevNextButtons"></div>\n    \n    <div class="addthis_toolbox ndn_pauseShare"></div>\n    \n	<div class="ndn_pausePlayButton"></div>\n</div>'}),Ndn_Require.define("text!templates/ndn/video-player/pause-overlay/previous-and-next-videos.html",[],function(){return'<div class="ndn_pausePrevNextButton ndn_pausePrev">\n	<div class="ndn_pausePrevNextHeader ndn_pausePrevHeader">Previous</div>\n	<div class="ndn_prevNextImageWrap">\n		<img class="ndn_upPrevLink" src="{{prevThumb}}" data-video-id="{{videoId}}" title="{{prevTitle}}" data-video-index="{{prevVideoIndex}}" />\n		<div class="ndn_pauseStateDuration ndn_durationMinutes ndn_js_prevDuration">{{prevDuration}}</div>\n	</div>\n	<div class="ndn_videoMetaPause">\n		<div class="ndn_pausePrevDescription">{{prevTitle}}</div>\n	</div>\n</div>\n<div class="ndn_pausePrevNextButton ndn_pauseNext">\n	<div class="ndn_pausePrevNextHeader ndn_pauseNextHeader">Up Next</div>\n	<div class="ndn_prevNextImageWrap">\n		<img class="ndn_upNextLink" src="{{nextThumb}}" data-video-id="{{videoId}}" title="{{nextTitle}}" data-video-index="{{nextVideoIndex}}" />\n		<p class="ndn_pauseStateDuration ndn_durationMinutes ndn_js_nextDuration">{{nextDuration}}</p>\n	</div>\n	<div class="ndn_videoMetaPause">\n		<div class="ndn_pauseNextDescription">{{nextTitle}}</div>\n	</div>\n</div>'}),Ndn_Require.define("embed",function(){});